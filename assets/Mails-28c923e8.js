import{m as $n,r as Y,l as Xa,j as S,h as Qa}from"./index-b92ad479.js";import{T as Za,a as Ja,b as ks}from"./Table-8f73397b.js";import{M as gt,F as Se}from"./Form-39720e29.js";import{a as Qn,g as je,i as xe,j as Zn,b as ol,k as mt,c as Di,e as bi,u as ec,l as tc,m as fn,n as hn,o as nc,p as rc}from"./DefaultLayout-dca0b3b8.js";import{O as ic}from"./index.es-f1a080d1.js";import{m as ll}from"./jalali-moment-abb1df22.js";import{a as at}from"./axios-f13eed09.js";import{S as dt}from"./sweetalert2.all-58ecf48c.js";import"./cil-user-5af1b2f2.js";var ul={exports:{}},pn={exports:{}};/**
 * @license
 * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */pn.exports;var Is;function nt(){return Is||(Is=1,function(e,t){(function(){var n,r=[],o=[],l=0,s=+new Date+"",a=75,f=40,i=` 	\v\f \uFEFF
\r\u2028\u2029 ᠎             　`,c=/\b__p \+= '';/g,g=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,p=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v=/\w*$/,w=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,C=RegExp("^["+i+"]*0+(?=.$)"),N=/($^)/,k=/\bthis\b/,F=/['\n\r\t\u2028\u2029\\]/g,B=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],X=0,U="[object Arguments]",pe="[object Array]",q="[object Boolean]",H="[object Date]",ve="[object Function]",te="[object Number]",ne="[object Object]",re="[object RegExp]",ie="[object String]",Q={};Q[ve]=!1,Q[U]=Q[pe]=Q[q]=Q[H]=Q[te]=Q[ne]=Q[re]=Q[ie]=!0;var ge={leading:!1,maxWait:0,trailing:!1},fe={configurable:!1,enumerable:!1,value:null,writable:!1},oe={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=oe[typeof window]&&window||this,ye=t&&!t.nodeType&&t,Ve=e&&!e.nodeType&&e,rt=Ve&&Ve.exports===ye&&ye,lt=oe[typeof $n]&&$n;lt&&(lt.global===lt||lt.window===lt)&&(K=lt);function Et(j,W,se){for(var ue=(se||0)-1,me=j?j.length:0;++ue<me;)if(j[ue]===W)return ue;return-1}function It(j,W){var se=typeof W;if(j=j.cache,se=="boolean"||W==null)return j[W]?0:-1;se!="number"&&se!="string"&&(se="object");var ue=se=="number"?W:s+W;return j=(j=j[se])&&j[ue],se=="object"?j&&Et(j,W)>-1?0:-1:j?0:-1}function bn(j){var W=this.cache,se=typeof j;if(se=="boolean"||j==null)W[j]=!0;else{se!="number"&&se!="string"&&(se="object");var ue=se=="number"?j:s+j,me=W[se]||(W[se]={});se=="object"?(me[ue]||(me[ue]=[])).push(j):me[ue]=!0}}function Ut(j){return j.charCodeAt(0)}function mr(j,W){for(var se=j.criteria,ue=W.criteria,me=-1,Ie=se.length;++me<Ie;){var De=se[me],we=ue[me];if(De!==we){if(De>we||typeof De>"u")return 1;if(De<we||typeof we>"u")return-1}}return j.index-W.index}function Yt(j){var W=-1,se=j.length,ue=j[0],me=j[se/2|0],Ie=j[se-1];if(ue&&typeof ue=="object"&&me&&typeof me=="object"&&Ie&&typeof Ie=="object")return!1;var De=Xt();De.false=De.null=De.true=De.undefined=!1;var we=Xt();for(we.array=j,we.cache=De,we.push=bn;++W<se;)we.push(j[W]);return we}function Cn(j){return"\\"+z[j]}function it(){return r.pop()||[]}function Xt(){return o.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function Me(j){j.length=0,r.length<f&&r.push(j)}function Rt(j){var W=j.cache;W&&Rt(W),j.array=j.cache=j.criteria=j.object=j.number=j.string=j.value=null,o.length<f&&o.push(j)}function de(j,W,se){W||(W=0),typeof se>"u"&&(se=j?j.length:0);for(var ue=-1,me=se-W||0,Ie=Array(me<0?0:me);++ue<me;)Ie[ue]=j[W+ue];return Ie}function Qt(j){j=j?bt.defaults(K.Object(),j,bt.pick(K,B)):K;var W=j.Array,se=j.Boolean,ue=j.Date,me=j.Function,Ie=j.Math,De=j.Number,we=j.Object,O=j.RegExp,P=j.String,J=j.TypeError,le=[],be=we.prototype,jt=j._,Re=be.toString,hu=O("^"+P(Re).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),pu=Ie.ceil,Tn=j.clearTimeout,du=Ie.floor,gu=me.prototype.toString,Ht=Tt(Ht=we.getPrototypeOf)&&Ht,$e=be.hasOwnProperty,Zt=le.push,Jt=j.setTimeout,is=le.splice,mu=le.unshift,ss=function(){try{var u={},h=Tt(h=we.defineProperty)&&h,m=h(u,u,u)&&h}catch{}return m}(),Ln=Tt(Ln=we.create)&&Ln,vr=Tt(vr=W.isArray)&&vr,vu=j.isFinite,yu=j.isNaN,Nn=Tt(Nn=we.keys)&&Nn,ut=Ie.max,en=Ie.min,yr=j.parseInt,os=Ie.random,yt={};yt[pe]=W,yt[q]=se,yt[H]=ue,yt[ve]=me,yt[ne]=we,yt[te]=De,yt[re]=O,yt[ie]=P;function b(u){return u&&typeof u=="object"&&!Fe(u)&&$e.call(u,"__wrapped__")?u:new Mt(u)}function Mt(u,h){this.__chain__=!!h,this.__wrapped__=u}Mt.prototype=b.prototype;var tn=b.support={};tn.funcDecomp=!Tt(j.WinRTError)&&k.test(Qt),tn.funcNames=typeof me.name=="string",b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:b}};function xu(u){var h=u[0],m=u[2],y=u[4];function x(){if(m){var _=de(m);Zt.apply(_,arguments)}if(this instanceof x){var T=nn(h.prototype),L=h.apply(T,_||arguments);return Ue(L)?L:T}return h.apply(y,_||arguments)}return Er(x,u),x}function xr(u,h,m,y,x){if(m){var _=m(u);if(typeof _<"u")return _}var T=Ue(u);if(T){var L=Re.call(u);if(!Q[L])return u;var A=yt[L];switch(L){case q:case H:return new A(+u);case te:case ie:return new A(u);case re:return _=A(u.source,v.exec(u)),_.lastIndex=u.lastIndex,_}}else return u;var I=Fe(u);if(h){var R=!y;y||(y=it()),x||(x=it());for(var D=y.length;D--;)if(y[D]==u)return x[D];_=I?A(u.length):{}}else _=I?de(u):In({},u);return I&&($e.call(u,"index")&&(_.index=u.index),$e.call(u,"input")&&(_.input=u.input)),h&&(y.push(u),x.push(_),(I?He:Ee)(u,function(G,Ce){_[Ce]=xr(G,h,m,y,x)}),R&&(Me(y),Me(x))),_}function nn(u,h){return Ue(u)?Ln(u):{}}Ln||(nn=function(){function u(){}return function(h){if(Ue(h)){u.prototype=h;var m=new u;u.prototype=null}return m||j.Object()}}());function We(u,h,m){if(typeof u!="function")return Rr;if(typeof h>"u"||!("prototype"in u))return u;var y=u.__bindData__;if(typeof y>"u"&&(tn.funcNames&&(y=!u.name),y=y||!tn.funcDecomp,!y)){var x=gu.call(u);tn.funcNames||(y=!w.test(x)),y||(y=k.test(x),Er(u,y))}if(y===!1||y!==!0&&y[1]&1)return u;switch(m){case 1:return function(_){return u.call(h,_)};case 2:return function(_,T){return u.call(h,_,T)};case 3:return function(_,T,L){return u.call(h,_,T,L)};case 4:return function(_,T,L,A){return u.call(h,_,T,L,A)}}return Cs(u,h)}function ls(u){var h=u[0],m=u[1],y=u[2],x=u[3],_=u[4],T=u[5],L=m&1,A=m&2,I=m&4,R=m&8,D=h;function G(){var Ce=L?_:this;if(y){var _e=de(y);Zt.apply(_e,arguments)}if((x||I)&&(_e||(_e=de(arguments)),x&&Zt.apply(_e,x),I&&_e.length<T))return m|=16,ls([h,R?m:m&-4,_e,null,_,T]);if(_e||(_e=arguments),A&&(h=Ce[D]),this instanceof G){Ce=nn(h.prototype);var Ye=h.apply(Ce,_e);return Ue(Ye)?Ye:Ce}return h.apply(Ce,_e)}return Er(G,u),G}function rn(u,h){var m=-1,y=An(),x=u?u.length:0,_=x>=a&&y===Et,T=[];if(_){var L=Yt(h);L?(y=It,h=L):_=!1}for(;++m<x;){var A=u[m];y(h,A)<0&&T.push(A)}return _&&Rt(h),T}function Ct(u,h,m,y){for(var x=(y||0)-1,_=u?u.length:0,T=[];++x<_;){var L=u[x];if(L&&typeof L=="object"&&typeof L.length=="number"&&(Fe(L)||kn(L))){h||(L=Ct(L,h,m));var A=-1,I=L.length,R=T.length;for(T.length+=I;++A<I;)T[R++]=L[A]}else m||T.push(L)}return T}function zt(u,h,m,y,x,_){if(m){var T=m(u,h);if(typeof T<"u")return!!T}if(u===h)return u!==0||1/u==1/h;var L=typeof u,A=typeof h;if(u===u&&!(u&&oe[L])&&!(h&&oe[A]))return!1;if(u==null||h==null)return u===h;var I=Re.call(u),R=Re.call(h);if(I==U&&(I=ne),R==U&&(R=ne),I!=R)return!1;switch(I){case q:case H:return+u==+h;case te:return u!=+u?h!=+h:u==0?1/u==1/h:u==+h;case re:case ie:return u==P(h)}var D=I==pe;if(!D){var G=$e.call(u,"__wrapped__"),Ce=$e.call(h,"__wrapped__");if(G||Ce)return zt(G?u.__wrapped__:u,Ce?h.__wrapped__:h,m,y,x,_);if(I!=ne)return!1;var _e=u.constructor,Ye=h.constructor;if(_e!=Ye&&!(Te(_e)&&_e instanceof _e&&Te(Ye)&&Ye instanceof Ye)&&"constructor"in u&&"constructor"in h)return!1}var st=!x;x||(x=it()),_||(_=it());for(var ze=x.length;ze--;)if(x[ze]==u)return _[ze]==h;var Le=0;if(T=!0,x.push(u),_.push(h),D){if(ze=u.length,Le=h.length,T=Le==ze,T||y)for(;Le--;){var Dn=ze,un=h[Le];if(y)for(;Dn--&&!(T=zt(u[Dn],un,m,y,x,_)););else if(!(T=zt(u[Le],un,m,y,x,_)))break}}else xt(h,function(an,cn,Mr){if($e.call(Mr,cn))return Le++,T=$e.call(u,cn)&&zt(u[cn],an,m,y,x,_)}),T&&!y&&xt(u,function(an,cn,Mr){if($e.call(Mr,cn))return T=--Le>-1});return x.pop(),_.pop(),st&&(Me(x),Me(_)),T}function us(u,h,m,y,x){(Fe(h)?He:Ee)(h,function(_,T){var L,A,I=_,R=u[T];if(_&&((A=Fe(_))||Tr(_))){for(var D=y.length;D--;)if(L=y[D]==_){R=x[D];break}if(!L){var G;m&&(I=m(R,_),(G=typeof I<"u")&&(R=I)),G||(R=A?Fe(R)?R:[]:Tr(R)?R:{}),y.push(_),x.push(R),G||us(R,_,m,y,x)}}else m&&(I=m(R,_),typeof I>"u"&&(I=_)),typeof I<"u"&&(R=I);u[T]=R})}function wr(u,h){return u+du(os()*(h-u+1))}function _r(u,h,m){var y=-1,x=An(),_=u?u.length:0,T=[],L=!h&&_>=a&&x===Et,A=m||L?it():T;if(L){var I=Yt(A);x=It,A=I}for(;++y<_;){var R=u[y],D=m?m(R,y,u):R;(h?!y||A[A.length-1]!==D:x(A,D)<0)&&((m||L)&&A.push(D),T.push(R))}return L?(Me(A.array),Rt(A)):m&&Me(A),T}function Sr(u){return function(h,m,y){var x={};m=b.createCallback(m,y,3);var _=-1,T=h?h.length:0;if(typeof T=="number")for(;++_<T;){var L=h[_];u(x,L,m(L,_,h),h)}else Ee(h,function(A,I,R){u(x,A,m(A,I,R),R)});return x}}function ct(u,h,m,y,x,_){var T=h&1,L=h&2,A=h&4,I=h&16,R=h&32;if(!L&&!Te(u))throw new J;I&&!m.length&&(h&=-17,I=m=!1),R&&!y.length&&(h&=-33,R=y=!1);var D=u&&u.__bindData__;if(D&&D!==!0)return D=de(D),D[2]&&(D[2]=de(D[2])),D[3]&&(D[3]=de(D[3])),T&&!(D[1]&1)&&(D[4]=x),!T&&D[1]&1&&(h|=8),A&&!(D[1]&4)&&(D[5]=_),I&&Zt.apply(D[2]||(D[2]=[]),m),R&&mu.apply(D[3]||(D[3]=[]),y),D[1]|=h,ct.apply(null,D);var G=h==1||h===17?xu:ls;return G([u,h,m,y,x,_])}function wu(u){return br[u]}function An(){var u=(u=b.indexOf)===ws?Et:u;return u}function Tt(u){return typeof u=="function"&&hu.test(u)}var Er=ss?function(u,h){fe.value=h,ss(u,"__bindData__",fe),fe.value=null}:Ls;function as(u){var h,m;return!(u&&Re.call(u)==ne)||(h=u.constructor,Te(h)&&!(h instanceof h))?!1:(xt(u,function(y,x){m=x}),typeof m>"u"||$e.call(u,m))}function _u(u){return cs[u]}function kn(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Re.call(u)==U||!1}var Fe=vr||function(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Re.call(u)==pe||!1},Su=function(u){var h,m=u,y=[];if(!m||!oe[typeof u])return y;for(h in m)$e.call(m,h)&&y.push(h);return y},Be=Nn?function(u){return Ue(u)?Nn(u):[]}:Su,br={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cs=hs(br),Eu=O("("+Be(cs).join("|")+")","g"),bu=O("["+Be(br).join("")+"]","g"),In=function(u,h,m){var y,x=u,_=x;if(!x)return _;var T=arguments,L=0,A=typeof m=="number"?2:T.length;if(A>3&&typeof T[A-2]=="function")var I=We(T[--A-1],T[A--],2);else A>2&&typeof T[A-1]=="function"&&(I=T[--A]);for(;++L<A;)if(x=T[L],x&&oe[typeof x])for(var R=-1,D=oe[typeof x]&&Be(x),G=D?D.length:0;++R<G;)y=D[R],_[y]=I?I(_[y],x[y]):x[y];return _};function Cu(u,h,m,y){return typeof h!="boolean"&&h!=null&&(y=m,m=h,h=!1),xr(u,h,typeof m=="function"&&We(m,y,1))}function Tu(u,h,m){return xr(u,!0,typeof h=="function"&&We(h,m,1))}function Lu(u,h){var m=nn(u);return h?In(m,h):m}var Cr=function(u,h,m){var y,x=u,_=x;if(!x)return _;for(var T=arguments,L=0,A=typeof m=="number"?2:T.length;++L<A;)if(x=T[L],x&&oe[typeof x])for(var I=-1,R=oe[typeof x]&&Be(x),D=R?R.length:0;++I<D;)y=R[I],typeof _[y]>"u"&&(_[y]=x[y]);return _};function Nu(u,h,m){var y;return h=b.createCallback(h,m,3),Ee(u,function(x,_,T){if(h(x,_,T))return y=_,!1}),y}function Au(u,h,m){var y;return h=b.createCallback(h,m,3),fs(u,function(x,_,T){if(h(x,_,T))return y=_,!1}),y}var xt=function(u,h,m){var y,x=u,_=x;if(!x||!oe[typeof x])return _;h=h&&typeof m>"u"?h:We(h,m,3);for(y in x)if(h(x[y],y,u)===!1)return _;return _};function ku(u,h,m){var y=[];xt(u,function(_,T){y.push(T,_)});var x=y.length;for(h=We(h,m,3);x--&&h(y[x--],y[x],u)!==!1;);return u}var Ee=function(u,h,m){var y,x=u,_=x;if(!x||!oe[typeof x])return _;h=h&&typeof m>"u"?h:We(h,m,3);for(var T=-1,L=oe[typeof x]&&Be(x),A=L?L.length:0;++T<A;)if(y=L[T],h(x[y],y,u)===!1)return _;return _};function fs(u,h,m){var y=Be(u),x=y.length;for(h=We(h,m,3);x--;){var _=y[x];if(h(u[_],_,u)===!1)break}return u}function sn(u){var h=[];return xt(u,function(m,y){Te(m)&&h.push(y)}),h.sort()}function Iu(u,h){return u?$e.call(u,h):!1}function hs(u){for(var h=-1,m=Be(u),y=m.length,x={};++h<y;){var _=m[h];x[u[_]]=_}return x}function Ru(u){return u===!0||u===!1||u&&typeof u=="object"&&Re.call(u)==q||!1}function ju(u){return u&&typeof u=="object"&&Re.call(u)==H||!1}function Mu(u){return u&&u.nodeType===1||!1}function Du(u){var h=!0;if(!u)return h;var m=Re.call(u),y=u.length;return m==pe||m==ie||m==U||m==ne&&typeof y=="number"&&Te(u.splice)?!y:(Ee(u,function(){return h=!1}),h)}function Fu(u,h,m,y){return zt(u,h,typeof m=="function"&&We(m,y,2))}function qu(u){return vu(u)&&!yu(parseFloat(u))}function Te(u){return typeof u=="function"}function Ue(u){return!!(u&&oe[typeof u])}function Pu(u){return ps(u)&&u!=+u}function Ou(u){return u===null}function ps(u){return typeof u=="number"||u&&typeof u=="object"&&Re.call(u)==te||!1}var Tr=Ht?function(u){if(!(u&&Re.call(u)==ne))return!1;var h=u.valueOf,m=Tt(h)&&(m=Ht(h))&&Ht(m);return m?u==m||Ht(u)==m:as(u)}:as;function $u(u){return u&&typeof u=="object"&&Re.call(u)==re||!1}function on(u){return typeof u=="string"||u&&typeof u=="object"&&Re.call(u)==ie||!1}function Bu(u){return typeof u>"u"}function Uu(u,h,m){var y={};return h=b.createCallback(h,m,3),Ee(u,function(x,_,T){y[_]=h(x,_,T)}),y}function Hu(u){var h=arguments,m=2;if(!Ue(u))return u;if(typeof h[2]!="number"&&(m=h.length),m>3&&typeof h[m-2]=="function")var y=We(h[--m-1],h[m--],2);else m>2&&typeof h[m-1]=="function"&&(y=h[--m]);for(var x=de(arguments,1,m),_=-1,T=it(),L=it();++_<m;)us(u,x[_],y,T,L);return Me(T),Me(L),u}function zu(u,h,m){var y={};if(typeof h!="function"){var x=[];xt(u,function(A,I){x.push(I)}),x=rn(x,Ct(arguments,!0,!1,1));for(var _=-1,T=x.length;++_<T;){var L=x[_];y[L]=u[L]}}else h=b.createCallback(h,m,3),xt(u,function(A,I,R){h(A,I,R)||(y[I]=A)});return y}function Gu(u){for(var h=-1,m=Be(u),y=m.length,x=W(y);++h<y;){var _=m[h];x[h]=[_,u[_]]}return x}function Ku(u,h,m){var y={};if(typeof h!="function")for(var x=-1,_=Ct(arguments,!0,!1,1),T=Ue(u)?_.length:0;++x<T;){var L=_[x];L in u&&(y[L]=u[L])}else h=b.createCallback(h,m,3),xt(u,function(A,I,R){h(A,I,R)&&(y[I]=A)});return y}function Vu(u,h,m,y){var x=Fe(u);if(m==null)if(x)m=[];else{var _=u&&u.constructor,T=_&&_.prototype;m=nn(T)}return h&&(h=b.createCallback(h,y,4),(x?He:Ee)(u,function(L,A,I){return h(m,L,A,I)})),m}function Rn(u){for(var h=-1,m=Be(u),y=m.length,x=W(y);++h<y;)x[h]=u[m[h]];return x}function Wu(u){for(var h=arguments,m=-1,y=Ct(h,!0,!1,1),x=h[2]&&h[2][h[1]]===u?1:y.length,_=W(x);++m<x;)_[m]=u[y[m]];return _}function ds(u,h,m){var y=-1,x=An(),_=u?u.length:0,T=!1;return m=(m<0?ut(0,_+m):m)||0,Fe(u)?T=x(u,h,m)>-1:typeof _=="number"?T=(on(u)?u.indexOf(h,m):x(u,h,m))>-1:Ee(u,function(L){if(++y>=m)return!(T=L===h)}),T}var Yu=Sr(function(u,h,m){$e.call(u,m)?u[m]++:u[m]=1});function gs(u,h,m){var y=!0;h=b.createCallback(h,m,3);var x=-1,_=u?u.length:0;if(typeof _=="number")for(;++x<_&&(y=!!h(u[x],x,u)););else Ee(u,function(T,L,A){return y=!!h(T,L,A)});return y}function jn(u,h,m){var y=[];h=b.createCallback(h,m,3);var x=-1,_=u?u.length:0;if(typeof _=="number")for(;++x<_;){var T=u[x];h(T,x,u)&&y.push(T)}else Ee(u,function(L,A,I){h(L,A,I)&&y.push(L)});return y}function Lr(u,h,m){h=b.createCallback(h,m,3);var y=-1,x=u?u.length:0;if(typeof x=="number")for(;++y<x;){var _=u[y];if(h(_,y,u))return _}else{var T;return Ee(u,function(L,A,I){if(h(L,A,I))return T=L,!1}),T}}function Xu(u,h,m){var y;return h=b.createCallback(h,m,3),Mn(u,function(x,_,T){if(h(x,_,T))return y=x,!1}),y}function He(u,h,m){var y=-1,x=u?u.length:0;if(h=h&&typeof m>"u"?h:We(h,m,3),typeof x=="number")for(;++y<x&&h(u[y],y,u)!==!1;);else Ee(u,h);return u}function Mn(u,h,m){var y=u?u.length:0;if(h=h&&typeof m>"u"?h:We(h,m,3),typeof y=="number")for(;y--&&h(u[y],y,u)!==!1;);else{var x=Be(u);y=x.length,Ee(u,function(_,T,L){return T=x?x[--y]:--y,h(L[T],T,L)})}return u}var Qu=Sr(function(u,h,m){($e.call(u,m)?u[m]:u[m]=[]).push(h)}),Zu=Sr(function(u,h,m){u[m]=h});function Ju(u,h){var m=de(arguments,2),y=-1,x=typeof h=="function",_=u?u.length:0,T=W(typeof _=="number"?_:0);return He(u,function(L){T[++y]=(x?h:L[h]).apply(L,m)}),T}function ln(u,h,m){var y=-1,x=u?u.length:0;if(h=b.createCallback(h,m,3),typeof x=="number")for(var _=W(x);++y<x;)_[y]=h(u[y],y,u);else _=[],Ee(u,function(T,L,A){_[++y]=h(T,L,A)});return _}function ms(u,h,m){var y=-1/0,x=y;if(typeof h!="function"&&m&&m[h]===u&&(h=null),h==null&&Fe(u))for(var _=-1,T=u.length;++_<T;){var L=u[_];L>x&&(x=L)}else h=h==null&&on(u)?Ut:b.createCallback(h,m,3),He(u,function(A,I,R){var D=h(A,I,R);D>y&&(y=D,x=A)});return x}function ea(u,h,m){var y=1/0,x=y;if(typeof h!="function"&&m&&m[h]===u&&(h=null),h==null&&Fe(u))for(var _=-1,T=u.length;++_<T;){var L=u[_];L<x&&(x=L)}else h=h==null&&on(u)?Ut:b.createCallback(h,m,3),He(u,function(A,I,R){var D=h(A,I,R);D<y&&(y=D,x=A)});return x}var Nr=ln;function Ar(u,h,m,y){if(!u)return m;var x=arguments.length<3;h=b.createCallback(h,y,4);var _=-1,T=u.length;if(typeof T=="number")for(x&&(m=u[++_]);++_<T;)m=h(m,u[_],_,u);else Ee(u,function(L,A,I){m=x?(x=!1,L):h(m,L,A,I)});return m}function vs(u,h,m,y){var x=arguments.length<3;return h=b.createCallback(h,y,4),Mn(u,function(_,T,L){m=x?(x=!1,_):h(m,_,T,L)}),m}function ta(u,h,m){return h=b.createCallback(h,m,3),jn(u,function(y,x,_){return!h(y,x,_)})}function na(u,h,m){if(u&&typeof u.length!="number"&&(u=Rn(u)),h==null||m)return u?u[wr(0,u.length-1)]:n;var y=ys(u);return y.length=en(ut(0,h),y.length),y}function ys(u){var h=-1,m=u?u.length:0,y=W(typeof m=="number"?m:0);return He(u,function(x){var _=wr(0,++h);y[h]=y[_],y[_]=x}),y}function ra(u){var h=u?u.length:0;return typeof h=="number"?h:Be(u).length}function xs(u,h,m){var y;h=b.createCallback(h,m,3);var x=-1,_=u?u.length:0;if(typeof _=="number")for(;++x<_&&!(y=h(u[x],x,u)););else Ee(u,function(T,L,A){return!(y=h(T,L,A))});return!!y}function ia(u,h,m){var y=-1,x=Fe(h),_=u?u.length:0,T=W(typeof _=="number"?_:0);for(x||(h=b.createCallback(h,m,3)),He(u,function(A,I,R){var D=T[++y]=Xt();x?D.criteria=ln(h,function(G){return A[G]}):(D.criteria=it())[0]=h(A,I,R),D.index=y,D.value=A}),_=T.length,T.sort(mr);_--;){var L=T[_];T[_]=L.value,x||Me(L.criteria),Rt(L)}return T}function sa(u){return u&&typeof u.length=="number"?de(u):Rn(u)}var oa=jn;function la(u){for(var h=-1,m=u?u.length:0,y=[];++h<m;){var x=u[h];x&&y.push(x)}return y}function ua(u){return rn(u,Ct(arguments,!0,!0,1))}function aa(u,h,m){var y=-1,x=u?u.length:0;for(h=b.createCallback(h,m,3);++y<x;)if(h(u[y],y,u))return y;return-1}function ca(u,h,m){var y=u?u.length:0;for(h=b.createCallback(h,m,3);y--;)if(h(u[y],y,u))return y;return-1}function kr(u,h,m){var y=0,x=u?u.length:0;if(typeof h!="number"&&h!=null){var _=-1;for(h=b.createCallback(h,m,3);++_<x&&h(u[_],_,u);)y++}else if(y=h,y==null||m)return u?u[0]:n;return de(u,0,en(ut(0,y),x))}function fa(u,h,m,y){return typeof h!="boolean"&&h!=null&&(y=m,m=typeof h!="function"&&y&&y[h]===u?null:h,h=!1),m!=null&&(u=ln(u,m,y)),Ct(u,h)}function ws(u,h,m){if(typeof m=="number"){var y=u?u.length:0;m=m<0?ut(0,y+m):m||0}else if(m){var x=_s(u,h);return u[x]===h?x:-1}return Et(u,h,m)}function ha(u,h,m){var y=0,x=u?u.length:0;if(typeof h!="number"&&h!=null){var _=x;for(h=b.createCallback(h,m,3);_--&&h(u[_],_,u);)y++}else y=h==null||m?1:h||y;return de(u,0,en(ut(0,x-y),x))}function pa(){for(var u=[],h=-1,m=arguments.length,y=it(),x=An(),_=x===Et,T=it();++h<m;){var L=arguments[h];(Fe(L)||kn(L))&&(u.push(L),y.push(_&&L.length>=a&&Yt(h?u[h]:T)))}var A=u[0],I=-1,R=A?A.length:0,D=[];e:for(;++I<R;){var G=y[0];if(L=A[I],(G?It(G,L):x(T,L))<0){for(h=m,(G||T).push(L);--h;)if(G=y[h],(G?It(G,L):x(u[h],L))<0)continue e;D.push(L)}}for(;m--;)G=y[m],G&&Rt(G);return Me(y),Me(T),D}function da(u,h,m){var y=0,x=u?u.length:0;if(typeof h!="number"&&h!=null){var _=x;for(h=b.createCallback(h,m,3);_--&&h(u[_],_,u);)y++}else if(y=h,y==null||m)return u?u[x-1]:n;return de(u,ut(0,x-y))}function ga(u,h,m){var y=u?u.length:0;for(typeof m=="number"&&(y=(m<0?ut(0,y+m):en(m,y-1))+1);y--;)if(u[y]===h)return y;return-1}function ma(u){for(var h=arguments,m=0,y=h.length,x=u?u.length:0;++m<y;)for(var _=-1,T=h[m];++_<x;)u[_]===T&&(is.call(u,_--,1),x--);return u}function va(u,h,m){u=+u||0,m=typeof m=="number"?m:+m||1,h==null&&(h=u,u=0);for(var y=-1,x=ut(0,pu((h-u)/(m||1))),_=W(x);++y<x;)_[y]=u,u+=m;return _}function ya(u,h,m){var y=-1,x=u?u.length:0,_=[];for(h=b.createCallback(h,m,3);++y<x;){var T=u[y];h(T,y,u)&&(_.push(T),is.call(u,y--,1),x--)}return _}function Ir(u,h,m){if(typeof h!="number"&&h!=null){var y=0,x=-1,_=u?u.length:0;for(h=b.createCallback(h,m,3);++x<_&&h(u[x],x,u);)y++}else y=h==null||m?1:ut(0,h);return de(u,y)}function _s(u,h,m,y){var x=0,_=u?u.length:x;for(m=m?b.createCallback(m,y,1):Rr,h=m(h);x<_;){var T=x+_>>>1;m(u[T])<h?x=T+1:_=T}return x}function xa(){return _r(Ct(arguments,!0,!0))}function Ss(u,h,m,y){return typeof h!="boolean"&&h!=null&&(y=m,m=typeof h!="function"&&y&&y[h]===u?null:h,h=!1),m!=null&&(m=b.createCallback(m,y,3)),_r(u,h,m)}function wa(u){return rn(u,de(arguments,1))}function _a(){for(var u=-1,h=arguments.length;++u<h;){var m=arguments[u];if(Fe(m)||kn(m))var y=y?_r(rn(y,m).concat(rn(m,y))):m}return y||[]}function Es(){for(var u=arguments.length>1?arguments:arguments[0],h=-1,m=u?ms(Nr(u,"length")):0,y=W(m<0?0:m);++h<m;)y[h]=Nr(u,h);return y}function bs(u,h){var m=-1,y=u?u.length:0,x={};for(!h&&y&&!Fe(u[0])&&(h=[]);++m<y;){var _=u[m];h?x[_]=h[m]:_&&(x[_[0]]=_[1])}return x}function Sa(u,h){if(!Te(h))throw new J;return function(){if(--u<1)return h.apply(this,arguments)}}function Cs(u,h){return arguments.length>2?ct(u,17,de(arguments,2),null,h):ct(u,1,null,null,h)}function Ea(u){for(var h=arguments.length>1?Ct(arguments,!0,!1,1):sn(u),m=-1,y=h.length;++m<y;){var x=h[m];u[x]=ct(u[x],1,null,null,u)}return u}function ba(u,h){return arguments.length>2?ct(h,19,de(arguments,2),null,u):ct(h,3,null,null,u)}function Ca(){for(var u=arguments,h=u.length;h--;)if(!Te(u[h]))throw new J;return function(){for(var m=arguments,y=u.length;y--;)m=[u[y].apply(this,m)];return m[0]}}function Ta(u,h){return h=typeof h=="number"?h:+h||u.length,ct(u,4,null,null,null,h)}function Ts(u,h,m){var y,x,_,T,L,A,I,R=0,D=!1,G=!0;if(!Te(u))throw new J;if(h=ut(0,h)||0,m===!0){var Ce=!0;G=!1}else Ue(m)&&(Ce=m.leading,D="maxWait"in m&&(ut(h,m.maxWait)||0),G="trailing"in m?m.trailing:G);var _e=function(){var st=h-(Dt()-T);if(st<=0){x&&Tn(x);var ze=I;x=A=I=n,ze&&(R=Dt(),_=u.apply(L,y),!A&&!x&&(y=L=null))}else A=Jt(_e,st)},Ye=function(){A&&Tn(A),x=A=I=n,(G||D!==h)&&(R=Dt(),_=u.apply(L,y),!A&&!x&&(y=L=null))};return function(){if(y=arguments,T=Dt(),L=this,I=G&&(A||!Ce),D===!1)var st=Ce&&!A;else{!x&&!Ce&&(R=T);var ze=D-(T-R),Le=ze<=0;Le?(x&&(x=Tn(x)),R=T,_=u.apply(L,y)):x||(x=Jt(Ye,ze))}return Le&&A?A=Tn(A):!A&&h!==D&&(A=Jt(_e,h)),st&&(Le=!0,_=u.apply(L,y)),Le&&!A&&!x&&(y=L=null),_}}function La(u){if(!Te(u))throw new J;var h=de(arguments,1);return Jt(function(){u.apply(n,h)},1)}function Na(u,h){if(!Te(u))throw new J;var m=de(arguments,2);return Jt(function(){u.apply(n,m)},h)}function Aa(u,h){if(!Te(u))throw new J;var m=function(){var y=m.cache,x=h?h.apply(this,arguments):s+arguments[0];return $e.call(y,x)?y[x]:y[x]=u.apply(this,arguments)};return m.cache={},m}function ka(u){var h,m;if(!Te(u))throw new J;return function(){return h||(h=!0,m=u.apply(this,arguments),u=null),m}}function Ia(u){return ct(u,16,de(arguments,1))}function Ra(u){return ct(u,32,null,de(arguments,1))}function ja(u,h,m){var y=!0,x=!0;if(!Te(u))throw new J;return m===!1?y=!1:Ue(m)&&(y="leading"in m?m.leading:y,x="trailing"in m?m.trailing:x),ge.leading=y,ge.maxWait=h,ge.trailing=x,Ts(u,h,ge)}function Ma(u,h){return ct(h,16,[u])}function Da(u){return function(){return u}}function Fa(u,h,m){var y=typeof u;if(u==null||y=="function")return We(u,h,m);if(y!="object")return Ns(u);var x=Be(u),_=x[0],T=u[_];return x.length==1&&T===T&&!Ue(T)?function(L){var A=L[_];return T===A&&(T!==0||1/T==1/A)}:function(L){for(var A=x.length,I=!1;A--&&(I=zt(L[x[A]],u[x[A]],null,!0)););return I}}function qa(u){return u==null?"":P(u).replace(bu,wu)}function Rr(u){return u}function jr(u,h,m){var y=!0,x=h&&sn(h);(!h||!m&&!x.length)&&(m==null&&(m=h),_=Mt,h=u,u=b,x=sn(h)),m===!1?y=!1:Ue(m)&&"chain"in m&&(y=m.chain);var _=u,T=Te(_);He(x,function(L){var A=u[L]=h[L];T&&(_.prototype[L]=function(){var I=this.__chain__,R=this.__wrapped__,D=[R];Zt.apply(D,arguments);var G=A.apply(u,D);if(y||I){if(R===G&&Ue(G))return this;G=new _(G),G.__chain__=I}return G})})}function Pa(){return j._=jt,this}function Ls(){}var Dt=Tt(Dt=ue.now)&&Dt||function(){return new ue().getTime()},Oa=yr(i+"08")==8?yr:function(u,h){return yr(on(u)?u.replace(C,""):u,h||0)};function Ns(u){return function(h){return h[u]}}function $a(u,h,m){var y=u==null,x=h==null;if(m==null&&(typeof u=="boolean"&&x?(m=u,u=1):!x&&typeof h=="boolean"&&(m=h,x=!0)),y&&x&&(h=1),u=+u||0,x?(h=u,u=0):h=+h||0,m||u%1||h%1){var _=os();return en(u+_*(h-u+parseFloat("1e-"+((_+"").length-1))),h)}return wr(u,h)}function Ba(u,h){if(u){var m=u[h];return Te(m)?u[h]():m}}function Ua(u,h,m){var y=b.templateSettings;u=P(u||""),m=Cr({},m,y);var x=Cr({},m.imports,y.imports),_=Be(x),T=Rn(x),L,A=0,I=m.interpolate||N,R="__p += '",D=O((m.escape||N).source+"|"+I.source+"|"+(I===E?p:N).source+"|"+(m.evaluate||N).source+"|$","g");u.replace(D,function(st,ze,Le,Dn,un,an){return Le||(Le=Dn),R+=u.slice(A,an).replace(F,Cn),ze&&(R+=`' +
__e(`+ze+`) +
'`),un&&(L=!0,R+=`';
`+un+`;
__p += '`),Le&&(R+=`' +
((__t = (`+Le+`)) == null ? '' : __t) +
'`),A=an+st.length,st}),R+=`';
`;var G=m.variable,Ce=G;Ce||(G="obj",R="with ("+G+`) {
`+R+`
}
`),R=(L?R.replace(c,""):R).replace(g,"$1").replace(d,"$1;"),R="function("+G+`) {
`+(Ce?"":G+" || ("+G+` = {});
`)+"var __t, __p = '', __e = _.escape"+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var _e=`
/*
//# sourceURL=`+(m.sourceURL||"/lodash/template/source["+X+++"]")+`
*/`;try{var Ye=me(_,"return "+R+_e).apply(n,T)}catch(st){throw st.source=R,st}return h?Ye(h):(Ye.source=R,Ye)}function Ha(u,h,m){u=(u=+u)>-1?u:0;var y=-1,x=W(u);for(h=We(h,m,1);++y<u;)x[y]=h(y);return x}function za(u){return u==null?"":P(u).replace(Eu,_u)}function Ga(u){var h=++l;return P(u??"")+h}function Ka(u){return u=new Mt(u),u.__chain__=!0,u}function Va(u,h){return h(u),u}function Wa(){return this.__chain__=!0,this}function Ya(){return P(this.__wrapped__)}function As(){return this.__wrapped__}return b.after=Sa,b.assign=In,b.at=Wu,b.bind=Cs,b.bindAll=Ea,b.bindKey=ba,b.chain=Ka,b.compact=la,b.compose=Ca,b.constant=Da,b.countBy=Yu,b.create=Lu,b.createCallback=Fa,b.curry=Ta,b.debounce=Ts,b.defaults=Cr,b.defer=La,b.delay=Na,b.difference=ua,b.filter=jn,b.flatten=fa,b.forEach=He,b.forEachRight=Mn,b.forIn=xt,b.forInRight=ku,b.forOwn=Ee,b.forOwnRight=fs,b.functions=sn,b.groupBy=Qu,b.indexBy=Zu,b.initial=ha,b.intersection=pa,b.invert=hs,b.invoke=Ju,b.keys=Be,b.map=ln,b.mapValues=Uu,b.max=ms,b.memoize=Aa,b.merge=Hu,b.min=ea,b.omit=zu,b.once=ka,b.pairs=Gu,b.partial=Ia,b.partialRight=Ra,b.pick=Ku,b.pluck=Nr,b.property=Ns,b.pull=ma,b.range=va,b.reject=ta,b.remove=ya,b.rest=Ir,b.shuffle=ys,b.sortBy=ia,b.tap=Va,b.throttle=ja,b.times=Ha,b.toArray=sa,b.transform=Vu,b.union=xa,b.uniq=Ss,b.values=Rn,b.where=oa,b.without=wa,b.wrap=Ma,b.xor=_a,b.zip=Es,b.zipObject=bs,b.collect=ln,b.drop=Ir,b.each=He,b.eachRight=Mn,b.extend=In,b.methods=sn,b.object=bs,b.select=jn,b.tail=Ir,b.unique=Ss,b.unzip=Es,jr(b),b.clone=Cu,b.cloneDeep=Tu,b.contains=ds,b.escape=qa,b.every=gs,b.find=Lr,b.findIndex=aa,b.findKey=Nu,b.findLast=Xu,b.findLastIndex=ca,b.findLastKey=Au,b.has=Iu,b.identity=Rr,b.indexOf=ws,b.isArguments=kn,b.isArray=Fe,b.isBoolean=Ru,b.isDate=ju,b.isElement=Mu,b.isEmpty=Du,b.isEqual=Fu,b.isFinite=qu,b.isFunction=Te,b.isNaN=Pu,b.isNull=Ou,b.isNumber=ps,b.isObject=Ue,b.isPlainObject=Tr,b.isRegExp=$u,b.isString=on,b.isUndefined=Bu,b.lastIndexOf=ga,b.mixin=jr,b.noConflict=Pa,b.noop=Ls,b.now=Dt,b.parseInt=Oa,b.random=$a,b.reduce=Ar,b.reduceRight=vs,b.result=Ba,b.runInContext=Qt,b.size=ra,b.some=xs,b.sortedIndex=_s,b.template=Ua,b.unescape=za,b.uniqueId=Ga,b.all=gs,b.any=xs,b.detect=Lr,b.findWhere=Lr,b.foldl=Ar,b.foldr=vs,b.include=ds,b.inject=Ar,jr(function(){var u={};return Ee(b,function(h,m){b.prototype[m]||(u[m]=h)}),u}(),!1),b.first=kr,b.last=da,b.sample=na,b.take=kr,b.head=kr,Ee(b,function(u,h){var m=h!=="sample";b.prototype[h]||(b.prototype[h]=function(y,x){var _=this.__chain__,T=u(this.__wrapped__,y,x);return!_&&(y==null||x&&!(m&&typeof y=="function"))?T:new Mt(T,_)})}),b.VERSION="2.4.2",b.prototype.chain=Wa,b.prototype.toString=Ya,b.prototype.value=As,b.prototype.valueOf=As,He(["join","pop","shift"],function(u){var h=le[u];b.prototype[u]=function(){var m=this.__chain__,y=h.apply(this.__wrapped__,arguments);return m?new Mt(y,m):y}}),He(["push","reverse","sort","unshift"],function(u){var h=le[u];b.prototype[u]=function(){return h.apply(this.__wrapped__,arguments),this}}),He(["concat","slice","splice"],function(u){var h=le[u];b.prototype[u]=function(){return new Mt(h.apply(this.__wrapped__,arguments),this.__chain__)}}),b}var bt=Qt();ye&&Ve?rt?(Ve.exports=bt)._=bt:ye._=bt:K._=bt}).call($n)}(pn,pn.exports)),pn.exports}const sc="quilljs",oc="0.18.1",lc="Cross browser rich text editor",uc="Jason Chen <jhchen7@gmail.com>",ac="http://quilljs.com",cc=["Byron Milligan <byronner@gmail.com>","Keegan Poppen <keegan.poppen@gmail.com>"],fc="index.js",hc={eventemitter2:"~0.4.13",lodash:"~2.4.1","rich-text":"~1.0.2"},pc={async:"~0.9.0","coffee-script":"~1.8.0",coffeeify:"~0.7.0",glob:"~4.0.4",grunt:"~0.4.3","grunt-browserify":"~2.1.0","grunt-contrib-clean":"~0.6.0","grunt-contrib-coffee":"~0.12.0","grunt-contrib-compress":"~0.12.0","grunt-contrib-concat":"~0.5.0","grunt-contrib-connect":"~0.8.0","grunt-contrib-copy":"~0.7.0","grunt-contrib-stylus":"~0.18.0","grunt-contrib-uglify":"~0.6.0","grunt-karma":"~0.9.0","grunt-lodash":"~0.3.0","grunt-protractor-runner":"~1.1.0","grunt-sauce-connect-launcher":"~0.3.0",harp:"~0.14.0",istanbul:"~0.3.0",jquery:"~2.1.1",karma:"~0.12.0","karma-chrome-launcher":"~0.1.2","karma-coffee-preprocessor":"~0.2.1","karma-coverage":"~0.2.0","karma-firefox-launcher":"~0.1.3","karma-html2js-preprocessor":"~0.1.0","karma-jasmine":"~0.2.0","karma-phantomjs-launcher":"~0.1.2","karma-safari-launcher":"~0.1.1","karma-sauce-launcher":"~0.2.2","load-grunt-tasks":"~0.6.0",protractor:"~1.3.1",stylus:"~0.49.2",watchify:"~0.10.2"},dc={node:">=0.10"},gc="BSD-3-Clause",mc={type:"git",url:"https://github.com/quilljs/quill"},vc={url:"https://github.com/quilljs/quill/issues"},yc={prepublish:"grunt coffee:quill",postpublish:"grunt clean:coffee",test:"grunt test"},xc=["editor","rich text","wysiwyg"],wc={name:sc,version:oc,description:lc,author:uc,homepage:ac,contributors:cc,main:fc,dependencies:hc,devDependencies:pc,engines:dc,license:gc,repository:mc,bugs:vc,scripts:yc,keywords:xc};var Dr,Rs;function _c(){if(Rs)return Dr;Rs=1;var e=-1,t=1,n=0;function r(d,p){if(d==p)return d?[[n,d]]:[];var v=a(d,p),w=d.substring(0,v);d=d.substring(v),p=p.substring(v),v=f(d,p);var E=d.substring(d.length-v);d=d.substring(0,d.length-v),p=p.substring(0,p.length-v);var C=o(d,p);return w&&C.unshift([n,w]),E&&C.push([n,E]),c(C),C}function o(d,p){var v;if(!d)return[[t,p]];if(!p)return[[e,d]];var w=d.length>p.length?d:p,E=d.length>p.length?p:d,C=w.indexOf(E);if(C!=-1)return v=[[t,w.substring(0,C)],[n,E],[t,w.substring(C+E.length)]],d.length>p.length&&(v[0][0]=v[2][0]=e),v;if(E.length==1)return[[e,d],[t,p]];var N=i(d,p);if(N){var k=N[0],F=N[1],B=N[2],X=N[3],U=N[4],pe=r(k,B),q=r(F,X);return pe.concat([[n,U]],q)}return l(d,p)}function l(d,p){for(var v=d.length,w=p.length,E=Math.ceil((v+w)/2),C=E,N=2*E,k=new Array(N),F=new Array(N),B=0;B<N;B++)k[B]=-1,F[B]=-1;k[C+1]=0,F[C+1]=0;for(var X=v-w,U=X%2!=0,pe=0,q=0,H=0,ve=0,te=0;te<E;te++){for(var ne=-te+pe;ne<=te-q;ne+=2){var re=C+ne,ie;ne==-te||ne!=te&&k[re-1]<k[re+1]?ie=k[re+1]:ie=k[re-1]+1;for(var Q=ie-ne;ie<v&&Q<w&&d.charAt(ie)==p.charAt(Q);)ie++,Q++;if(k[re]=ie,ie>v)q+=2;else if(Q>w)pe+=2;else if(U){var ge=C+X-ne;if(ge>=0&&ge<N&&F[ge]!=-1){var fe=v-F[ge];if(ie>=fe)return s(d,p,ie,Q)}}}for(var oe=-te+H;oe<=te-ve;oe+=2){var ge=C+oe,fe;oe==-te||oe!=te&&F[ge-1]<F[ge+1]?fe=F[ge+1]:fe=F[ge-1]+1;for(var z=fe-oe;fe<v&&z<w&&d.charAt(v-fe-1)==p.charAt(w-z-1);)fe++,z++;if(F[ge]=fe,fe>v)ve+=2;else if(z>w)H+=2;else if(!U){var re=C+X-oe;if(re>=0&&re<N&&k[re]!=-1){var ie=k[re],Q=C+ie-re;if(fe=v-fe,ie>=fe)return s(d,p,ie,Q)}}}}return[[e,d],[t,p]]}function s(d,p,v,w){var E=d.substring(0,v),C=p.substring(0,w),N=d.substring(v),k=p.substring(w),F=r(E,C),B=r(N,k);return F.concat(B)}function a(d,p){if(!d||!p||d.charAt(0)!=p.charAt(0))return 0;for(var v=0,w=Math.min(d.length,p.length),E=w,C=0;v<E;)d.substring(C,E)==p.substring(C,E)?(v=E,C=v):w=E,E=Math.floor((w-v)/2+v);return E}function f(d,p){if(!d||!p||d.charAt(d.length-1)!=p.charAt(p.length-1))return 0;for(var v=0,w=Math.min(d.length,p.length),E=w,C=0;v<E;)d.substring(d.length-E,d.length-C)==p.substring(p.length-E,p.length-C)?(v=E,C=v):w=E,E=Math.floor((w-v)/2+v);return E}function i(d,p){var v=d.length>p.length?d:p,w=d.length>p.length?p:d;if(v.length<4||w.length*2<v.length)return null;function E(q,H,ve){for(var te=q.substring(ve,ve+Math.floor(q.length/4)),ne=-1,re="",ie,Q,ge,fe;(ne=H.indexOf(te,ne+1))!=-1;){var oe=a(q.substring(ve),H.substring(ne)),z=f(q.substring(0,ve),H.substring(0,ne));re.length<z+oe&&(re=H.substring(ne-z,ne)+H.substring(ne,ne+oe),ie=q.substring(0,ve-z),Q=q.substring(ve+oe),ge=H.substring(0,ne-z),fe=H.substring(ne+oe))}return re.length*2>=q.length?[ie,Q,ge,fe,re]:null}var C=E(v,w,Math.ceil(v.length/4)),N=E(v,w,Math.ceil(v.length/2)),k;if(!C&&!N)return null;N?C?k=C[4].length>N[4].length?C:N:k=N:k=C;var F,B,X,U;d.length>p.length?(F=k[0],B=k[1],X=k[2],U=k[3]):(X=k[0],U=k[1],F=k[2],B=k[3]);var pe=k[4];return[F,B,X,U,pe]}function c(d){d.push([n,""]);for(var p=0,v=0,w=0,E="",C="",N;p<d.length;)switch(d[p][0]){case t:w++,C+=d[p][1],p++;break;case e:v++,E+=d[p][1],p++;break;case n:v+w>1?(v!==0&&w!==0&&(N=a(C,E),N!==0&&(p-v-w>0&&d[p-v-w-1][0]==n?d[p-v-w-1][1]+=C.substring(0,N):(d.splice(0,0,[n,C.substring(0,N)]),p++),C=C.substring(N),E=E.substring(N)),N=f(C,E),N!==0&&(d[p][1]=C.substring(C.length-N)+d[p][1],C=C.substring(0,C.length-N),E=E.substring(0,E.length-N))),v===0?d.splice(p-w,v+w,[t,C]):w===0?d.splice(p-v,v+w,[e,E]):d.splice(p-v-w,v+w,[e,E],[t,C]),p=p-v-w+(v?1:0)+(w?1:0)+1):p!==0&&d[p-1][0]==n?(d[p-1][1]+=d[p][1],d.splice(p,1)):p++,w=0,v=0,E="",C="";break}d[d.length-1][1]===""&&d.pop();var k=!1;for(p=1;p<d.length-1;)d[p-1][0]==n&&d[p+1][0]==n&&(d[p][1].substring(d[p][1].length-d[p-1][1].length)==d[p-1][1]?(d[p][1]=d[p-1][1]+d[p][1].substring(0,d[p][1].length-d[p-1][1].length),d[p+1][1]=d[p-1][1]+d[p+1][1],d.splice(p-1,1),k=!0):d[p][1].substring(0,d[p+1][1].length)==d[p+1][1]&&(d[p-1][1]+=d[p+1][1],d[p][1]=d[p][1].substring(d[p+1][1].length)+d[p+1][1],d.splice(p+1,1),k=!0)),p++;k&&c(d)}var g=r;return g.INSERT=t,g.DELETE=e,g.EQUAL=n,Dr=g,Dr}var Fr,js;function al(){return js||(js=1,Fr={equal:function(e,t){if(e===t||e==null&&t==null)return!0;if(e==null||t==null||Object.keys(e).length!=Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0},array:function(e){return Array.isArray(e)},number:function(e){return typeof e=="number"||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Number]"},object:function(e){return e?typeof e=="function"||typeof e=="object":!1},string:function(e){return typeof e=="string"||typeof e=="object"&&Object.prototype.toString.call(e)==="[object String]"}}),Fr}var qr,Ms;function Sc(){if(Ms)return qr;Ms=1;var e=al(),t={attributes:{clone:function(r,o){return e.object(r)?Object.keys(r).reduce(function(l,s){return r[s]!==void 0&&(r[s]!==null||o)&&(l[s]=r[s]),l},{}):{}},compose:function(r,o,l){e.object(r)||(r={}),e.object(o)||(o={});var s=this.clone(o,l);for(var a in r)r[a]!==void 0&&o[a]===void 0&&(s[a]=r[a]);return Object.keys(s).length>0?s:void 0},diff:function(r,o){e.object(r)||(r={}),e.object(o)||(o={});var l=Object.keys(r).concat(Object.keys(o)).reduce(function(s,a){return r[a]!==o[a]&&(s[a]=o[a]===void 0?null:o[a]),s},{});return Object.keys(l).length>0?l:void 0},transform:function(r,o,l){if(!e.object(r))return o;if(e.object(o)){if(!l)return o;var s=Object.keys(o).reduce(function(a,f){return r[f]===void 0&&(a[f]=o[f]),a},{});return Object.keys(s).length>0?s:void 0}}},clone:function(r){var o=this.attributes.clone(r);return e.object(o.attributes)&&(o.attributes=this.attributes.clone(o.attributes,!0)),o},iterator:function(r){return new n(r)},length:function(r){return e.number(r.delete)?r.delete:e.number(r.retain)?r.retain:e.string(r.insert)?r.insert.length:1}};function n(r){this.ops=r,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(r){r||(r=1/0);var o=this.ops[this.index];if(o){var l=this.offset,s=t.length(o);if(r>=s-l?(r=s-l,this.index+=1,this.offset=0):this.offset+=r,e.number(o.delete))return{delete:r};var a={};return o.attributes&&(a.attributes=o.attributes),e.number(o.retain)?a.retain=r:e.string(o.insert)?a.insert=o.insert.substr(l,r):a.insert=o.insert,a}else return{retain:1/0}},n.prototype.peekLength=function(){return this.ops[this.index]?t.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?e.number(this.ops[this.index].delete)?"delete":e.number(this.ops[this.index].retain)?"retain":"insert":"retain"},qr=t,qr}var Pr,Ds;function Ec(){if(Ds)return Pr;Ds=1;var e=_c(),t=al(),n=Sc(),r=String.fromCharCode(0),o=function(l){t.array(l)?this.ops=l:t.object(l)&&t.array(l.ops)?this.ops=l.ops:this.ops=[]};return o.prototype.insert=function(l,s){var a={};if(t.string(l)){if(l.length===0)return this;a.insert=l}else t.number(l)&&(a.insert=l);return t.object(s)&&Object.keys(s).length>0&&(a.attributes=s),this.push(a)},o.prototype.delete=function(l){return l<=0?this:this.push({delete:l})},o.prototype.retain=function(l,s){if(l<=0)return this;var a={retain:l};return t.object(s)&&Object.keys(s).length>0&&(a.attributes=s),this.push(a)},o.prototype.push=function(l){var s=this.ops.length,a=this.ops[s-1];if(l=n.clone(l),t.object(a)){if(t.number(l.delete)&&t.number(a.delete))return this.ops[s-1]={delete:a.delete+l.delete},this;if(t.number(a.delete)&&(t.string(l.insert)||t.number(l.insert))&&(s-=1,a=this.ops[s-1],!t.object(a)))return this.ops.unshift(l),this;if(t.equal(l.attributes,a.attributes)){if(t.string(l.insert)&&t.string(a.insert))return this.ops[s-1]={insert:a.insert+l.insert},t.object(l.attributes)&&(this.ops[s-1].attributes=l.attributes),this;if(t.number(l.retain)&&t.number(a.retain))return this.ops[s-1]={retain:a.retain+l.retain},t.object(l.attributes)&&(this.ops[s-1].attributes=l.attributes),this}}return this.ops.splice(s,0,l),this},o.prototype.chop=function(){var l=this.ops[this.ops.length-1];return l&&l.retain&&!l.attributes&&this.ops.pop(),this},o.prototype.length=function(){return this.ops.reduce(function(l,s){return l+n.length(s)},0)},o.prototype.slice=function(l,s){l=l||0,t.number(s)||(s=1/0);for(var a=new o,f=n.iterator(this.ops),i=0;i<s&&f.hasNext();){var c;i<l?c=f.next(l-i):(c=f.next(s-i),a.push(c)),i+=n.length(c)}return a},o.prototype.compose=function(l){var s=n.iterator(this.ops),a=n.iterator(l.ops);for(this.ops=[];s.hasNext()||a.hasNext();)if(a.peekType()==="insert")this.push(a.next());else if(s.peekType()==="delete")this.push(s.next());else{var f=Math.min(s.peekLength(),a.peekLength()),i=s.next(f),c=a.next(f);if(t.number(c.retain)){var g={};t.number(i.retain)?g.retain=f:g.insert=i.insert;var d=n.attributes.compose(i.attributes,c.attributes,t.number(i.retain));d&&(g.attributes=d),this.push(g)}else t.number(c.delete)&&t.number(i.retain)&&this.push(c)}return this.chop()},o.prototype.diff=function(l){var s=[this.ops,l.ops].map(function(g){return g.map(function(d){if(t.string(d.insert))return d.insert;if(t.number(d.insert))return r;var p=g===l.ops?"on":"with";throw new Error("diff() called "+p+" non-document")}).join("")}),a=e(s[0],s[1]),f=n.iterator(this.ops),i=n.iterator(l.ops),c=new o;return a.forEach(function(g){for(var d=g[1].length;d>0;){var p=0;switch(g[0]){case e.INSERT:p=Math.min(i.peekLength(),d),c.push(i.next(p));break;case e.DELETE:p=Math.min(d,f.peekLength()),f.next(p),c.delete(p);break;case e.EQUAL:p=Math.min(f.peekLength(),i.peekLength(),d);var v=f.next(p),w=i.next(p);v.insert===w.insert?c.retain(p,n.attributes.diff(v.attributes,w.attributes)):c.push(w).delete(p);break}d-=p}}),c.chop()},o.prototype.transform=function(l,s){if(s=!!s,t.number(l))return this.transformPosition(l,s);for(var a=n.iterator(this.ops),f=n.iterator(l.ops),i=new o;a.hasNext()||f.hasNext();)if(a.peekType()==="insert"&&(s||f.peekType()!=="insert"))i.retain(n.length(a.next()));else if(f.peekType()==="insert")i.push(f.next());else{var c=Math.min(a.peekLength(),f.peekLength()),g=a.next(c),d=f.next(c);if(g.delete)continue;d.delete?i.push(d):i.retain(c,n.attributes.transform(g.attributes,d.attributes,s))}return i.chop()},o.prototype.transformPosition=function(l,s){s=!!s;for(var a=n.iterator(this.ops),f=0;a.hasNext()&&f<=l;){var i=a.peekLength(),c=a.peekType();if(a.next(),c==="delete"){l-=Math.min(i,l-f);continue}else c==="insert"&&(f<l||!s)&&(l+=i);f+=i}return l},Pr=o,Pr}var Or,Fs;function bc(){if(Fs)return Or;Fs=1;var e=Ec();return Or={Delta:e,name:"rich-text",uri:"http://sharejs.org/types/rich-text/v1",create:function(t){return new e(t)},apply:function(t,n){return t=new e(t),n=new e(n),t.compose(n)},compose:function(t,n){return t=new e(t),n=new e(n),t.compose(n)},diff:function(t,n){return t=new e(t),n=new e(n),t.diff(n)},transform:function(t,n,r){return t=new e(t),n=new e(n),n.transform(t,r==="left")}},Or}var $r,qs;function Fi(){return qs||(qs=1,$r=bc()),$r}var Br={};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var Ps;function cl(){return Ps||(Ps=1,function(e){(function(t){var n=Array.isArray?Array.isArray:function(c){return Object.prototype.toString.call(c)==="[object Array]"},r=10;function o(){this._events={},this._conf&&l.call(this,this._conf)}function l(i){i&&(this._conf=i,i.delimiter&&(this.delimiter=i.delimiter),i.maxListeners&&(this._events.maxListeners=i.maxListeners),i.wildcard&&(this.wildcard=i.wildcard),i.newListener&&(this.newListener=i.newListener),this.wildcard&&(this.listenerTree={}))}function s(i){this._events={},this.newListener=!1,l.call(this,i)}function a(i,c,g,d){if(!g)return[];var p=[],v,w,E,C,N,k,F,B=c.length,X=c[d],U=c[d+1];if(d===B&&g._listeners){if(typeof g._listeners=="function")return i&&i.push(g._listeners),[g];for(v=0,w=g._listeners.length;v<w;v++)i&&i.push(g._listeners[v]);return[g]}if(X==="*"||X==="**"||g[X]){if(X==="*"){for(E in g)E!=="_listeners"&&g.hasOwnProperty(E)&&(p=p.concat(a(i,c,g[E],d+1)));return p}else if(X==="**"){F=d+1===B||d+2===B&&U==="*",F&&g._listeners&&(p=p.concat(a(i,c,g,B)));for(E in g)E!=="_listeners"&&g.hasOwnProperty(E)&&(E==="*"||E==="**"?(g[E]._listeners&&!F&&(p=p.concat(a(i,c,g[E],B))),p=p.concat(a(i,c,g[E],d))):E===U?p=p.concat(a(i,c,g[E],d+2)):p=p.concat(a(i,c,g[E],d)));return p}p=p.concat(a(i,c,g[X],d+1))}if(C=g["*"],C&&a(i,c,C,d+1),N=g["**"],N)if(d<B){N._listeners&&a(i,c,N,B);for(E in N)E!=="_listeners"&&N.hasOwnProperty(E)&&(E===U?a(i,c,N[E],d+2):E===X?a(i,c,N[E],d+1):(k={},k[E]=N[E],a(i,c,{"**":k},d+1)))}else N._listeners?a(i,c,N,B):N["*"]&&N["*"]._listeners&&a(i,c,N["*"],B);return p}function f(i,c){i=typeof i=="string"?i.split(this.delimiter):i.slice();for(var g=0,d=i.length;g+1<d;g++)if(i[g]==="**"&&i[g+1]==="**")return;for(var p=this.listenerTree,v=i.shift();v;){if(p[v]||(p[v]={}),p=p[v],i.length===0){if(!p._listeners)p._listeners=c;else if(typeof p._listeners=="function")p._listeners=[p._listeners,c];else if(n(p._listeners)&&(p._listeners.push(c),!p._listeners.warned)){var w=r;typeof this._events.maxListeners<"u"&&(w=this._events.maxListeners),w>0&&p._listeners.length>w&&(p._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",p._listeners.length),console.trace())}return!0}v=i.shift()}return!0}s.prototype.delimiter=".",s.prototype.setMaxListeners=function(i){this._events||o.call(this),this._events.maxListeners=i,this._conf||(this._conf={}),this._conf.maxListeners=i},s.prototype.event="",s.prototype.once=function(i,c){return this.many(i,1,c),this},s.prototype.many=function(i,c,g){var d=this;if(typeof g!="function")throw new Error("many only accepts instances of Function");function p(){--c===0&&d.off(i,p),g.apply(this,arguments)}return p._origin=g,this.on(i,p),d},s.prototype.emit=function(){this._events||o.call(this);var i=arguments[0];if(i==="newListener"&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var c=arguments.length,g=new Array(c-1),d=1;d<c;d++)g[d-1]=arguments[d];for(d=0,c=this._all.length;d<c;d++)this.event=i,this._all[d].apply(this,g)}if(i==="error"&&!this._all&&!this._events.error&&!(this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var p;if(this.wildcard){p=[];var v=typeof i=="string"?i.split(this.delimiter):i.slice();a.call(this,p,v,this.listenerTree,0)}else p=this._events[i];if(typeof p=="function"){if(this.event=i,arguments.length===1)p.call(this);else if(arguments.length>1)switch(arguments.length){case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:for(var c=arguments.length,g=new Array(c-1),d=1;d<c;d++)g[d-1]=arguments[d];p.apply(this,g)}return!0}else if(p){for(var c=arguments.length,g=new Array(c-1),d=1;d<c;d++)g[d-1]=arguments[d];for(var w=p.slice(),d=0,c=w.length;d<c;d++)this.event=i,w[d].apply(this,g);return w.length>0||!!this._all}else return!!this._all},s.prototype.on=function(i,c){if(typeof i=="function")return this.onAny(i),this;if(typeof c!="function")throw new Error("on only accepts instances of Function");if(this._events||o.call(this),this.emit("newListener",i,c),this.wildcard)return f.call(this,i,c),this;if(!this._events[i])this._events[i]=c;else if(typeof this._events[i]=="function")this._events[i]=[this._events[i],c];else if(n(this._events[i])&&(this._events[i].push(c),!this._events[i].warned)){var g=r;typeof this._events.maxListeners<"u"&&(g=this._events.maxListeners),g>0&&this._events[i].length>g&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),console.trace())}return this},s.prototype.onAny=function(i){if(typeof i!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(i),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(i,c){if(typeof c!="function")throw new Error("removeListener only takes instances of Function");var g,d=[];if(this.wildcard){var p=typeof i=="string"?i.split(this.delimiter):i.slice();d=a.call(this,null,p,this.listenerTree,0)}else{if(!this._events[i])return this;g=this._events[i],d.push({_listeners:g})}for(var v=0;v<d.length;v++){var w=d[v];if(g=w._listeners,n(g)){for(var E=-1,C=0,N=g.length;C<N;C++)if(g[C]===c||g[C].listener&&g[C].listener===c||g[C]._origin&&g[C]._origin===c){E=C;break}if(E<0)continue;return this.wildcard?w._listeners.splice(E,1):this._events[i].splice(E,1),g.length===0&&(this.wildcard?delete w._listeners:delete this._events[i]),this}else(g===c||g.listener&&g.listener===c||g._origin&&g._origin===c)&&(this.wildcard?delete w._listeners:delete this._events[i])}return this},s.prototype.offAny=function(i){var c=0,g=0,d;if(i&&this._all&&this._all.length>0){for(d=this._all,c=0,g=d.length;c<g;c++)if(i===d[c])return d.splice(c,1),this}else this._all=[];return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(i){if(arguments.length===0)return!this._events||o.call(this),this;if(this.wildcard)for(var c=typeof i=="string"?i.split(this.delimiter):i.slice(),g=a.call(this,null,c,this.listenerTree,0),d=0;d<g.length;d++){var p=g[d];p._listeners=null}else{if(!this._events[i])return this;this._events[i]=null}return this},s.prototype.listeners=function(i){if(this.wildcard){var c=[],g=typeof i=="string"?i.split(this.delimiter):i.slice();return a.call(this,c,g,this.listenerTree,0),c}return this._events||o.call(this),this._events[i]||(this._events[i]=[]),n(this._events[i])||(this._events[i]=[this._events[i]]),this._events[i]},s.prototype.listenersAny=function(){return this._all?this._all:[]},typeof t=="function"&&t.amd?t(function(){return s}):e.EventEmitter2=s})()}(Br)),Br}var Ur,Os;function ot(){if(Os)return Ur;Os=1;var e,t,n,r,o,l=function(f,i){return function(){return f.apply(i,arguments)}},s={}.hasOwnProperty,a=function(f,i){for(var c in i)s.call(i,c)&&(f[c]=i[c]);function g(){this.constructor=f}return g.prototype=i.prototype,f.prototype=new g,f.__super__=i.prototype,f};return o=nt(),r=null,t=function(){function f(i){this.node=i,this.trigger=l(this.trigger,this)}return f.prototype.addClass=function(i){if(!this.hasClass(i))return this.node.classList!=null?this.node.classList.add(i):this.node.className!=null&&(this.node.className=(this.node.className+" "+i).trim()),this},f.prototype.attributes=function(i){var c,g,d,p,v;if(i)return o.each(i,function(w){return function(E,C){return w.node.setAttribute(C,E)}}(this)),this;if(this.node.attributes==null)return{};for(i={},v=this.node.attributes,g=d=0,p=v.length;d<p;g=++d)v[g],c=this.node.attributes[g],i[c.name]=c.value;return i},f.prototype.child=function(i){var c,g;for(c=this.node.firstChild,g=n(c).length();c!=null&&!(i<g);)i-=g,c=c.nextSibling,g=n(c).length();return c==null&&(c=this.node.lastChild,i=n(c).length()),[c,i]},f.prototype.childNodes=function(){return o.map(this.node.childNodes)},f.prototype.classes=function(){return this.node.className.split(/\s+/)},f.prototype.descendants=function(){return o.map(this.node.getElementsByTagName("*"))},f.prototype.get=function(){return this.node},f.prototype.hasClass=function(i){return this.node.classList!=null?this.node.classList.contains(i):this.node.className!=null?o.indexOf(this.classes(),i)>-1:!1},f.prototype.isAncestor=function(i,c){var g;if(c==null&&(c=!1),i===this.node)return c;for(g=this.node;g;){if(g===i)return!0;g=g.parentNode}return!1},f.prototype.isElement=function(){var i;return((i=this.node)!=null?i.nodeType:void 0)===n.ELEMENT_NODE},f.prototype.isTextNode=function(){var i;return((i=this.node)!=null?i.nodeType:void 0)===n.TEXT_NODE},f.prototype.length=function(){var i;return this.node==null?0:(i=this.text().length,this.isElement()&&(i+=this.node.querySelectorAll(o.keys(n.EMBED_TAGS).join(",")).length),i)},f.prototype.merge=function(i){var c;return c=n(i),this.isElement()?(c.moveChildren(this.node),this.normalize()):this.text(this.text()+c.text()),c.remove(),this},f.prototype.moveChildren=function(i){return o.each(this.childNodes(),function(c){return i.appendChild(c)}),this},f.prototype.nextLineNode=function(i){var c;return c=this.node.nextSibling,c==null&&this.node.parentNode!==i&&(c=this.node.parentNode.nextSibling),c!=null&&n.LIST_TAGS[c.tagName]!=null&&(c=c.firstChild),c},f.prototype.normalize=function(){var i,c,g,d;for(c=this.node.firstChild;c!=null;)d=c.nextSibling,i=n(c),d!=null&&n(d).isTextNode()&&(i.text().length===0?i.remove():i.isTextNode()&&(g=d.nextSibling,i.merge(d),d=g)),c=d;return this},f.prototype.on=function(i,c){return this.node.addEventListener(i,function(g){return function(d){var p,v;return p=r&&(i==="keydown"||i==="keyup")?r:d,v=c.call(g.node,p),v||(d.preventDefault(),d.stopPropagation()),v}}(this)),this},f.prototype.remove=function(){var i;return(i=this.node.parentNode)!=null&&i.removeChild(this.node),this.node=null,null},f.prototype.removeClass=function(i){var c;if(this.hasClass(i))return this.node.classList!=null?this.node.classList.remove(i):(this.node.className!=null&&(c=this.classes(),c.splice(o.indexOf(c,i),1),this.node.className=c.join(" ")),this)},f.prototype.replace=function(i){return this.node.parentNode.replaceChild(i,this.node),this.node=i,i},f.prototype.splitAncestors=function(i,c){var g,d,p,v;if(c==null&&(c=!1),this.node===i||this.node.parentNode===i)return this;if(this.node.previousSibling!=null||c){for(p=this.node.parentNode,d=p.cloneNode(!1),p.parentNode.insertBefore(d,p.nextSibling),v=this.node;v!=null;)g=v.nextSibling,d.appendChild(v),v=g;return n(d).splitAncestors(i)}else return n(this.node.parentNode).splitAncestors(i)},f.prototype.split=function(i,c){var g,d,p,v,w,E,C,N,k;if(c==null&&(c=!1),E=this.length(),i=Math.max(0,i),i=Math.min(i,E),!(c||i!==0))return[this.node.previousSibling,this.node,!1];if(!(c||i!==E))return[this.node,this.node.nextSibling,!1];if(this.node.nodeType===n.TEXT_NODE)return g=this.node.splitText(i),[this.node,g,!0];for(v=this.node,C=this.node.cloneNode(!1),this.node.parentNode.insertBefore(C,v.nextSibling),N=this.child(i),d=N[0],i=N[1],k=n(d).split(i),k[0],p=k[1];p!==null;)w=p.nextSibling,C.appendChild(p),p=w;return[v,C,!0]},f.prototype.styles=function(i,c){var g,d;return c==null&&(c=!1),i?(c||(i=o.defaults(i,this.styles())),d=o.map(i,function(p,v){return""+v+": "+p}).join("; ")+";",this.node.setAttribute("style",d),this):(d=this.node.getAttribute("style")||"",g=o.reduce(d.split(";"),function(p,v){var w,E,C;return C=v.split(":"),w=C[0],E=C[1],w&&E&&(w=w.trim(),E=E.trim(),p[w.toLowerCase()]=E),p},{}),g)},f.prototype.switchTag=function(i){var c,g;return i=i.toUpperCase(),this.node.tagName===i?this:(g=this.node.ownerDocument.createElement(i),c=this.attributes(),n.VOID_TAGS[i]==null&&this.moveChildren(g),this.replace(g),this.attributes(c).get())},f.prototype.text=function(i){if(i!=null){switch(this.node.nodeType){case n.ELEMENT_NODE:this.node.textContent=i;break;case n.TEXT_NODE:this.node.data=i}return this}else switch(this.node.nodeType){case n.ELEMENT_NODE:return this.node.tagName===n.DEFAULT_BREAK_TAG?"":n.EMBED_TAGS[this.node.tagName]!=null?n.EMBED_TEXT:this.node.textContent!=null?this.node.textContent:"";case n.TEXT_NODE:return this.node.data||"";default:return""}},f.prototype.textNodes=function(){var i,c,g;for(g=this.node.ownerDocument.createTreeWalker(this.node,NodeFilter.SHOW_TEXT,null,!1),c=[];i=g.nextNode();)c.push(i);return c},f.prototype.toggleClass=function(i,c){return c==null&&(c=!this.hasClass(i)),c?this.addClass(i):this.removeClass(i),this},f.prototype.trigger=function(i,c){var g,d,p;return c==null&&(c={}),o.indexOf(["keypress","keydown","keyup"],i)<0?(g=this.node.ownerDocument.createEvent("Event"),g.initEvent(i,c.bubbles,c.cancelable)):(g=this.node.ownerDocument.createEvent("KeyboardEvent"),r=o.clone(c),o.isNumber(c.key)?r.which=c.key:o.isString(c.key)?r.which=c.key.toUpperCase().charCodeAt(0):r.which=0,n.isIE(10)?(p=[],c.altKey&&p.push("Alt"),c.ctrlKey&&p.push("Control"),c.metaKey&&p.push("Meta"),c.shiftKey&&p.push("Shift"),g.initKeyboardEvent(i,c.bubbles,c.cancelable,this.window(),0,0,p.join(" "),null,null)):(d=o.isFunction(g.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",g[d](i,c.bubbles,c.cancelable,this.window(),c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,0))),this.node.dispatchEvent(g),r=null,this},f.prototype.unwrap=function(){var i,c;return c=this.node.firstChild,i=this.node.nextSibling,o.each(this.childNodes(),function(g){return function(d){return g.node.parentNode.insertBefore(d,i)}}(this)),this.remove(),c},f.prototype.window=function(){return this.node.ownerDocument.defaultView||this.node.ownerDocument.parentWindow},f.prototype.wrap=function(i){var c;for(this.node.parentNode!=null&&this.node.parentNode.insertBefore(i,this.node),c=i;c.firstChild!=null;)c=i.firstChild;return c.appendChild(this.node),this},f}(),e=function(f){a(i,f);function i(){return i.__super__.constructor.apply(this,arguments)}return i.prototype.default=function(){return this.node.querySelector("option[selected]")},i.prototype.option=function(c,g){var d,p,v,w,E,C;if(g==null&&(g=!0),v=o.isElement(c)?c.value:c,v){for(v=v.replace(/[^\w]+/g,""),C=this.node.children,p=w=0,E=C.length;w<E;p=++w)if(d=C[p],d.value.replace(/[^\w]+/g,"")===v){this.node.selectedIndex=p;break}}else this.node.selectedIndex=-1;return g&&this.trigger("change"),this},i.prototype.reset=function(c){var g;return c==null&&(c=!0),g=this.default(),g!=null?g.selected=!0:this.node.selectedIndex=0,c&&this.trigger("change"),this},i.prototype.value=function(){return this.node.selectedIndex>-1?this.node.options[this.node.selectedIndex].value:""},i}(t),n=function(f){return(f!=null?f.tagName:void 0)==="SELECT"?new e(f):new t(f)},n=o.extend(n,{ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF",DEFAULT_BLOCK_TAG:"DIV",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},LINE_TAGS:{DIV:"DIV",LI:"LI"},LIST_TAGS:{OL:"OL",UL:"UL"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},convertFontSize:function(f){var i,c,g,d;o.isString(f)&&f.indexOf("px")>-1?(g=o.keys(n.FONT_SIZES),d=o.values(n.FONT_SIZES)):(d=o.keys(n.FONT_SIZES),g=o.values(n.FONT_SIZES));for(i in g)if(c=g[i],parseInt(f)<=parseInt(c))return d[i];return o.last(d)},isIE:function(f){var i;return i=document.documentMode,i&&f>=i},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},isMac:function(){return/Mac/i.test(navigator.platform)}}),Ur=n,Ur}var Hr,$s;function ar(){if($s)return Hr;$s=1;var e,t,n;return n=nt(),t=ot(),e=function(){r.types={LINE:"line"},r.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color",default:"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor",default:"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily",default:"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize",default:"13px",prepare:function(o,l){return o.execCommand("fontSize",!1,t.convertFontSize(l))}},link:{tag:"A",attribute:"href"},image:{tag:"IMG",attribute:"src"},align:{type:r.types.LINE,style:"textAlign",default:"left"},bullet:{type:r.types.LINE,exclude:"list",parentTag:"UL",tag:"LI"},list:{type:r.types.LINE,exclude:"bullet",parentTag:"OL",tag:"LI"}};function r(o,l){this.document=o,this.config=l}return r.prototype.add=function(o,l){var s,a,f,i,c;return l?(this.value(o)===l||(n.isString(this.config.parentTag)&&(f=this.document.createElement(this.config.parentTag),t(o).wrap(f),o.parentNode.tagName===((i=o.parentNode.previousSibling)!=null?i.tagName:void 0)&&t(o.parentNode.previousSibling).merge(o.parentNode),o.parentNode.tagName===((c=o.parentNode.nextSibling)!=null?c.tagName:void 0)&&t(o.parentNode).merge(o.parentNode.nextSibling)),n.isString(this.config.tag)&&(s=this.document.createElement(this.config.tag),t.VOID_TAGS[s.tagName]!=null?(o.parentNode!=null&&t(o).replace(s),o=s):this.isType(r.types.LINE)?o=t(o).switchTag(this.config.tag):(t(o).wrap(s),o=s)),(n.isString(this.config.style)||n.isString(this.config.attribute)||n.isString(this.config.class))&&(n.isString(this.config.class)&&(o=this.remove(o)),t(o).isTextNode()&&(a=this.document.createElement(t.DEFAULT_INLINE_TAG),t(o).wrap(a),o=a),n.isString(this.config.style)&&l!==this.config.default&&(o.style[this.config.style]=l),n.isString(this.config.attribute)&&o.setAttribute(this.config.attribute,l),n.isString(this.config.class)&&t(o).addClass(this.config.class+l))),o):this.remove(o)},r.prototype.isType=function(o){return o===this.config.type},r.prototype.match=function(o){var l,s,a,f,i;if(!t(o).isElement()||n.isString(this.config.parentTag)&&((f=o.parentNode)!=null?f.tagName:void 0)!==this.config.parentTag||n.isString(this.config.tag)&&o.tagName!==this.config.tag||n.isString(this.config.style)&&(!o.style[this.config.style]||o.style[this.config.style]===this.config.default)||n.isString(this.config.attribute)&&!o.hasAttribute(this.config.attribute))return!1;if(n.isString(this.config.class)){for(i=t(o).classes(),s=0,a=i.length;s<a;s++)if(l=i[s],l.indexOf(this.config.class)===0)return!0;return!1}return!0},r.prototype.prepare=function(o){if(n.isString(this.config.prepare))return this.document.execCommand(this.config.prepare,!1,o);if(n.isFunction(this.config.prepare))return this.config.prepare(this.document,o)},r.prototype.remove=function(o){var l,s,a,f;if(!this.match(o))return o;if(n.isString(this.config.style)&&(o.style[this.config.style]="",o.getAttribute("style")||o.removeAttribute("style")),n.isString(this.config.attribute)&&o.removeAttribute(this.config.attribute),n.isString(this.config.class)){for(f=t(o).classes(),s=0,a=f.length;s<a;s++)l=f[s],l.indexOf(this.config.class)===0&&t(o).removeClass(l);o.getAttribute("class")||o.removeAttribute("class")}return n.isString(this.config.tag)&&(this.isType(r.types.LINE)?(n.isString(this.config.parentTag)&&(o.previousSibling!=null&&t(o).splitAncestors(o.parentNode.parentNode),o.nextSibling!=null&&t(o.nextSibling).splitAncestors(o.parentNode.parentNode)),o=t(o).switchTag(t.DEFAULT_BLOCK_TAG)):(o=t(o).switchTag(t.DEFAULT_INLINE_TAG),t.EMBED_TAGS[this.config.tag]!=null&&t(o).text(t.EMBED_TEXT))),n.isString(this.config.parentTag)&&t(o.parentNode).unwrap(),o.tagName===t.DEFAULT_INLINE_TAG&&!o.hasAttributes()&&(o=t(o).unwrap()),o},r.prototype.value=function(o){var l,s,a,f;if(this.match(o)){if(n.isString(this.config.attribute))return o.getAttribute(this.config.attribute)||void 0;if(n.isString(this.config.style))return o.style[this.config.style]||void 0;if(n.isString(this.config.class)){for(f=t(o).classes(),s=0,a=f.length;s<a;s++)if(l=f[s],l.indexOf(this.config.class)===0)return l.slice(this.config.class.length)}else if(n.isString(this.config.tag))return!0}},r}(),Hr=e,Hr}var zr,Bs;function qi(){if(Bs)return zr;Bs=1;var e,t;return t=function(){function n(r){this.data=r,this.prev=this.next=null}return n}(),e=function(){n.Node=t;function n(){this.length=0,this.first=this.last=null}return n.prototype.append=function(r){return this.first!=null?(r.next=null,this.last.next=r):this.first=r,r.prev=this.last,this.last=r,this.length+=1},n.prototype.insertAfter=function(r,o){return o.prev=r,r!=null?(o.next=r.next,r.next!=null&&(r.next.prev=o),r.next=o,r===this.last&&(this.last=o)):(o.next=this.first,this.first.prev=o,this.first=o),this.length+=1},n.prototype.remove=function(r){return this.length>1?(r.prev!=null&&(r.prev.next=r.next),r.next!=null&&(r.next.prev=r.prev),r===this.first&&(this.first=r.next),r===this.last&&(this.last=r.prev)):this.first=this.last=null,r.prev=r.next=null,this.length-=1},n.prototype.toArray=function(){var r,o;for(r=[],o=this.first;o!=null;)r.push(o),o=o.next;return r},n}(),zr=e,zr}var Gr,Us;function fl(){if(Us)return Gr;Us=1;var e,t,n,r,o={}.hasOwnProperty,l=function(s,a){for(var f in a)o.call(a,f)&&(s[f]=a[f]);function i(){this.constructor=s}return i.prototype=a.prototype,s.prototype=new i,s.__super__=a.prototype,s};return r=nt(),n=ot(),ar(),t=qi(),e=function(s){l(a,s),a.ID_PREFIX="leaf-",a.isLeafNode=function(f){return n(f).isTextNode()||f.firstChild==null};function a(f,i){this.node=f,this.formats=r.clone(i),this.id=r.uniqueId(a.ID_PREFIX),this.text=n(this.node).text(),this.length=this.text.length}return a.prototype.deleteText=function(f,i){var c;if(i>0)return this.text=this.text.slice(0,f)+this.text.slice(f+i),this.length=this.text.length,n.EMBED_TAGS[this.node.tagName]!=null?(c=this.node.ownerDocument.createTextNode(this.text),this.node=n(this.node).replace(c)):n(this.node).text(this.text)},a.prototype.insertText=function(f,i){var c;return this.text=this.text.slice(0,f)+i+this.text.slice(f),n(this.node).isTextNode()?n(this.node).text(this.text):(c=this.node.ownerDocument.createTextNode(i),this.node.tagName===n.DEFAULT_BREAK_TAG?this.node=n(this.node).replace(c):(this.node.appendChild(c),this.node=c)),this.length=this.text.length},a}(t.Node),Gr=e,Gr}var Kr,Hs;function Kt(){if(Hs)return Kr;Hs=1;var e,t,n;return n=nt(),t=ot(),e={ALIASES:{STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},ATTRIBUTES:{color:"color",face:"fontFamily",size:"fontSize"},STYLES:{"background-color":"background-color",color:"color","font-family":"font-family","font-size":"font-size","text-align":"text-align"},TAGS:{DIV:"DIV",BR:"BR",SPAN:"SPAN",B:"B",I:"I",S:"S",U:"U",A:"A",IMG:"IMG",OL:"OL",UL:"UL",LI:"LI"},handleBreaks:function(r){var o;return o=n.map(r.querySelectorAll(t.DEFAULT_BREAK_TAG)),n.each(o,function(l){return function(s){if(s.nextSibling!=null&&(!t.isIE(10)||s.previousSibling!=null))return t(s.nextSibling).splitAncestors(r.parentNode)}}()),r},normalizeLine:function(r){return r=e.wrapInline(r),r=e.handleBreaks(r),r=e.pullBlocks(r),r=e.normalizeNode(r),e.unwrapText(r),r!=null&&t.LIST_TAGS[r.tagName]!=null&&(r=r.firstChild),r},normalizeNode:function(r){return t(r).isTextNode()?r:(n.each(e.ATTRIBUTES,function(o,l){var s;if(r.hasAttribute(l))return s=r.getAttribute(l),l==="size"&&(s=t.convertFontSize(s)),r.style[o]=s,r.removeAttribute(l)}),e.whitelistStyles(r),e.whitelistTags(r))},optimizeLine:function(r){var o,l,s,a;for(o=t(r).length(),s=t(r).descendants(),a=[];s.length>0;)l=s.pop(),(l!=null?l.parentNode:void 0)!=null&&t.EMBED_TAGS[l.tagName]==null&&(l.tagName===t.DEFAULT_BREAK_TAG?o!==0?a.push(t(l).remove()):a.push(void 0):t(l).length()===0?(s.push(l.nextSibling),a.push(t(l).unwrap())):l.previousSibling!=null&&l.tagName===l.previousSibling.tagName&&n.isEqual(t(l).attributes(),t(l.previousSibling).attributes())?(s.push(l.firstChild),a.push(t(l.previousSibling).merge(l))):a.push(void 0));return a},pullBlocks:function(r){var o;for(o=r.firstChild;o!=null;){if(t.BLOCK_TAGS[o.tagName]!=null&&o.tagName!=="LI"){o.previousSibling!=null&&t(o).splitAncestors(r.parentNode),o.nextSibling!=null&&t(o.nextSibling).splitAncestors(r.parentNode),t.LIST_TAGS[o.tagName]==null||!o.firstChild?(t(o).unwrap(),e.pullBlocks(r)):(t(o.parentNode).unwrap(),r.parentNode==null&&(r=o));break}o=o.nextSibling}return r},stripComments:function(r){return r.replace(/<!--[\s\S]*?-->/g,"")},stripWhitespace:function(r){return r=r.replace(/^\s+/,"").replace(/\s+$/,""),r=r.replace(/^\s+/,"").replace(/\s+$/,""),r=r.replace(/(\r?\n|\r)+/g," "),r=r.replace(/\>\s+\</g,"><"),r},whitelistStyles:function(r){var o,l;if(o=t(r).styles(),l=n.omit(o,function(s,a){return e.STYLES[a]==null}),n.keys(l).length<n.keys(o).length)return n.keys(l).length>0?t(r).styles(l,!0):r.removeAttribute("style")},whitelistTags:function(r){return t(r).isElement()&&(e.ALIASES[r.tagName]!=null?r=t(r).switchTag(e.ALIASES[r.tagName]):e.TAGS[r.tagName]==null&&(t.BLOCK_TAGS[r.tagName]!=null?r=t(r).switchTag(t.DEFAULT_BLOCK_TAG):!r.hasAttributes()&&r.firstChild!=null?r=t(r).unwrap():r=t(r).switchTag(t.DEFAULT_INLINE_TAG))),r},wrapInline:function(r){var o,l;if(t.BLOCK_TAGS[r.tagName]!=null)return r;for(o=r.ownerDocument.createElement(t.DEFAULT_BLOCK_TAG),r.parentNode.insertBefore(o,r);r!=null&&t.BLOCK_TAGS[r.tagName]==null;)l=r.nextSibling,o.appendChild(r),r=l;return o},unwrapText:function(r){var o;return o=n.map(r.querySelectorAll(t.DEFAULT_INLINE_TAG)),n.each(o,function(l){if(!l.hasAttributes())return t(l).unwrap()})}},Kr=e,Kr}var Vr,zs;function Pi(){if(zs)return Vr;zs=1;var e,t,n,r,o,l,s,a,f={}.hasOwnProperty,i=function(c,g){for(var d in g)f.call(g,d)&&(c[d]=g[d]);function p(){this.constructor=c}return p.prototype=g.prototype,c.prototype=new p,c.__super__=g.prototype,c};return a=nt(),e=Fi().Delta,s=ot(),t=ar(),n=fl(),r=Pi(),o=qi(),l=Kt(),r=function(c){i(g,c),g.CLASS_NAME="line",g.ID_PREFIX="line-";function g(d,p){this.doc=d,this.node=p,this.id=a.uniqueId(g.ID_PREFIX),this.formats={},s(this.node).addClass(g.CLASS_NAME),this.rebuild(),g.__super__.constructor.call(this,this.node)}return g.prototype.buildLeaves=function(d,p){return a.each(s(d).childNodes(),function(v){return function(w){var E;return w=l.normalizeNode(w),E=a.clone(p),a.each(v.doc.formats,function(C,N){if(!C.isType(t.types.LINE)&&C.match(w))return E[N]=C.value(w)}),n.isLeafNode(w)?v.leaves.append(new n(w,E)):v.buildLeaves(w,E)}}(this))},g.prototype.deleteText=function(d,p){var v,w,E;if(p>0){for(E=this.findLeafAt(d),w=E[0],d=E[1];w!=null&&p>0;)v=Math.min(p,w.length-d),w.deleteText(d,v),p-=v,w=w.next,d=0;return this.rebuild()}},g.prototype.findLeaf=function(d){var p;for(p=this.leaves.first;p!=null;){if(p.node===d)return p;p=p.next}return null},g.prototype.findLeafAt=function(d,p){var v;if(p==null&&(p=!1),d>=this.length-1)return[this.leaves.last,this.leaves.last.length];for(v=this.leaves.first;v!=null;){if(d<v.length||d===v.length&&p)return[v,d];d-=v.length,v=v.next}return[this.leaves.last,d-this.leaves.last.length]},g.prototype.format=function(d,p){var v;return a.isObject(d)?v=d:(v={},v[d]=p),a.each(v,function(w){return function(E,C){var N,k;return k=w.doc.formats[C],k.isType(t.types.LINE)&&(k.config.exclude&&w.formats[k.config.exclude]&&(N=w.doc.formats[k.config.exclude],N!=null&&(w.node=N.remove(w.node),delete w.formats[k.config.exclude])),w.node=k.add(w.node,E)),E?w.formats[C]=E:delete w.formats[C]}}(this)),this.resetContent()},g.prototype.formatText=function(d,p,v,w){var E,C,N,k,F,B,X,U;if(B=this.findLeafAt(d),C=B[0],N=B[1],E=this.doc.formats[v],E!=null&&E.config.type!==t.types.LINE){for(;C!=null&&p>0;){if(k=C.next,w&&C.formats[v]!==w||!w&&C.formats[v]!=null){if(F=C.node,C.formats[v]!=null)for(s(F).splitAncestors(this.node);!E.match(F);)F=F.parentNode;N>0&&(X=s(F).split(N),X[0],F=X[1]),C.length>N+p&&(U=s(F).split(p),F=U[0],U[1]),E.add(F,w)}p-=C.length-N,N=0,C=k}return this.rebuild()}},g.prototype.insertText=function(d,p,v){var w,E,C,N,k,F;if(v==null&&(v={}),p.length>0)return k=this.findLeafAt(d),w=k[0],E=k[1],a.isEqual(w.formats,v)?(w.insertText(E,p),this.resetContent()):(N=a.reduce(v,function(B){return function(X,U,pe){return B.doc.formats[pe].add(X,U)}}(this),this.node.ownerDocument.createTextNode(p)),F=s(w.node).split(E),F[0],C=F[1],C&&(C=s(C).splitAncestors(this.node).get()),this.node.insertBefore(N,C),this.rebuild())},g.prototype.optimize=function(){return l.optimizeLine(this.node),this.rebuild()},g.prototype.rebuild=function(d){return d==null&&(d=!1),!d&&this.outerHTML!=null&&this.outerHTML===this.node.outerHTML&&a.all(this.leaves.toArray(),function(p){return function(v){return s(v.node).isAncestor(p.node)}}(this))?!1:(this.node=l.normalizeNode(this.node),s(this.node).length()===0&&!this.node.querySelector(s.DEFAULT_BREAK_TAG)&&this.node.appendChild(this.node.ownerDocument.createElement(s.DEFAULT_BREAK_TAG)),this.leaves=new o,this.formats=a.reduce(this.doc.formats,function(p){return function(v,w,E){return w.isType(t.types.LINE)&&(w.match(p.node)?v[E]=w.value(p.node):delete v[E]),v}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0)},g.prototype.resetContent=function(){return this.node.id!==this.id&&(this.node.id=this.id),this.outerHTML=this.node.outerHTML,this.length=1,this.delta=new e,this.leaves.toArray().forEach(function(d){return function(p){return d.length+=p.length,s.EMBED_TAGS[p.node.tagName]!=null?d.delta.insert(1,p.formats):d.delta.insert(p.text,p.formats)}}(this)),this.delta.insert(`
`,this.formats)},g}(o.Node),Vr=r,Vr}var Wr,Gs;function hl(){if(Gs)return Wr;Gs=1;var e,t,n,r,o,l,s,a;return a=nt(),e=Fi().Delta,s=ot(),n=ar(),r=Pi(),o=qi(),l=Kt(),t=function(){function f(i,c){this.root=i,c==null&&(c={}),this.formats={},a.each(c.formats,a.bind(this.addFormat,this)),this.setHTML(this.root.innerHTML)}return f.prototype.addFormat=function(i,c){return a.isObject(c)||(c=n.FORMATS[i]),this.formats[i]!=null&&console.warn("Overwriting format",i,this.formats[i]),this.formats[i]=new n(this.root.ownerDocument,c)},f.prototype.appendLine=function(i){return this.insertLineBefore(i,null)},f.prototype.findLeafAt=function(i,c){var g,d,p;return p=this.findLineAt(i),g=p[0],d=p[1],g!=null?g.findLeafAt(d,c):[null,d]},f.prototype.findLine=function(i){for(var c;i!=null&&s.BLOCK_TAGS[i.tagName]==null;)i=i.parentNode;return c=i!=null?this.lineMap[i.id]:null,(c!=null?c.node:void 0)===i?c:null},f.prototype.findLineAt=function(i){var c,g;if(!(this.lines.length>0))return[null,i];if(g=this.toDelta().length(),i===g)return[this.lines.last,this.lines.last.length];if(i>g)return[null,i-g];for(c=this.lines.first;c!=null;){if(i<c.length)return[c,i];i-=c.length,c=c.next}return[null,i]},f.prototype.insertLineBefore=function(i,c){var g;return g=new r(this,i),c!=null?(s(i.parentNode).isElement()||this.root.insertBefore(i,c.node),this.lines.insertAfter(c.prev,g)):(s(i.parentNode).isElement()||this.root.appendChild(i),this.lines.append(g)),this.lineMap[g.id]=g,g},f.prototype.mergeLines=function(i,c){return c.length>1&&(i.length===1&&s(i.leaves.last.node).remove(),a.each(s(c.node).childNodes(),function(g){if(g.tagName!==s.DEFAULT_BREAK_TAG)return i.node.appendChild(g)})),this.removeLine(c),i.rebuild()},f.prototype.optimizeLines=function(){return a.each(this.lines.toArray(),function(i,c){return i.optimize(),!0})},f.prototype.rebuild=function(){var i,c,g;for(c=this.lines.toArray(),i=this.root.firstChild,i!=null&&s.LIST_TAGS[i.tagName]!=null&&(i=i.firstChild),a.each(c,function(d){return function(p,v){for(var w;p.node!==i;)if(p.node.parentNode===d.root||((w=p.node.parentNode)!=null?w.parentNode:void 0)===d.root)i=l.normalizeLine(i),d.insertLineBefore(i,p),i=s(i).nextLineNode(d.root);else return d.removeLine(p);return p.outerHTML!==i.outerHTML&&(p.node=l.normalizeLine(p.node),p.rebuild()),i=s(i).nextLineNode(d.root)}}(this)),g=[];i!=null;)i=l.normalizeLine(i),this.appendLine(i),g.push(i=s(i).nextLineNode(this.root));return g},f.prototype.removeLine=function(i){return i.node.parentNode!=null&&(s.LIST_TAGS[i.node.parentNode.tagName]&&i.node.parentNode.childNodes.length===1?s(i.node.parentNode).remove():s(i.node).remove()),delete this.lineMap[i.id],this.lines.remove(i)},f.prototype.setHTML=function(i){return i=l.stripComments(i),i=l.stripWhitespace(i),this.root.innerHTML=i,this.lines=new o,this.lineMap={},this.rebuild()},f.prototype.splitLine=function(i,c){var g,d,p,v;return c=Math.min(c,i.length-1),v=s(i.node).split(c,!0),g=v[0],d=v[1],i.node=g,i.rebuild(),p=this.insertLineBefore(d,i.next),p.formats=a.clone(i.formats),p.resetContent(),p},f.prototype.toDelta=function(){var i,c;return c=this.lines.toArray(),i=new e,c.forEach(function(g){return g.delta.ops.forEach(function(d){return i.push(d)})}),i},f}(),Wr=t,Wr}var Yr,Ks;function Cc(){if(Ks)return Yr;Ks=1;var e,t,n,r,o,l;return l=nt(),r=ot(),Kt(),e={html:{height:"100%",width:"100%"},body:{"box-sizing":"border-box",cursor:"text","font-family":"'Helvetica', 'Arial', sans-serif","font-size":"13px",height:"100%","line-height":"1.42",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"12px 15px"},".editor-container":{height:"100%",outline:"none",position:"relative","tab-size":"4","white-space":"pre-wrap"},".editor-container div":{margin:"0",padding:"0"},".editor-container a":{"text-decoration":"underline"},".editor-container b":{"font-weight":"bold"},".editor-container i":{"font-style":"italic"},".editor-container s":{"text-decoration":"line-through"},".editor-container u":{"text-decoration":"underline"},".editor-container img":{"max-width":"100%"},".editor-container blockquote":{margin:"0 0 0 2em",padding:"0"},".editor-container ol":{margin:"0 0 0 2em",padding:"0","list-style-type":"decimal"},".editor-container ul":{margin:"0 0 0 2em",padding:"0","list-style-type":"disc"}},t=["decimal","lower-alpha","lower-roman"],o=".editor-container ol > li",l.each([1,2,3,4,5,6,7,8,9],function(s){return o+=" > ol",e[o]={"list-style-type":t[s%3]},o+=" > li"}),r.isIE(10)&&(e[r.DEFAULT_BREAK_TAG]={display:"none"}),n=function(){s.objToCss=function(a){return l.map(a,function(f,i){var c;return c=l.map(f,function(g,d){return""+d+": "+g+";"}).join(" "),""+i+" { "+c+" }"}).join(`
`)},s.buildFrame=function(a){var f,i,c;return f=a.ownerDocument.createElement("iframe"),r(f).attributes({frameBorder:"0",height:"100%",width:"100%",title:"Quill Rich Text Editor",role:"presentation"}),a.appendChild(f),i=f.contentWindow.document,i.open(),i.write("<!DOCTYPE html>"),i.close(),c=i.createElement("div"),i.body.appendChild(c),[c,f]};function s(a,f){var i;this.container=a,this.options=f??{},this.container.innerHTML="",i=s.buildFrame(this.container),this.root=i[0],this.iframe=i[1],this.root.setAttribute("id",this.options.id),this.iframe.setAttribute("name",this.options.id),r(this.root).addClass("editor-container"),r(this.container).addClass("ql-container"),r.isIOS()&&r(this.container).styles({overflow:"auto","-webkit-overflow-scrolling":"touch"}),this.addStyles(e),this.options.styles!=null&&l.defer(l.bind(this.addStyles,this,this.options.styles))}return s.prototype.addContainer=function(a,f){var i,c;return f==null&&(f=!1),c=f?this.root:null,i=this.root.ownerDocument.createElement("div"),r(i).addClass(a),this.root.parentNode.insertBefore(i,c),i},s.prototype.addStyles=function(a){var f,i;if(typeof a=="object")return i=this.root.ownerDocument.createElement("style"),i.type="text/css",a=s.objToCss(a),i.appendChild(this.root.ownerDocument.createTextNode(a)),this.root.ownerDocument.head.appendChild(i);if(typeof a=="string")return f=this.root.ownerDocument.createElement("link"),r(f).attributes({type:"text/css",rel:"stylesheet",href:a}),this.root.ownerDocument.head.appendChild(f)},s}(),Yr=n,Yr}var Xr,Vs;function pl(){if(Vs)return Xr;Vs=1;var e,t;return t=nt(),e=function(){n.compare=function(r,o){return r===o?!0:r!=null&&o!=null?r.equals(o):!1};function n(r,o){this.start=r,this.end=o}return n.prototype.equals=function(r){return r==null?!1:this.start===r.start&&this.end===r.end},n.prototype.shift=function(r,o){var l;return l=t.map([this.start,this.end],function(s){return r>s?s:o>=0?s+o:Math.max(r,s+o)}),this.start=l[0],this.end=l[1],l},n.prototype.isCollapsed=function(){return this.start===this.end},n}(),Xr=e,Xr}var Qr,Ws;function Tc(){if(Ws)return Qr;Ws=1;var e,t,n,r,o;return o=nt(),r=ot(),fl(),e=Kt(),t=pl(),n=function(){function l(s,a,f){this.doc=s,this.iframe=a,this.emitter=f,this.document=this.doc.root.ownerDocument,this.focus=!1,this.range=new t(0,0),this.nullDelay=!1,this.update("silent")}return l.prototype.checkFocus=function(){return this.document.activeElement===this.doc.root&&document.activeElement===this.iframe},l.prototype.getRange=function(s){var a,f,i;return s==null&&(s=!1),this.checkFocus()?(f=this._getNativeRange(),f==null?null:(i=this._positionToIndex(f.startContainer,f.startOffset),f.startContainer===f.endContainer&&f.startOffset===f.endOffset?a=i:a=this._positionToIndex(f.endContainer,f.endOffset),new t(Math.min(i,a),Math.max(i,a)))):s?this.range:null},l.prototype.preserve=function(s){var a,f,i,c,g,d,p,v,w;return i=this._getNativeRange(),i!=null&&this.checkFocus()?(d=this._encodePosition(i.startContainer,i.startOffset),c=d[0],g=d[1],p=this._encodePosition(i.endContainer,i.endOffset),a=p[0],f=p[1],s(),v=this._decodePosition(c,g),c=v[0],g=v[1],w=this._decodePosition(a,f),a=w[0],f=w[1],this._setNativeRange(c,g,a,f)):s()},l.prototype.setRange=function(s,a){var f,i,c,g,d,p,v;return s!=null?(d=this._indexToPosition(s.start),c=d[0],g=d[1],s.isCollapsed()?(p=[c,g],f=p[0],i=p[1]):(v=this._indexToPosition(s.end),f=v[0],i=v[1]),this._setNativeRange(c,g,f,i)):this._setNativeRange(null),this.update(a)},l.prototype.shiftAfter=function(s,a,f){var i;if(i=this.getRange(),f(),i!=null)return i.shift(s,a),this.setRange(i,"silent")},l.prototype.update=function(s){var a,f,i,c;if(f=this.checkFocus(),i=this.getRange(!0),a=s!=="silent"&&(!t.compare(i,this.range)||f!==this.focus),c=f?i:null,c===null&&s==="user"&&!this.nullDelay)return this.nullDelay=!0;if(this.nullDelay=!1,this.range=i,this.focus=f,a)return this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,c,s)},l.prototype._decodePosition=function(s,a){var f;return r(s).isElement()&&(f=o.indexOf(r(s.parentNode).childNodes(),s),a+=f,s=s.parentNode),[s,a]},l.prototype._encodePosition=function(s,a){for(var f;;){if(r(s).isTextNode()||s.tagName===r.DEFAULT_BREAK_TAG||r.EMBED_TAGS[s.tagName]!=null)return[s,a];if(a<s.childNodes.length)s=s.childNodes[a],a=0;else{if(s.childNodes.length===0)return e.TAGS[s.tagName]==null&&(f=s.ownerDocument.createTextNode(""),s.appendChild(f),s=f),[s,0];if(s=s.lastChild,r(s).isElement()){if(s.tagName===r.DEFAULT_BREAK_TAG||r.EMBED_TAGS[s.tagName]!=null)return[s,1];a=s.childNodes.length}else return[s,r(s).length()]}}},l.prototype._getNativeRange=function(){var s,a;return a=this.document.getSelection(),(a!=null?a.rangeCount:void 0)>0&&(s=a.getRangeAt(0),r(s.startContainer).isAncestor(this.doc.root,!0)&&(s.startContainer===s.endContainer||r(s.endContainer).isAncestor(this.doc.root,!0)))?s:null},l.prototype._indexToPosition=function(s){var a,f,i;return this.doc.lines.length===0?[this.doc.root,0]:(i=this.doc.findLeafAt(s,!0),a=i[0],f=i[1],this._decodePosition(a.node,f))},l.prototype._positionToIndex=function(s,a){var f,i,c,g,d,p;if(p=this._encodePosition(s,a),i=p[0],a=p[1],g=this.doc.findLine(i),g==null)return 0;for(f=g.findLeaf(i),d=0;g.prev!=null;)g=g.prev,d+=g.length;if(f==null)return d;for(c=0;f.prev!=null;)f=f.prev,c+=f.length;return d+c+a},l.prototype._setNativeRange=function(s,a,f,i){var c,g;if(g=this.document.getSelection(),!!g)if(s!=null){if(this.checkFocus()||this.doc.root.focus(),c=this._getNativeRange(),(c==null||s!==c.startContainer||a!==c.startOffset||f!==c.endContainer||i!==c.endOffset)&&(g.removeAllRanges(),c=this.document.createRange(),c.setStart(s,a),c.setEnd(f,i),g.addRange(c),!this.checkFocus()))return this.doc.root.focus()}else return g.removeAllRanges(),this.doc.root.blur()},l}(),Qr=n,Qr}var Zr,Ys;function Lc(){if(Ys)return Zr;Ys=1;var e,t,n,r,o,l;return l=nt(),o=ot(),e=hl(),Pi(),n=Cc(),r=Tc(),t=function(){s.sources={API:"api",SILENT:"silent",USER:"user"};function s(a,f,i){this.iframeContainer=a,this.quill=f,this.options=i??{},this.renderer=new n(this.iframeContainer,this.options),o(this.iframeContainer).on("focus",this.focus.bind(this)),this.root=this.renderer.root,this.doc=new e(this.root,this.options),this.delta=this.doc.toDelta(),this.selection=new r(this.doc,this.renderer.iframe,this.quill),this.timer=setInterval(l.bind(this.checkUpdate,this),this.options.pollInterval),this.options.readOnly||this.enable()}return s.prototype.disable=function(){return this.enable(!1)},s.prototype.enable=function(a){return a==null&&(a=!0),this.root.setAttribute("contenteditable",a)},s.prototype.applyDelta=function(a,f){var i;if(i=this._update(),i&&(a=i.transform(a,!0),i=a.transform(i,!1)),a.ops.length>0&&(a=this._trackDelta(function(c){return function(){var g;return g=0,l.each(a.ops,function(d){if(l.isString(d.insert))return c._insertAt(g,d.insert,d.attributes),g+=d.insert.length;if(l.isNumber(d.insert))return c._insertAt(g,o.EMBED_TEXT,d.attributes),g+=1;if(l.isNumber(d.delete))return c._deleteAt(g,d.delete);if(l.isNumber(d.retain))return l.each(d.attributes,function(p,v){return c._formatAt(g,d.retain,v,p)}),g+=d.retain}),c.selection.shiftAfter(0,0,l.bind(c.doc.optimizeLines,c.doc))}}(this)),this.delta=this.doc.toDelta(),this.innerHTML=this.root.innerHTML,a&&f!==s.sources.SILENT&&this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,a,f)),i&&i.ops.length>0&&f!==s.sources.SILENT)return this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,i,s.sources.USER)},s.prototype.checkUpdate=function(a){var f;return a==null&&(a="user"),this.renderer.iframe.parentNode==null||this.root.parentNode==null?clearInterval(this.timer):(f=this._update(),f&&(this.delta.compose(f),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,f,a)),f&&(a=s.sources.SILENT),this.selection.update(a))},s.prototype.focus=function(){return o.isIE(11)&&this.selection.setRange(this.selection.range),o.isIOS()&&this.renderer.iframe.focus(),this.root.focus()},s.prototype.getDelta=function(){return this.delta},s.prototype._deleteAt=function(a,f){if(!(f<=0))return this.selection.shiftAfter(a,-1*f,function(i){return function(){var c,g,d,p,v,w,E;for(E=i.doc.findLineAt(a),d=E[0],w=E[1],c=d,p=d.length-w<=f&&w>0;c!=null&&f>0;)v=c.next,g=Math.min(c.length-w,f),w===0&&f>=c.length?i.doc.removeLine(c):c.deleteText(w,g),f-=g,c=v,w=0;if(p&&d.next)return i.doc.mergeLines(d,d.next)}}(this))},s.prototype._formatAt=function(a,f,i,c){return this.selection.shiftAfter(a,0,function(g){return function(){var d,p,v,w,E;for(w=g.doc.findLineAt(a),p=w[0],v=w[1],E=[];p!=null&&f>0;)d=Math.min(f,p.length-v-1),p.formatText(v,d,i,c),f-=d,f>0&&p.format(i,c),f-=1,v=0,E.push(p=p.next);return E}}(this))},s.prototype._insertAt=function(a,f,i){return i==null&&(i={}),this.selection.shiftAfter(a,f.length,function(c){return function(){var g,d,p,v;return f=f.replace(/\r\n/g,`
`).replace(/\r/g,`
`),d=f.split(`
`),v=c.doc.findLineAt(a),g=v[0],p=v[1],l.each(d,function(w,E){var C;return g==null||g.length<=p?(E<d.length-1||w.length>0)&&(g=c.doc.appendLine(c.root.ownerDocument.createElement(o.DEFAULT_BLOCK_TAG)),p=0,g.insertText(p,w,i),g.format(i),C=null):(g.insertText(p,w,i),E<d.length-1&&(C=c.doc.splitLine(g,p+w.length),l.each(l.defaults({},i,g.formats),function(N,k){return g.format(k,i[k])}),p=0)),g=C})}}(this))},s.prototype._trackDelta=function(a){var f,i;return a(),i=this.doc.toDelta(),f=this.delta.diff(i),f},s.prototype._update=function(){var a;return this.innerHTML===this.root.innerHTML?!1:(a=this._trackDelta(function(f){return function(){return f.selection.preserve(l.bind(f.doc.rebuild,f.doc)),f.selection.shiftAfter(0,0,l.bind(f.doc.optimizeLines,f.doc))}}(this)),this.innerHTML=this.root.innerHTML,a.ops.length>0?a:!1)},s}(),Zr=t,Zr}var Jr,Xs;function dl(){if(Xs)return Jr;Xs=1;var e;return e=function(){t.OPTIONS={};function t(n){this.quill=n,this.editor=this.quill.editor,this.editorContainer=this.editor.root}return t}(),Jr=e,Jr}var ei,Qs;function gl(){if(Qs)return ei;Qs=1;var e,t,n,r;return r=nt(),n=ot(),e=Kt(),t=function(){o.TEMPLATE='<span class="ql-picker-label"></span><span class="ql-picker-options"></span>';function o(l){this.select=l,this.container=this.select.ownerDocument.createElement("span"),this.buildPicker(),n(this.container).addClass("ql-picker"),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),n(this.select.ownerDocument).on("click",function(s){return function(){return s.close(),!0}}(this)),n(this.label).on("click",function(s){return function(){return r.defer(function(){return n(s.container).toggleClass("ql-expanded")}),!1}}(this)),n(this.select).on("change",function(s){return function(){var a,f;return s.select.selectedIndex>-1&&(a=s.container.querySelectorAll(".ql-picker-item")[s.select.selectedIndex],f=s.select.options[s.select.selectedIndex]),s.selectItem(a,!1),n(s.label).toggleClass("ql-active",f!==n(s.select).default())}}(this))}return o.prototype.buildItem=function(l,s,a){var f;return f=this.select.ownerDocument.createElement("span"),f.setAttribute("data-value",s.getAttribute("value")),n(f).addClass("ql-picker-item").text(n(s).text()).on("click",function(i){return function(){return i.selectItem(f,!0),i.close()}}(this)),this.select.selectedIndex===a&&this.selectItem(f,!1),f},o.prototype.buildPicker=function(){var l;return r.each(n(this.select).attributes(),function(s){return function(a,f){return s.container.setAttribute(f,a)}}(this)),this.container.innerHTML=e.stripWhitespace(o.TEMPLATE),this.label=this.container.querySelector(".ql-picker-label"),l=this.container.querySelector(".ql-picker-options"),r.each(this.select.options,function(s){return function(a,f){var i;return i=s.buildItem(l,a,f),l.appendChild(i)}}(this))},o.prototype.close=function(){return n(this.container).removeClass("ql-expanded")},o.prototype.selectItem=function(l,s){var a,f;return a=this.container.querySelector(".ql-selected"),a!=null&&n(a).removeClass("ql-selected"),l!=null?(f=l.getAttribute("data-value"),n(l).addClass("ql-selected"),n(this.label).text(n(l).text()),n(this.select).option(f,s),this.label.setAttribute("data-value",f)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},o}(),ei=t,ei}var ti,Zs;function Nc(){if(Zs)return ti;Zs=1;var e,t,n,r={}.hasOwnProperty,o=function(l,s){for(var a in s)r.call(s,a)&&(l[a]=s[a]);function f(){this.constructor=l}return f.prototype=s.prototype,l.prototype=new f,l.__super__=s.prototype,l};return n=ot(),t=gl(),e=function(l){o(s,l);function s(){s.__super__.constructor.apply(this,arguments),n(this.container).addClass("ql-color-picker")}return s.prototype.buildItem=function(a,f,i){var c;return c=s.__super__.buildItem.call(this,a,f,i),c.style.backgroundColor=f.value,c},s}(t),ti=e,ti}var ni,Js;function Ac(){if(Js)return ni;Js=1;var e,t,n,r,o,l,s={}.hasOwnProperty,a=function(f,i){for(var c in i)s.call(i,c)&&(f[c]=i[c]);function g(){this.constructor=f}return g.prototype=i.prototype,f.prototype=new g,f.__super__=i.prototype,f};return l=nt(),e=Nc(),t=dl(),o=ot(),n=gl(),r=function(f){a(i,f),i.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],i.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"></span> <span class="cursor-name"></span> <span class="cursor-triangle bottom"></span> </span> <span class="cursor-caret"></span>'}},i.STYLES={".snow .image-tooltip-container a":{border:"1px solid #06c"},".snow .image-tooltip-container a.insert":{"background-color":"#06c",color:"#fff"},".snow .cursor-name":{"border-radius":"4px","font-size":"11px","font-family":"Arial","margin-left":"-50%",padding:"4px 10px"},".snow .cursor-triangle":{"border-left":"4px solid transparent","border-right":"4px solid transparent",height:"0px","margin-left":"-3px",width:"0px"},".snow .cursor.left .cursor-name":{"margin-left":"-8px"},".snow .cursor.right .cursor-flag":{right:"auto"},".snow .cursor.right .cursor-name":{"margin-left":"-100%","margin-right":"-8px"},".snow .cursor-triangle.bottom":{"border-top":"4px solid transparent",display:"block","margin-bottom":"-1px"},".snow .cursor-triangle.top":{"border-bottom":"4px solid transparent",display:"none","margin-top":"-1px"},".snow .cursor.top .cursor-triangle.bottom":{display:"none"},".snow .cursor.top .cursor-triangle.top":{display:"block"},".snow a":{color:"#06c"},".snow .tooltip":{border:"1px solid #ccc","box-shadow":"0px 0px 5px #ddd",color:"#222"},".snow .tooltip a":{color:"#06c"},".snow .tooltip .input":{border:"1px solid #ccc",margin:"0px",padding:"5px"},".snow .image-tooltip-container .preview":{"border-color":"#ccc",color:"#ccc"},".snow .link-tooltip-container a, .snow .link-tooltip-container span":{display:"inline-block","line-height":"25px"}};function i(c){this.quill=c,i.__super__.constructor.apply(this,arguments),this.quill.addStyles(i.STYLES),this.pickers=[],this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(g){return function(d){if(d!=null)return l.invoke(g.pickers,"close")}}(this)),o(this.quill.root.ownerDocument.body).addClass("snow"),this.quill.onModuleLoad("multi-cursor",l.bind(this.extendMultiCursor,this)),this.quill.onModuleLoad("toolbar",l.bind(this.extendToolbar,this))}return i.prototype.extendMultiCursor=function(c){return c.on(c.constructor.events.CURSOR_ADDED,function(g){var d,p;return d=g.elem.querySelector(".cursor-triangle.bottom"),p=g.elem.querySelector(".cursor-triangle.top"),d.style.borderTopColor=p.style.borderBottomColor=g.color})},i.prototype.extendToolbar=function(c){return l.each(["color","background","font","size","align"],function(g){return function(d){var p,v;if(v=c.container.querySelector(".ql-"+d),v!=null){switch(d){case"font":case"size":case"align":p=new n(v);break;case"color":case"background":p=new e(v),l.each(p.container.querySelectorAll(".ql-picker-item"),function(w,E){if(E<7)return o(w).addClass("ql-primary-color")})}if(p!=null)return g.pickers.push(p)}}}(this)),l.each(o(c.container).textNodes(),function(g){if(o(g).text().trim().length===0)return o(g).remove()})},i}(t),ni=r,ni}var ri,eo;function vt(){if(eo)return ri;eo=1;var e,t,n,r,o,l,s,a,f,i={}.hasOwnProperty,c=function(d,p){for(var v in p)i.call(p,v)&&(d[v]=p[v]);function w(){this.constructor=d}return w.prototype=p.prototype,d.prototype=new w,d.__super__=p.prototype,d},g=[].slice;return f=nt(),a=wc,e=Fi().Delta,n=cl().EventEmitter2,s=ot(),t=Lc(),r=ar(),l=pl(),o=function(d){c(p,d),p.version=a.version,p.editors=[],p.modules=[],p.themes=[],p.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image","bullet","list"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,theme:"default"},p.events={MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources=t.sources,p.registerModule=function(v,w){return p.modules[v]!=null&&console.warn("Overwriting "+v+" module"),p.modules[v]=w},p.registerTheme=function(v,w){return p.themes[v]!=null&&console.warn("Overwriting "+v+" theme"),p.themes[v]=w},p.require=function(v){switch(v){case"lodash":return f;case"delta":return e;case"dom":return s;default:return null}};function p(v,w){var E,C,N;if(w==null&&(w={}),f.isString(v)&&(v=document.querySelector(v)),v==null)throw new Error("Invalid Quill container");if(C=f.defaults(w.modules||{},p.DEFAULTS.modules),E=v.innerHTML,this.options=f.defaults(w,p.DEFAULTS),this.options.modules=C,this.options.id=this.id="quill-"+(p.editors.length+1),this.options.emitter=this,this.modules={},this.editor=new t(v,this,this.options),this.root=this.editor.doc.root,p.editors.push(this),this.setHTML(E,p.sources.SILENT),N=p.themes[this.options.theme],N==null)throw new Error("Cannot load "+this.options.theme+" theme. Are you sure you registered it?");this.theme=new N(this,this.options),f.each(this.options.modules,function(k){return function(F,B){return k.addModule(B,F)}}(this))}return p.prototype.addContainer=function(v,w){return w==null&&(w=!1),this.editor.renderer.addContainer(v,w)},p.prototype.addFormat=function(v,w){return this.editor.doc.addFormat(v,w)},p.prototype.addModule=function(v,w){var E;if(E=p.modules[v],E==null)throw new Error("Cannot load "+v+" module. Are you sure you registered it?");return f.isObject(w)||(w={}),w=f.defaults(w,this.theme.constructor.OPTIONS[v]||{},E.DEFAULTS||{}),this.modules[v]=new E(this,w),this.emit(p.events.MODULE_INIT,v,this.modules[v]),this.modules[v]},p.prototype.addStyles=function(v){return this.editor.renderer.addStyles(v)},p.prototype.deleteText=function(v,w,E){var C,N;if(E==null&&(E=p.sources.API),N=this._buildParams(v,w,{},E),v=N[0],w=N[1],N[2],E=N[3],w>v)return C=new e().retain(v).delete(w-v),this.editor.applyDelta(C,E)},p.prototype.emit=function(){var v,w;return w=arguments[0],v=2<=arguments.length?g.call(arguments,1):[],p.__super__.emit.apply(this,[p.events.PRE_EVENT,w].concat(g.call(v))),p.__super__.emit.apply(this,[w].concat(g.call(v))),p.__super__.emit.apply(this,[p.events.POST_EVENT,w].concat(g.call(v)))},p.prototype.focus=function(){return this.editor.focus()},p.prototype.formatLine=function(v,w,E,C,N){var k,F,B,X,U;return X=this._buildParams(v,w,E,C,N),v=X[0],w=X[1],k=X[2],N=X[3],U=this.editor.doc.findLineAt(w),F=U[0],B=U[1],F!=null&&(w+=F.length-B),this.formatText(v,w,k,N)},p.prototype.formatText=function(v,w,E,C,N){var k,F,B;return B=this._buildParams(v,w,E,C,N),v=B[0],w=B[1],F=B[2],N=B[3],F=f.reduce(F,function(X){return function(U,pe,q){var H;return H=X.editor.doc.formats[q],pe&&pe!==H.config.default||(U[q]=null),U}}(this),F),k=new e().retain(v).retain(w-v,F),this.editor.applyDelta(k,N)},p.prototype.getContents=function(v,w){return v==null&&(v=0),w==null&&(w=null),f.isObject(v)&&(w=v.end,v=v.start),this.editor.getDelta().slice(v,w)},p.prototype.getHTML=function(){return this.root.innerHTML},p.prototype.getLength=function(){return this.editor.getDelta().length()},p.prototype.getModule=function(v){return this.modules[v]},p.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},p.prototype.getText=function(v,w){return v==null&&(v=0),w==null&&(w=null),f.map(this.getContents(v,w).ops,function(E){return f.isString(E.insert)?E.insert:""}).join("")},p.prototype.insertEmbed=function(v,w,E,C){return this.insertText(v,s.EMBED_TEXT,w,E,C)},p.prototype.insertText=function(v,w,E,C,N){var k,F,B;if(B=this._buildParams(v,0,E,C,N),v=B[0],B[1],F=B[2],N=B[3],w.length>0)return k=new e().retain(v).insert(w,F),this.editor.applyDelta(k,N)},p.prototype.onModuleLoad=function(v,w){return this.modules[v]?w(this.modules[v]):this.on(p.events.MODULE_INIT,function(E,C){if(E===v)return w(C)})},p.prototype.prepareFormat=function(v,w){var E,C;if(E=this.editor.doc.formats[v],E!=null&&(C=this.getSelection(),!!(C!=null&&C.isCollapsed())))return E.isType(r.types.LINE)?this.formatLine(C,v,w,p.sources.USER):E.prepare(w)},p.prototype.setContents=function(v,w){return w==null&&(w=p.sources.API),f.isArray(v)&&(v={ops:v}),v.ops.unshift({delete:this.getLength()}),this.updateContents(v,w)},p.prototype.setHTML=function(v,w){return w==null&&(w=p.sources.API),v||(v="<"+s.DEFAULT_BLOCK_TAG+"><"+s.DEFAULT_BREAK_TAG+"></"+s.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(v),this.editor.checkUpdate(w)},p.prototype.setSelection=function(v,w,E){var C;return E==null&&(E=p.sources.API),f.isNumber(v)&&f.isNumber(w)?C=new l(v,w):(C=v,E=w||E),this.editor.selection.setRange(C,E)},p.prototype.updateContents=function(v,w){return w==null&&(w=p.sources.API),this.editor.applyDelta(v,w)},p.prototype._buildParams=function(){var v,w;return w=1<=arguments.length?g.call(arguments,0):[],f.isObject(w[0])&&w.splice(0,1,w[0].start,w[0].end),f.isString(w[2])&&(v={},v[w[2]]=w[3],w.splice(2,2,v)),w[3]==null&&(w[3]=p.sources.API),w},p}(n),o.registerTheme("default",dl()),o.registerTheme("snow",Ac()),ri=o,ri}var ii,to;function kc(){if(to)return ii;to=1;var e,t,n,r,o;return n=vt(),o=n.require("lodash"),r=n.require("dom"),t=n.require("delta"),e=function(){l.DEFAULTS={authorId:null,color:"transparent",enabled:!1};function l(s,a){this.quill=s,this.options=a,this.options.button!=null&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{class:"author-"}),this.options.authorId!=null&&(this.quill.on(this.quill.constructor.events.PRE_EVENT,function(f){return function(i,c,g){var d,p;if(i===f.quill.constructor.events.TEXT_CHANGE&&g==="user")return d=new t,p={author:f.options.authorId},o.each(c.ops,function(v){if(v.delete==null)return v.insert!=null||v.retain!=null&&v.attributes!=null?(v.attributes||(v.attributes={}),v.attributes.author=f.options.authorId,d.retain(v.retain||v.insert.length||1,p)):d.retain(v.retain)}),f.quill.updateContents(d,n.sources.SILENT)}}(this)),this.addAuthor(this.options.authorId,this.options.color))}return l.prototype.addAuthor=function(s,a){var f;return f={},f[".authorship .author-"+s]={"background-color":""+a},this.quill.addStyles(f)},l.prototype.attachButton=function(s){var a;return a=r(s),a.on("click",function(f){return function(){return a.toggleClass("ql-on"),f.enable($dom.hasClass("ql-on"))}}(this))},l.prototype.enable=function(s){return s==null&&(s=!0),r(this.quill.root).toggleClass("authorship",s)},l.prototype.disable=function(){return this.enable(!1)},l}(),n.registerModule("authorship",e),ii=e,ii}var si,no;function Oi(){if(no)return si;no=1;var e,t,n,r,o;return t=vt(),e=Kt(),o=t.require("lodash"),r=t.require("dom"),n=function(){l.DEFAULTS={offset:10,styles:{".tooltip":{"background-color":"#fff",border:"1px solid #000",top:"0px","white-space":"nowrap","z-index":"2000"},".tooltip a":{cursor:"pointer","text-decoration":"none"}},template:""},l.HIDE_MARGIN="-10000px";function l(s,a){this.quill=s,this.options=a,this.quill.addStyles(this.options.styles),this.container=this.quill.addContainer("tooltip"),this.container.innerHTML=e.stripWhitespace(this.options.template),this.container.style.position="absolute",r(this.quill.root).on("focus",o.bind(this.hide,this)),this.hide(),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(f){return function(i,c){if(c==="user"&&f.container.style.left!==l.HIDE_MARGIN)return f.range=null,f.hide()}}(this))}return l.prototype.initTextbox=function(s,a,f){return r(s).on("keyup",function(i){return function(c){switch(c.which){case r.KEYS.ENTER:return a.call(i);case r.KEYS.ESCAPE:return f.call(i);default:return!0}}}(this))},l.prototype.hide=function(){return this.container.style.left=l.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},l.prototype.show=function(s){var a,f,i,c,g;return this.range=this.quill.getSelection(),c=this._position(s),a=c[0],f=c[1],g=this._limit(a,f),a=g[0],f=g[1],i=r(this.quill.root).window(),a+=i.pageXOffset,f+=i.pageYOffset,this.container.style.left=""+a+"px",this.container.style.top=""+f+"px",this.container.focus()},l.prototype._getBounds=function(){var s,a,f,i;return s=this.quill.root.getBoundingClientRect(),i=r(this.quill.root).window(),a=i.pageXOffset,f=i.pageYOffset,{left:s.left+a,right:s.right+a,top:s.top+f,bottom:s.bottom+f,width:s.width,height:s.height}},l.prototype._limit=function(s,a){var f,i;return f=this._getBounds(),i=this.container.getBoundingClientRect(),s=Math.min(f.right-i.width,s),s=Math.max(f.left,s),a=Math.min(f.bottom-i.height,a),a=Math.max(f.top,a),[s,a]},l.prototype._position=function(s){var a,f,i,c,g;return c=this.container.getBoundingClientRect(),a=this._getBounds(),s!=null?(i=s.getBoundingClientRect(),f=i.left+i.width/2-c.width/2,g=i.top+i.height+this.options.offset,g+c.height>a.bottom&&(g=i.top-c.height-this.options.offset)):(f=a.left+a.width/2-c.width/2,g=a.top+a.height/2-c.height/2),[f,g]},l}(),t.registerModule("tooltip",n),si=n,si}var oi,ro;function Ic(){if(ro)return oi;ro=1;var e,t,n,r,o,l={}.hasOwnProperty,s=function(a,f){for(var i in f)l.call(f,i)&&(a[i]=f[i]);function c(){this.constructor=a}return c.prototype=f.prototype,a.prototype=new c,a.__super__=f.prototype,a};return t=vt(),n=Oi(),o=t.require("lodash"),r=t.require("dom"),t.require("delta"),e=function(a){s(f,a),f.DEFAULTS={styles:{".image-tooltip-container":{margin:"25px",padding:"10px",width:"300px"},".image-tooltip-container:after":{clear:"both",content:'""',display:"table"},".image-tooltip-container .preview":{margin:"10px 0px",position:"relative",border:"1px dashed #000",height:"200px"},".image-tooltip-container .preview span":{display:"inline-block",position:"absolute","text-align":"center",top:"40%",width:"100%"},".image-tooltip-container img":{bottom:"0",left:"0",margin:"auto","max-height":"100%","max-width":"100%",position:"absolute",right:"0",top:"0"},".image-tooltip-container .input":{"box-sizing":"border-box",width:"100%"},".image-tooltip-container a":{border:"1px solid black","box-sizing":"border-box",display:"inline-block",float:"left",padding:"5px","text-align":"center",width:"50%"}},template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview</span> </div> <a href="javascript:;" class="cancel">Cancel</a> <a href="javascript:;" class="insert">Insert</a>'};function f(i,c){this.quill=i,this.options=c,this.options.styles=o.defaults(this.options.styles,n.DEFAULTS.styles),this.options=o.defaults(this.options,n.DEFAULTS),f.__super__.constructor.call(this,this.quill,this.options),this.preview=this.container.querySelector(".preview"),this.textbox=this.container.querySelector(".input"),r(this.container).addClass("image-tooltip-container"),this.initListeners()}return f.prototype.initListeners=function(){return r(this.container.querySelector(".insert")).on("click",o.bind(this.insertImage,this)),r(this.container.querySelector(".cancel")).on("click",o.bind(this.hide,this)),r(this.textbox).on("input",o.bind(this._preview,this)),this.initTextbox(this.textbox,this.insertImage,this.hide),this.quill.onModuleLoad("toolbar",function(i){return function(c){return c.initFormat("image",o.bind(i._onToolbar,i))}}(this))},f.prototype.insertImage=function(){var i,c;return c=this._normalizeURL(this.textbox.value),this.range==null&&(this.range=new Range(0,0)),this.range&&(this.preview.innerHTML="<span>Preview</span>",this.textbox.value="",i=this.range.end,this.quill.insertEmbed(i,"image",c,"user"),this.quill.setSelection(i+1,i+1)),this.hide()},f.prototype._onToolbar=function(i,c){return c?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),o.defer(function(g){return function(){return g.textbox.setSelectionRange(g.textbox.value.length,g.textbox.value.length)}}(this))):this.quill.deleteText(i,"user")},f.prototype._preview=function(){var i;if(this._matchImageURL(this.textbox.value))return this.preview.firstChild.tagName==="IMG"?this.preview.firstChild.setAttribute("src",this.textbox.value):(i=this.preview.ownerDocument.createElement("img"),i.setAttribute("src",this.textbox.value),this.preview.replaceChild(i,this.preview.firstChild))},f.prototype._matchImageURL=function(i){return/^https?:\/\/.+\.(jp?g|gif|png)$/.test(i)},f.prototype._normalizeURL=function(i){return/^https?:\/\//.test(i)||(i="http://"+i),i},f}(n),t.registerModule("image-tooltip",e),oi=e,oi}var li,io;function Rc(){if(io)return li;io=1;var e,t,n,r,o;return n=vt(),o=n.require("lodash"),r=n.require("dom"),e=n.require("delta"),t=function(){l.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:r.KEYS.TAB},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:r.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}};function l(s,a){this.quill=s,this.hotkeys={},this._initListeners(),this._initHotkeys(),this._initDeletes()}return l.prototype.addHotkey=function(s,a){return o.isArray(s)||(s=[s]),o.each(s,function(f){return function(i){var c,g;return i=o.isObject(i)?o.clone(i):{key:i},i.callback=a,c=o.isNumber(i.key)?i.key:i.key.toUpperCase().charCodeAt(0),(g=f.hotkeys)[c]==null&&(g[c]=[]),f.hotkeys[c].push(i)}}(this))},l.prototype.toggleFormat=function(s,a){var f,i,c;if(s.isCollapsed()?f=this.quill.getContents(Math.max(0,s.start-1),s.end):f=this.quill.getContents(s),c=f.ops.length===0||!o.all(f.ops,function(g){var d;return(d=g.attributes)!=null?d[a]:void 0}),s.isCollapsed()?this.quill.prepareFormat(a,c):this.quill.formatText(s,a,c,"user"),i=this.quill.getModule("toolbar"),i!=null)return i.setActive(a,c)},l.prototype._initDeletes=function(){return this.addHotkey([r.KEYS.DELETE,r.KEYS.BACKSPACE],function(s){return function(){return s.quill.getLength()>1}}(this))},l.prototype._initHotkeys=function(){return this.addHotkey(l.hotkeys.INDENT,function(s){return function(a){return s._onTab(a,!1),!1}}(this)),this.addHotkey(l.hotkeys.OUTDENT,function(s){return function(a){return!1}}()),o.each(["bold","italic","underline"],function(s){return function(a){return s.addHotkey(l.hotkeys[a.toUpperCase()],function(f){return s.toggleFormat(f,a),!1})}}(this))},l.prototype._initListeners=function(){return r(this.quill.root).on("keydown",function(s){return function(a){var f;return f=!1,o.each(s.hotkeys[a.which],function(i){var c;if(c=r.isMac()?a.metaKey:a.metaKey||a.ctrlKey,!!i.metaKey==!!c&&!!i.shiftKey==!!a.shiftKey&&!!i.altKey==!!a.altKey)return f=i.callback(s.quill.getSelection())===!1||f,!0}),!f}}(this))},l.prototype._onTab=function(s,a){var f;return f=new e().retain(s.start).insert("	").delete(s.end-s.start).retain(this.quill.getLength()-s.end),this.quill.updateContents(f),this.quill.setSelection(s.start+1,s.start+1)},l}(),n.registerModule("keyboard",t),li=t,li}var ui,so;function jc(){if(so)return ui;so=1;var e,t,n,r,o,l={}.hasOwnProperty,s=function(a,f){for(var i in f)l.call(f,i)&&(a[i]=f[i]);function c(){this.constructor=a}return c.prototype=f.prototype,a.prototype=new c,a.__super__=f.prototype,a};return t=vt(),n=Oi(),o=t.require("lodash"),r=t.require("dom"),e=function(a){s(f,a),f.DEFAULTS={maxLength:50,styles:{".link-tooltip-container":{padding:"5px 10px"},".link-tooltip-container input.input":{width:"170px"},".link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change":{display:"none"},".link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done":{display:"inline-block"}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'};function f(i,c){this.quill=i,this.options=c,this.options.styles=o.defaults(this.options.styles,n.DEFAULTS.styles),this.options=o.defaults(this.options,n.DEFAULTS),f.__super__.constructor.call(this,this.quill,this.options),r(this.container).addClass("link-tooltip-container"),this.textbox=this.container.querySelector(".input"),this.link=this.container.querySelector(".url"),this.initListeners()}return f.prototype.initListeners=function(){return this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(i){return function(c){var g;if(c!=null&&c.isCollapsed())return g=i._findAnchor(c),g?(i.setMode(g.href,!1),i.show(g)):(i.range=null,i.hide())}}(this)),r(this.container.querySelector(".done")).on("click",o.bind(this.saveLink,this)),r(this.container.querySelector(".change")).on("click",function(i){return function(){return i.setMode(i.link.href,!0)}}(this)),this.initTextbox(this.textbox,this.saveLink,this.hide),this.quill.onModuleLoad("toolbar",function(i){return function(c){return c.initFormat("link",o.bind(i._onToolbar,i))}}(this))},f.prototype.saveLink=function(){var i,c;return c=this._normalizeURL(this.textbox.value),this.range!=null&&(this.range.isCollapsed()?(i=this._findAnchor(this.range),i!=null&&(i.href=c)):this.quill.formatText(this.range,"link",c,"user")),this.setMode(c,!1)},f.prototype.setMode=function(i,c){var g;return c==null&&(c=!1),c?(this.textbox.value=i,o.defer(function(d){return function(){return d.textbox.focus(),d.textbox.setSelectionRange(i.length,i.length)}}(this))):(this.link.href=i,g=i.length>this.options.maxLength?i.slice(0,this.options.maxLength)+"...":i,r(this.link).text(g)),r(this.container).toggleClass("editing",c)},f.prototype._findAnchor=function(i){var c,g,d;for(d=this.quill.editor.doc.findLeafAt(i.start,!0),c=d[0],d[1],c!=null&&(g=c.node);g!=null;){if(g.tagName==="A")return g;g=g.parentNode}return null},f.prototype._onToolbar=function(i,c){var g;if(i&&!i.isCollapsed())return c?(this.setMode(this._suggestURL(i),!0),g=this.quill.editor.selection._getNativeRange(),this.show(g)):this.quill.formatText(i,"link",!1,"user")},f.prototype._normalizeURL=function(i){return/^(https?:\/\/|mailto:)/.test(i)||(i="http://"+i),i},f.prototype._suggestURL=function(i){var c;return c=this.quill.getText(i),this._normalizeURL(c)},f}(n),t.registerModule("link-tooltip",e),ui=e,ui}var ai,oo;function Mc(){if(oo)return ai;oo=1;var e,t,n,r,o,l={}.hasOwnProperty,s=function(a,f){for(var i in f)l.call(f,i)&&(a[i]=f[i]);function c(){this.constructor=a}return c.prototype=f.prototype,a.prototype=new c,a.__super__=f.prototype,a};return n=vt(),e=cl().EventEmitter2,o=n.require("lodash"),r=n.require("dom"),t=function(a){s(f,a),f.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"></span> </span> <span class="cursor-caret"></span>',timeout:2500},f.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"};function f(i,c){this.quill=i,this.options=c,this.cursors={},this.container=this.quill.addContainer("cursor-container",!0),this.quill.addStyles({".cursor-container":{position:"absolute",left:"0",top:"0","z-index":"1000"},".cursor":{"margin-left":"-1px",position:"absolute"},".cursor-flag":{bottom:"100%",position:"absolute","white-space":"nowrap"},".cursor-name":{display:"inline-block",color:"white",padding:"2px 8px"},".cursor-caret":{height:"100%",position:"absolute",width:"2px"},".cursor.hidden .cursor-flag":{display:"none"},".cursor.top > .cursor-flag":{bottom:"auto",top:"100%"},".cursor.right > .cursor-flag":{right:"-2px"}}),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,o.bind(this._applyDelta,this))}return f.prototype.clearCursors=function(){return o.each(o.keys(this.cursors),o.bind(this.removeCursor,this)),this.cursors={}},f.prototype.moveCursor=function(i,c){var g;return g=this.cursors[i],g.index=c,r(g.elem).removeClass("hidden"),clearTimeout(g.timer),g.timer=setTimeout(function(d){return function(){return r(g.elem).addClass("hidden"),g.timer=null}}(),this.options.timeout),this._updateCursor(g),g},f.prototype.removeCursor=function(i){var c;return c=this.cursors[i],this.emit(f.events.CURSOR_REMOVED,c),c!=null&&c.elem.parentNode.removeChild(c.elem),delete this.cursors[i]},f.prototype.setCursor=function(i,c,g,d){var p;return this.cursors[i]==null&&(this.cursors[i]=p={userId:i,index:c,color:d,elem:this._buildCursor(g,d)},this.emit(f.events.CURSOR_ADDED,p)),o.defer(function(v){return function(){return v.moveCursor(i,c)}}(this)),this.cursors[i]},f.prototype.shiftCursors=function(i,c,g){return g==null&&(g=null),o.each(this.cursors,function(d){return function(p,v){if(p&&(p.index>i||p.userId===g))return p.index+=Math.max(c,i-p.index)}}())},f.prototype.update=function(){return o.each(this.cursors,function(i){return function(c,g){if(c!=null)return i._updateCursor(c),!0}}(this))},f.prototype._applyDelta=function(i){var c;return c=0,o.each(i.ops,function(g){return function(d){var p,v;return p=0,d.insert!=null?(p=d.insert.length||1,g.shiftCursors(c,p,(v=d.attributes)!=null?v.author:void 0)):d.delete!=null?g.shiftCursors(c,-1*d.delete,null):d.retain!=null&&(g.shiftCursors(c,0,null),p=d.retain),c+=p}}(this)),this.update()},f.prototype._buildCursor=function(i,c){var g,d,p;return g=this.container.ownerDocument.createElement("span"),r(g).addClass("cursor"),g.innerHTML=this.options.template,g.querySelector(".cursor-flag"),p=g.querySelector(".cursor-name"),r(p).text(i),d=g.querySelector(".cursor-caret"),d.style.backgroundColor=p.style.backgroundColor=c,this.container.appendChild(g),g},f.prototype._moveCursor=function(i,c,g){var d,p,v;return g==null&&(g="left"),v=r(c).window(),d=c.getBoundingClientRect(),i.elem.style.top=d.top+v.pageYOffset+"px",i.elem.style.left=d[g]+"px",i.elem.style.height=d.height+"px",p=i.elem.querySelector(".cursor-flag"),r(i.elem).toggleClass("top",parseInt(i.elem.style.top)<=p.offsetHeight).toggleClass("left",parseInt(i.elem.style.left)<=p.offsetWidth).toggleClass("right",this.quill.root.offsetWidth-parseInt(i.elem.style.left)<=p.offsetWidth),this.emit(f.events.CURSOR_MOVED,i)},f.prototype._updateCursor=function(i){var c,g,d,p,v,w,E;return this.quill.editor.checkUpdate(),w=this.quill.editor.doc.findLeafAt(i.index,!0),d=w[0],p=w[1],g=this.container.ownerDocument.createElement("span"),d!=null?(E=r(d.node).split(p),E[0],v=E[1],c=E[2],r(g).text(r.ZERO_WIDTH_NOBREAK_SPACE),d.node.parentNode.insertBefore(g,v)):(r(g).text(r.NOBREAK_SPACE),this.quill.root.appendChild(g)),this._moveCursor(i,g),r(g).remove(),c&&r(d.node.parentNode).normalize(),this.quill.editor.selection.update(n.sources.SILENT)},f}(e),n.registerModule("multi-cursor",t),ai=t,ai}var ci,lo;function Dc(){if(lo)return ci;lo=1;var e,t,n,r,o,l;return r=vt(),t=hl(),l=r.require("lodash"),o=r.require("dom"),e=r.require("delta"),n=function(){function s(a,f){this.quill=a,this.options=f,this.container=this.quill.addContainer("paste-container"),this.container.setAttribute("contenteditable",!0),this.quill.addStyles({".paste-container":{left:"-10000px",position:"absolute",top:"50%"}}),o(this.quill.root).on("paste",l.bind(this._paste,this))}return s.prototype._paste=function(){var a,f,i,c,g;if(this.quill.getLength(),i=this.quill.getSelection(),i!=null)return this.container.innerHTML="",a=o(this.quill.root).window(),f=a.scrollY,c=window.scrollX,g=window.scrollY,this.container.focus(),l.defer(function(d){return function(){var p,v,w,E,C,N;return v=new t(d.container,d.quill.options),p=v.toDelta(),w=p.length()-1,p.compose(new e().retain(w).delete(1)),i.start>0&&p.ops.unshift({retain:i.start}),p.delete(i.end-i.start),d.quill.updateContents(p,"user"),d.quill.setSelection(i.start+w,i.start+w),N=d.quill.editor.doc.findLineAt(i.start+w),E=N[0],N[1],C=E.node.offsetTop+E.node.offsetHeight,C>f+d.quill.root.offsetHeight&&(f=E.node.offsetTop-d.quill.root.offsetHeight/2),a.scrollTo(0,f),window.scrollTo(c,g)}}(this))},s}(),r.registerModule("paste-manager",n),ci=n,ci}var fi,uo;function Fc(){if(uo)return fi;uo=1;var e,t,n,r;return e=vt(),r=e.require("lodash"),n=e.require("dom"),t=function(){o.DEFAULTS={container:null},o.formats={LINE:{align:"align",bullet:"bullet",list:"list"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOGGLE:{bold:"bold",bullet:"bullet",image:"image",italic:"italic",link:"link",list:"list",strike:"strike",underline:"underline"},TOOLTIP:{image:"image",link:"link"}};function o(l,s){if(this.quill=l,this.options=s,this.options.container==null)throw new Error("container required for toolbar",this.options);this.container=r.isString(this.options.container)?document.querySelector(this.options.container):this.options.container,this.inputs={},this.preventUpdate=!1,this.triggering=!1,r.each(this.quill.options.formats,function(a){return function(f){if(o.formats.TOOLTIP[f]==null)return a.initFormat(f,function(i,c){if(!a.triggering)return i.isCollapsed()?a.quill.prepareFormat(f,c):o.formats.LINE[f]!=null?a.quill.formatLine(i,f,c,"user"):a.quill.formatText(i,f,c,"user"),r.defer(function(){return a.updateActive(i,["bullet","list"]),a.setActive(f,c)})})}}(this)),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(f){if(f!=null)return a.updateActive(f)}}(this)),this.quill.onModuleLoad("keyboard",function(a){return function(f){return f.addHotkey([n.KEYS.BACKSPACE,n.KEYS.DELETE,n.KEYS.ENTER],function(){return r.defer(r.bind(a.updateActive,a))})}}(this)),n(this.container).addClass("ql-toolbar-container"),n.isIOS()&&n(this.container).addClass("ios"),n.isIE(11)&&n(this.container).on("mousedown",function(a){return function(){return!1}}())}return o.prototype.initFormat=function(l,s){var a,f,i;if(i=".ql-"+l,o.formats.SELECT[l]!=null?(i="select"+i,a="change"):a="click",f=this.container.querySelector(i),f!=null)return this.inputs[l]=f,n(f).on(a,function(c){return function(){var g,d;return d=a==="change"?n(f).value():!n(f).hasClass("ql-active"),c.preventUpdate=!0,c.quill.focus(),g=c.quill.getSelection(),g!=null&&s(g,d),c.preventUpdate=!1,!0}}(this))},o.prototype.setActive=function(l,s){var a,f,i,c;if(f=this.inputs[l],f!=null)return a=n(f),f.tagName==="SELECT"?(this.triggering=!0,i=a.value(f),s==null&&(s=(c=a.default())!=null?c.value:void 0),r.isArray(s)&&(s=""),s!==i&&(s!=null?a.option(s,!1):a.reset(!1)),this.triggering=!1):a.toggleClass("ql-active",s||!1)},o.prototype.updateActive=function(l,s){var a;if(s==null&&(s=null),l||(l=this.quill.getSelection()),l!=null&&!this.preventUpdate)return a=this._getActive(l),r.each(this.inputs,function(f){return function(i,c){return(!r.isArray(s)||s.indexOf(c)>-1)&&f.setActive(c,a[c]),!0}}(this))},o.prototype._getActive=function(l){var s,a;return s=this._getLeafActive(l),a=this._getLineActive(l),r.defaults({},s,a)},o.prototype._getLeafActive=function(l){var s,a,f,i;return l.isCollapsed()?(i=this.quill.editor.doc.findLineAt(l.start),i[0],f=i[1],f===0?s=this.quill.getContents(l.start,l.end+1):s=this.quill.getContents(l.start-1,l.end)):s=this.quill.getContents(l),a=r.map(s.ops,"attributes"),this._intersectFormats(a)},o.prototype._getLineActive=function(l){var s,a,f,i,c;for(a=[],i=this.quill.editor.doc.findLineAt(l.start),s=i[0],i[1],c=this.quill.editor.doc.findLineAt(l.end),f=c[0],c[1],f!=null&&f===s&&(f=f.next);s!=null&&s!==f;)a.push(r.clone(s.formats)),s=s.next;return this._intersectFormats(a)},o.prototype._intersectFormats=function(l){return r.reduce(l.slice(1),function(s,a){var f,i,c,g,d;return f=r.keys(s),c=r.keys(a),g=r.intersection(f,c),d=r.difference(f,c),i=r.difference(c,f),r.each(g,function(p){if(o.formats.SELECT[p]!=null){if(r.isArray(s[p])){if(r.indexOf(s[p],a[p])<0)return s[p].push(a[p])}else if(s[p]!==a[p])return s[p]=[s[p],a[p]]}}),r.each(d,function(p){if(o.formats.TOGGLE[p]!=null)return delete s[p];if(o.formats.SELECT[p]!=null&&!r.isArray(s[p]))return s[p]=[s[p]]}),r.each(i,function(p){if(o.formats.SELECT[p]!=null)return s[p]=[a[p]]}),s},l[0]||{})},o}(),e.registerModule("toolbar",t),fi=t,fi}var hi,ao;function qc(){if(ao)return hi;ao=1;var e,t,n;return e=vt(),n=e.require("lodash"),e.require("delta"),t=function(){r.DEFAULTS={delay:1e3,maxStack:100},r.hotkeys={UNDO:{key:"Z",metaKey:!0},REDO:{key:"Z",metaKey:!0,shiftKey:!0}};function r(o,l){this.quill=o,this.options=l??{},this.lastRecorded=0,this.emittedDelta=null,this.clear(),this.initListeners()}return r.prototype.initListeners=function(){return this.quill.onModuleLoad("keyboard",function(o){return function(l){return l.addHotkey(r.hotkeys.UNDO,function(){return o.undo(),!1}),l.addHotkey(r.hotkeys.REDO,function(){return o.redo(),!1})}}(this)),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(o){return function(l,s){if(!n.isEqual(l,o.emittedDelta))return o.record(l,o.oldDelta),o.oldDelta=o.quill.getContents()}}(this))},r.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},r.prototype.record=function(o,l){var s,a,f;if(o.ops.length>0){this.stack.redo=[];try{if(f=this.quill.getContents().diff(this.oldDelta),a=new Date().getTime(),this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0?(s=this.stack.undo.pop(),f=f.compose(s.undo),o=s.redo.compose(o)):this.lastRecorded=a,this.stack.undo.push({redo:o,undo:f}),this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch{return this.clear()}}},r.prototype.redo=function(){return this._change("redo","undo")},r.prototype.undo=function(){return this._change("undo","redo")},r.prototype._getLastChangeIndex=function(o){var l,s;return s=0,l=0,o.ops.forEach(function(a){if(a.insert!=null)return s=Math.max(l+(a.insert.length||1),s);if(a.delete!=null)return s=Math.max(l,s);if(a.retain!=null)return a.attributes!=null&&(s=Math.max(l+a.retain,s)),l+=a.retain}),s},r.prototype._change=function(o,l){var s,a;if(this.stack[o].length>0)return s=this.stack[o].pop(),this.lastRecorded=0,this.emittedDelta=s[o],this.quill.updateContents(s[o],"user"),this.emittedDelta=null,a=this._getLastChangeIndex(s[o]),this.quill.setSelection(a,a),this.oldDelta=this.quill.getContents(),this.stack[l].push(s)},r}(),e.registerModule("undo-manager",t),hi=t,hi}var pi,co;function Pc(){return co||(co=1,kc(),Ic(),Rc(),jc(),Mc(),Dc(),Fc(),Oi(),qc(),pi=vt()),pi}var di,fo;function Oc(){return fo||(fo=1,di=Pc()),di}(function(e,t){(function(r,o){e.exports=o(Y,Oc())})($n,function(n,r){return function(o){var l={};function s(a){if(l[a])return l[a].exports;var f=l[a]={exports:{},id:a,loaded:!1};return o[a].call(f.exports,f,f.exports,s),f.loaded=!0,f.exports}return s.m=o,s.c=l,s.p="",s(0)}([function(o,l,s){o.exports=s(1),o.exports.Mixin=s(2),o.exports.Toolbar=s(3)},function(o,l,s){var a=s(4),f=s(3),i=s(2),c=a.PropTypes;a.createFactory&&(f=a.createFactory(f));var g=a.createClass({displayName:"Quill",mixins:[i],propTypes:{id:c.string,className:c.string,value:c.string,defaultValue:c.string,readOnly:c.bool,toolbar:c.object,formats:c.array,styles:c.object,theme:c.string,pollInterval:c.number,onChange:c.func},getDefaultProps:function(){return{className:"",modules:{}}},getInitialState:function(){return{}},componentWillReceiveProps:function(d){"value"in d&&d.value!==this.props.value&&this.setEditorContents(this.state.editor,d.value)},componentDidMount:function(){var d=this.createEditor(this.getEditorElement(),this.getEditorConfig());this.setState({editor:d})},componentWillUnmount:function(){this.destroyEditor(this.state.editor)},shouldComponentUpdate:function(d,p){return!1},componentWillUpdate:function(){this.componentWillUnmount()},componentDidUpdate:function(){this.componentDidMount()},getEditorConfig:function(){var d={readOnly:this.props.readOnly,theme:this.props.theme,formats:this.props.formats,styles:this.props.styles,modules:this.props.modules,pollInterval:this.props.pollInterval};return d.modules.toolbar||(d.modules=JSON.parse(JSON.stringify(d.modules)),d.modules.toolbar={container:this.refs.toolbar.getDOMNode()}),d},getEditorElement:function(){return this.refs.editor.getDOMNode()},getEditorContents:function(){return this.props.value||this.props.defaultValue},getClassName:function(){return["quill",this.props.className].join(" ")},renderContents:function(){return a.Children.count(this.props.children)>0?a.Children.only(this.props.children):[f({key:"toolbar",ref:"toolbar",items:this.props.toolbar}),a.DOM.div({key:"editor",ref:"editor",className:"quill-contents",dangerouslySetInnerHTML:{__html:this.getEditorContents()}})]},render:function(){return a.DOM.div({className:this.getClassName(),onChange:this.preventDefault},this.renderContents())},onEditorChange:function(d){d!==this.state.value&&this.props.onChange&&this.props.onChange(d)},preventDefault:function(d){d.preventDefault(),d.stopPropagation()}});o.exports=g},function(o,l,s){var a=s(4),f=s(5);a.PropTypes;var i={createEditor:function(c,g){var d=new f(c,g);return this.hookEditor(d),d},hookEditor:function(c){var g=this;c.on("text-change",function(d,p){g.onEditorChange&&g.onEditorChange(c.getHTML(),d,p)})},updateEditor:function(c,g){throw new Error("Not implemented")},destroyEditor:function(c){c.removeAllListeners()},setEditorContents:function(c,g){var d=c.getSelection();c.setHTML(g),c.setSelection(d)}};o.exports=i},function(o,l,s){var a=s(4),f=a.PropTypes,i=[{label:"Formats",type:"group",items:[{label:"Size",type:"size",items:[{label:"Normal",value:""},{label:"Smaller",value:"0.8em"},{label:"Larger",value:"1.4em"},{label:"Huge",value:"2em"}]},{label:"Alignment",type:"align",items:[{label:"Center",value:"center"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}]}]},{label:"Text",type:"group",items:[{type:"bold",label:"Bold"},{type:"italic",label:"Italic"},{type:"strike",label:"Strike"},{type:"underline",label:"Underline"},{type:"link",label:"Link"}]},{label:"Blocks",type:"group",items:[{type:"bullet",label:"Bullet"},{type:"list",label:"List"}]}],c=a.createClass({displayName:"Quill Toolbar",propTypes:{id:f.string,className:f.string,items:f.array},getDefaultProps:function(){return{items:i}},renderGroup:function(g){return a.DOM.span({key:g.label,className:"ql-format-group"},g.items.map(this.renderItem))},renderChoiceItem:function(g){return a.DOM.option({key:g.label||g.value,value:g.value},g.label)},renderChoices:function(g){return a.DOM.select({key:g.label,className:"ql-"+g.type},g.items.map(this.renderChoiceItem))},renderAction:function(g){return a.DOM.span({key:g.label||g.value,className:"ql-format-button ql-"+g.type,title:g.label})},renderItem:function(g){var d={group:this.renderGroup,align:this.renderChoices,size:this.renderChoices,action:this.renderAction},p=d[g.type]||d.action;return p(g)},getClassName:function(){return"quill-toolbar "+(this.props.className||"")},render:function(){return a.DOM.div({className:this.getClassName()},this.props.items.map(this.renderItem))}});o.exports=c},function(o,l,s){o.exports=n},function(o,l,s){o.exports=r}])})})(ul);var $c=ul.exports;const Bc=Xa($c);function Uc({showCreateModal:e,closeCreateModal:t,allowedPersons:n,labels:r,storeMail:o,setCreateModalData:l,createModalData:s,handleUploadFile:a}){var oe;const[f,i]=Y.useState([]),[c,g]=Y.useState([]),[d,p]=Y.useState(!1),v=n.map(z=>({value:z.id,text:`${z.first_name} ${z.last_name} - ${z.role.title}`})),[w,E]=Y.useState([""]),[C,N]=Y.useState([0]),[k,F]=Y.useState({A4:{type:"A4",pageCharacterLimit:1500,pageRowLimit:11},A5:{type:"A5",pageCharacterLimit:639,pageRowLimit:9}}),[B,X]=Y.useState([{label:"A4",value:"A4"},{label:"A5",value:"A5"}]),[U,pe]=Y.useState("A4"),q=["png","jpg","jpeg","webp"];Y.useEffect(()=>{d&&o(),p(!1)},[d]);const H=z=>{const{name:K,value:ye,type:Ve}=z.target;if(Ve==="file"){const rt=z.target.files[0];rt&&a(rt,s,l)}else l(rt=>({...rt,[K]:ye}))};function ve(z){const K=document.createElement("div");return K.innerHTML=z,K.textContent||K.innerText}const te=z=>{const K=z.match(/<p\b[^>]*>(.*?)<\/p>/g);return K?K.length:0},ne=()=>{w[w.length-1].length>0&&E([...w,""])},re=(z,K)=>{const ye=te(K),Ve=ve(K).length,rt=[...w],lt=[...C];Ve<=k[U].pageCharacterLimit&&ye<=k[U].pageRowLimit&&ye!=0&&(rt[z]=K,lt[z]=Ve,N(lt),E(rt))},ie=()=>{let z=[],K=[];f.forEach(ye=>{z.push(ye.value)}),c.forEach(ye=>{K.push(ye.value)}),l({...s,recive_id:z,labels:K,descriptions:w,type:U}),p(!0)},Q=z=>{const K=z.split(".");return K.length>1?K[K.length-1].toLowerCase():null},ge=z=>{console.log(z),l(K=>({...K,files:K.files.filter((ye,Ve)=>Ve!==z)}))},fe={toolbar:[["bold","italic","underline","strike"]]};return S.jsx("div",{children:S.jsxs(gt,{show:e,onHide:t,size:"xl",children:[S.jsx(gt.Header,{className:"d-flex justify-content-center ",children:S.jsx(gt.Title,{className:"bold",children:" ایجاد نامه"})}),S.jsxs(gt.Body,{children:[S.jsxs(Se,{children:[S.jsxs(Se.Group,{className:"mb-3",controlId:"ControlInput1",children:[S.jsx(Se.Label,{children:"موضوع"}),S.jsx(Se.Control,{type:"text",name:"title",onChange:H,autoFocus:!0})]}),S.jsxs(Se.Group,{className:"mb-3",controlId:"ControlTextarea1",children:[S.jsx(Se.Label,{children:" نوع صفحه :"}),S.jsx(Qn,{onChange:z=>pe(z.target.value),name:"pageType",value:U,options:B}),w.map((z,K)=>S.jsxs("div",{className:"mt-3 mb-3",children:[S.jsxs("div",{children:["صفحه  ",K+1]})," ",S.jsx("div",{children:`تعداد کاراکتر : ${C[K]}/${k[U].pageCharacterLimit}   ------   حداکثر تعداد خط : ${k[U].pageRowLimit}`}),S.jsx("br",{}),(C[K]==k[U].pageCharacterLimit||typeof lineCount<"u"&&lineCount==k[U].pageRowLimit)&&S.jsxs(ic,{color:"danger",className:"d-flex align-items-center",children:[S.jsxs("svg",{className:"flex-shrink-0 me-2",width:"24",height:"24",viewBox:"0 0 512 512",children:[S.jsx("rect",{width:"32",height:"176",x:"240",y:"176",fill:"var(--ci-primary-color, currentColor)",className:"ci-primary"}),S.jsx("rect",{width:"32",height:"32",x:"240",y:"384",fill:"var(--ci-primary-color, currentColor)",className:"ci-primary"}),S.jsx("path",{fill:"var(--ci-primary-color, currentColor)",d:"M274.014,16H237.986L16,445.174V496H496V445.174ZM464,464H48V452.959L256,50.826,464,452.959Z",className:"ci-primary"})]}),S.jsx("div",{children:" این صفحه به تعداد خط یا کاراکتر مجاز رسیده است، صفحه جدید ایجاد کنید!"})]}),S.jsx(Bc,{value:z,style:{direction:"rtl"},onChange:ye=>re(K,ye),modules:fe,maxLength:k[U].pageCharacterLimit})]},K)),S.jsx(je,{className:"mt-3 mb-3",onClick:ne,children:"+ اضافه کردن صفحه جدید"})]})]}),"ارسال به",S.jsx(xe,{md:"12",children:S.jsx(Zn,{options:v,onChange:i,virtualScroller:!0,visibleItems:5,placeholder:"جستجو کنید",selectAllLabel:"انتخاب همه"})}),"برچسب",S.jsx(xe,{md:"6",children:S.jsx(Zn,{onChange:g,options:r,virtualScroller:!0,visibleItems:5,placeholder:"جستجو کنید",selectAllLabel:"انتخاب همه"})}),S.jsxs("div",{className:"mb-3 mt-3",children:[S.jsx(ol,{htmlFor:"file",children:"انتخاب فایل"}),S.jsx(mt,{children:S.jsx(xe,{md:"9",children:S.jsx(Di,{type:"file",className:"mt-3",name:"files",onChange:H})})}),s.files&&((oe=s.files)==null?void 0:oe.map((z,K)=>S.jsxs("div",{style:{position:"relative",display:"inline-block",marginTop:"1rem"},children:[S.jsx("a",{href:`http://localhost:8000/${z}`,target:"_blank",rel:"noopener noreferrer",children:q.includes(Q(z))?S.jsx("img",{className:"m-3 border border-dark",src:`http://localhost:8000/${z}`,height:"100px",alt:"Preview"},`file-${K}`):S.jsxs(bi,{className:"m-3",color:(()=>{switch(Q(z)){case"pdf":return"danger";case"docx":return"primary";case"xlsx":return"success";case"svg":return"danger";default:return"secondary"}})(),textColor:"white",shape:"rounded",size:"xl",style:{height:"100px",width:"100px"},children:[" ",Q(z)," "]},`file-${K}`)},`a-${K}`),S.jsx(je,{style:{position:"absolute",top:"0",left:"0"},color:"danger",variant:"ghost",size:"sm",shape:"rounded-pill",onClick:()=>ge(K),children:"X"},`remove-${K}`)]},`container-${K}`))),S.jsx("br",{})]})]}),S.jsxs(gt.Footer,{children:[S.jsx(je,{shape:"rounded-pill",color:"primary",onClick:ie,className:"mt-1 d-block mx-auto",children:"ارسال"}),S.jsx(je,{shape:"rounded-pill",color:"secondary",onClick:t,className:"mt-1 d-block mx-auto",children:"بستن"})]})]})})}const Hc="/assets/Instagram-Logo-021f9a08.png";function zc({created_date:e,mail_id:t,page:n,recive_name:r,recive_role:o,mail_title:l,mail_description:s,sender_name:a,sender_role:f,signature:i,pageDetails:c}){return S.jsxs("html",{children:[S.jsx("head",{children:S.jsx("style",{children:`
            
  
body {
  font-family: 'B Nazanin', Tahoma, Arial, sans-serif;
  line-height: 1.6;
  text-align: justify;
  direction: rtl;
  margin: 0;
  padding: 0;
}

.print-container {
  display: flex;
  flex-direction: column;
  width: ${c.width};
  height: ${c.height};
  margin: auto;
  padding: ${c.padding};
  box-sizing: border-box;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-align: right;
  
  
}
header{
  height: ${c.headerHeight};
  width: auto;
}
.page {
  font-size: 16px;
  width: auto;
  height: ${c.pageHeight};
  text-wrap: wrap;
  overflow-wrap: break-word;
}
footer {
  height: ${c.footerHeight};
  width: auto;
}
.logo {
  margin-bottom: ${c.logoMarginBottom};
  display: inline-block;
}

.logo img {
  max-width: ${c.logoImgMaxWidth};
  max-height: ${c.logoImgMaxHeight};
}
.ITNOG {
  font-size: 16px;
  font-weight: bold;
  margin-bottom: 20px;
  flex-grow: 1; /* Take up available space */
  flex-shrink: 0; /* Don't shrink */
  text-align: center;
}
.title {
  font-size: 24px;
  font-weight: bold;
  margin-bottom: 20px;
  text-align: center;
}



.date {
  text-align: right;
  font-size: 12px;
  margin-bottom: 10px;
  width: ${c.dateWidth};
}

.signature-text {
  text-align: center;
  font-size: 5mm;
  margin-top: 5mm;
  margin-left: ${c.signatureTextMarginLeft};
  margin-right: ${c.signatureTextMarginRight};
}
.signature-image {
  text-align: left;
  margin-left: 5mm;
}
.signature-image img {
  max-width: ${c.signatureImageMaxWidth};
  max-height: ${c.signatureImageMaxheight};
}

@page {
}

@media print {
  @page {
    size: ${c.type};
    margin: 0;
  }
  body {
    margin: 0;
    width: ${c.type};
    height: ${c.type};
  }
}
          `})}),S.jsx("body",{children:S.jsxs("div",{className:"print-container",children:[S.jsxs("header",{children:[S.jsx("div",{className:"ITNOG",children:" بسمه تعالی"}),S.jsxs("div",{className:"header",children:[S.jsx("div",{className:"logo",children:S.jsx("img",{src:Hc,alt:"Logo"})}),S.jsxs("div",{className:"date",children:["تاریخ: ",ll(e,"YYYY-MM-DD HH:mm:ss").locale("fa").format("jYYYY/jMM/jDD"),S.jsx("br",{}),"شماره: ",t,S.jsx("br",{}),"صفحه: ",n]})]})]}),S.jsx("div",{className:"page",children:n==1?S.jsxs("div",{children:[S.jsxs("div",{className:"title",children:[" ",l]}),S.jsx("p",{children:"با سلام و احترام"}),S.jsxs("p",{children:["جناب آقای ",r]}),S.jsxs("p",{children:[o," اداره فلان"]}),S.jsx("div",{className:"description",children:S.jsx("div",{dangerouslySetInnerHTML:{__html:s}})})]}):S.jsxs("div",{children:[S.jsx("br",{}),S.jsx("br",{}),S.jsx("br",{}),S.jsx("br",{}),S.jsx("div",{className:"description",children:S.jsx("div",{dangerouslySetInnerHTML:{__html:s}})})]})}),S.jsx("footer",{children:S.jsxs("div",{className:"signature",children:[S.jsxs("div",{className:"signature-text",children:["امضا",S.jsx("br",{}),a,S.jsx("br",{}),f]}),S.jsx("div",{className:"signature-image",children:S.jsx("img",{src:i,alt:"Signature"})})]})})]})}),S.jsx("div",{style:{pageBreakBefore:"always"}})]})}var Bt={},Vt={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Y;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ge=Object.prototype.hasOwnProperty,Gc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ho={},po={};function vl(e){return Ge.call(po,e)?!0:Ge.call(ho,e)?!1:Gc.test(e)?po[e]=!0:(ho[e]=!0,!1)}function Pe(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var $i=/[\-:]([a-z])/g;function Bi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($i,Bi);Ae[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($i,Bi);Ae[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($i,Bi);Ae[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kc=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(e){Kc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});var Vc=/["'&<>]/;function qe(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Vc.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var Wc=/([A-Z])/g,Yc=/^ms-/,Ci=Array.isArray;function wt(e,t){return{insertionMode:e,selectedValue:t}}function Xc(e,t,n){switch(t){case"select":return wt(1,n.value!=null?n.value:n.defaultValue);case"svg":return wt(2,null);case"math":return wt(3,null);case"foreignObject":return wt(1,null);case"table":return wt(4,null);case"thead":case"tbody":case"tfoot":return wt(5,null);case"colgroup":return wt(7,null);case"tr":return wt(6,null)}return 4<=e.insertionMode||e.insertionMode===0?wt(1,null):e}var go=new Map;function yl(e,t,n){if(typeof n!="object")throw Error(V(62));t=!0;for(var r in n)if(Ge.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var l=qe(r);o=qe((""+o).trim())}else{l=r;var s=go.get(l);s!==void 0||(s=qe(l.replace(Wc,"-$1").toLowerCase().replace(Yc,"-ms-")),go.set(l,s)),l=s,o=typeof o=="number"?o===0||Ge.call(Bn,r)?""+o:o+"px":qe((""+o).trim())}t?(t=!1,e.push(' style="',l,":",o)):e.push(";",l,":",o)}}t||e.push('"')}function Xe(e,t,n,r){switch(n){case"style":yl(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Ae.hasOwnProperty(n)?Ae[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',qe(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',qe(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',qe(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',qe(r),'"')}}else if(vl(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',qe(r),'"')}}}function Un(e,t,n){if(t!=null){if(n!=null)throw Error(V(60));if(typeof t!="object"||!("__html"in t))throw Error(V(61));t=t.__html,t!=null&&e.push(""+t)}}function Qc(e){var t="";return ml.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function gi(e,t,n,r){e.push(ft(n));var o=n=null,l;for(l in t)if(Ge.call(t,l)){var s=t[l];if(s!=null)switch(l){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Xe(e,r,l,s)}}return e.push(">"),Un(e,o,n),typeof n=="string"?(e.push(qe(n)),null):n}var Zc=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,mo=new Map;function ft(e){var t=mo.get(e);if(t===void 0){if(!Zc.test(e))throw Error(V(65,e));t="<"+e,mo.set(e,t)}return t}function Jc(e,t,n,r,o){switch(t){case"select":e.push(ft("select"));var l=null,s=null;for(c in n)if(Ge.call(n,c)){var a=n[c];if(a!=null)switch(c){case"children":l=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Xe(e,r,c,a)}}return e.push(">"),Un(e,s,l),l;case"option":s=o.selectedValue,e.push(ft("option"));var f=a=null,i=null,c=null;for(l in n)if(Ge.call(n,l)){var g=n[l];if(g!=null)switch(l){case"children":a=g;break;case"selected":i=g;break;case"dangerouslySetInnerHTML":c=g;break;case"value":f=g;default:Xe(e,r,l,g)}}if(s!=null)if(n=f!==null?""+f:Qc(a),Ci(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else i&&e.push(' selected=""');return e.push(">"),Un(e,c,a),a;case"textarea":e.push(ft("textarea")),c=s=l=null;for(a in n)if(Ge.call(n,a)&&(f=n[a],f!=null))switch(a){case"children":c=f;break;case"value":l=f;break;case"defaultValue":s=f;break;case"dangerouslySetInnerHTML":throw Error(V(91));default:Xe(e,r,a,f)}if(l===null&&s!==null&&(l=s),e.push(">"),c!=null){if(l!=null)throw Error(V(92));if(Ci(c)&&1<c.length)throw Error(V(93));l=""+c}return typeof l=="string"&&l[0]===`
`&&e.push(`
`),l!==null&&e.push(qe(""+l)),null;case"input":e.push(ft("input")),f=c=a=l=null;for(s in n)if(Ge.call(n,s)&&(i=n[s],i!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(V(399,"input"));case"defaultChecked":f=i;break;case"defaultValue":a=i;break;case"checked":c=i;break;case"value":l=i;break;default:Xe(e,r,s,i)}return c!==null?Xe(e,r,"checked",c):f!==null&&Xe(e,r,"checked",f),l!==null?Xe(e,r,"value",l):a!==null&&Xe(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(ft("menuitem"));for(var d in n)if(Ge.call(n,d)&&(l=n[d],l!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(V(400));default:Xe(e,r,d,l)}return e.push(">"),null;case"title":e.push(ft("title")),l=null;for(g in n)if(Ge.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":l=s;break;case"dangerouslySetInnerHTML":throw Error(V(434));default:Xe(e,r,g,s)}return e.push(">"),l;case"listing":case"pre":e.push(ft(t)),s=l=null;for(f in n)if(Ge.call(n,f)&&(a=n[f],a!=null))switch(f){case"children":l=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Xe(e,r,f,a)}if(e.push(">"),s!=null){if(l!=null)throw Error(V(60));if(typeof s!="object"||!("__html"in s))throw Error(V(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof l=="string"&&l[0]===`
`&&e.push(`
`),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ft(t));for(var p in n)if(Ge.call(n,p)&&(l=n[p],l!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(V(399,t));default:Xe(e,r,p,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return gi(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),gi(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return gi(e,n,t,r);e.push(ft(t)),s=l=null;for(i in n)if(Ge.call(n,i)&&(a=n[i],a!=null))switch(i){case"children":l=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":yl(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:vl(i)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",i,'="',qe(a),'"')}return e.push(">"),Un(e,s,l),l}}function vo(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(V(395));return e.push(n),e.push('"></template>')}function ef(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(V(397))}}function tf(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(V(397))}}var nf=/[<\u2028\u2029]/g;function mi(e){return JSON.stringify(e).replace(nf,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function rf(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function yo(e,t,n,r){return n.generateStaticMarkup?(e.push(qe(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(qe(t)),e=!0),e)}var yn=Object.assign,sf=Symbol.for("react.element"),xl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),El=Symbol.for("react.provider"),bl=Symbol.for("react.context"),Cl=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),of=Symbol.for("react.scope"),lf=Symbol.for("react.debug_trace_mode"),uf=Symbol.for("react.legacy_hidden"),af=Symbol.for("react.default_value"),xo=Symbol.iterator;function Ti(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wl:return"Fragment";case xl:return"Portal";case Sl:return"Profiler";case _l:return"StrictMode";case Tl:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bl:return(e.displayName||"Context")+".Consumer";case El:return(e._context.displayName||"Context")+".Provider";case Cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nl:return t=e.displayName||null,t!==null?t:Ti(e.type)||"Memo";case Ui:t=e._payload,e=e._init;try{return Ti(e(t))}catch{}}return null}var Al={};function wo(e,t){if(e=e.contextTypes,!e)return Al;var n={},r;for(r in e)n[r]=t[r];return n}var Ot=null;function cr(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(V(401))}else{if(n===null)throw Error(V(401));cr(e,n)}t.context._currentValue2=t.value}}function kl(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&kl(e)}function Il(e){var t=e.parent;t!==null&&Il(t),e.context._currentValue2=e.value}function Rl(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(V(402));e.depth===t.depth?cr(e,t):Rl(e,t)}function jl(e,t){var n=t.parent;if(n===null)throw Error(V(402));e.depth===n.depth?cr(e,n):jl(e,n),t.context._currentValue2=t.value}function Jn(e){var t=Ot;t!==e&&(t===null?Il(e):e===null?kl(t):t.depth===e.depth?cr(t,e):t.depth>e.depth?Rl(t,e):jl(t,e),Ot=e)}var _o={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function So(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=_o,e.props=n,e.state=o;var l={queue:[],replace:!1};e._reactInternals=l;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:yn({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&_o.enqueueReplaceState(e,e.state,null),l.queue!==null&&0<l.queue.length)if(t=l.queue,s=l.replace,l.queue=null,l.replace=!1,s&&t.length===1)e.state=t[0];else{for(l=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,l,n,r):a,a!=null&&(o?(o=!1,l=yn({},l,a)):yn(l,a))}e.state=l}else l.queue=null}var cf={id:1,overflow:""};function Li(e,t,n){var r=e.id;e=e.overflow;var o=32-Hn(r)-1;r&=~(1<<o),n+=1;var l=32-Hn(t)+o;if(30<l){var s=o-o%5;return l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-Hn(t)+o|n<<o|r,overflow:l+e}}return{id:1<<l|n<<o|r,overflow:e}}var Hn=Math.clz32?Math.clz32:pf,ff=Math.log,hf=Math.LN2;function pf(e){return e>>>=0,e===0?32:31-(ff(e)/hf|0)|0}function df(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gf=typeof Object.is=="function"?Object.is:df,_t=null,Hi=null,zn=null,ae=null,dn=!1,er=!1,wn=0,At=null,fr=0;function Ft(){if(_t===null)throw Error(V(321));return _t}function Eo(){if(0<fr)throw Error(V(312));return{memoizedState:null,queue:null,next:null}}function zi(){return ae===null?zn===null?(dn=!1,zn=ae=Eo()):(dn=!0,ae=zn):ae.next===null?(dn=!1,ae=ae.next=Eo()):(dn=!0,ae=ae.next),ae}function Gi(){Hi=_t=null,er=!1,zn=null,fr=0,ae=At=null}function Ml(e,t){return typeof t=="function"?t(e):t}function bo(e,t,n){if(_t=Ft(),ae=zi(),dn){var r=ae.queue;if(t=r.dispatch,At!==null&&(n=At.get(r),n!==void 0)){At.delete(r),r=ae.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return ae.memoizedState=r,[r,t]}return[ae.memoizedState,t]}return e=e===Ml?typeof t=="function"?t():t:n!==void 0?n(t):t,ae.memoizedState=e,e=ae.queue={last:null,dispatch:null},e=e.dispatch=mf.bind(null,_t,e),[ae.memoizedState,e]}function Co(e,t){if(_t=Ft(),ae=zi(),t=t===void 0?null:t,ae!==null){var n=ae.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!gf(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),ae.memoizedState=[e,t],e}function mf(e,t,n){if(25<=fr)throw Error(V(301));if(e===_t)if(er=!0,e={action:n,next:null},At===null&&(At=new Map),n=At.get(t),n===void 0)At.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function vf(){throw Error(V(394))}function Fn(){}var To={readContext:function(e){return e._currentValue2},useContext:function(e){return Ft(),e._currentValue2},useMemo:Co,useReducer:bo,useRef:function(e){_t=Ft(),ae=zi();var t=ae.memoizedState;return t===null?(e={current:e},ae.memoizedState=e):t},useState:function(e){return bo(Ml,e)},useInsertionEffect:Fn,useLayoutEffect:function(){},useCallback:function(e,t){return Co(function(){return e},t)},useImperativeHandle:Fn,useEffect:Fn,useDebugValue:Fn,useDeferredValue:function(e){return Ft(),e},useTransition:function(){return Ft(),[!1,vf]},useId:function(){var e=Hi.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Hn(e)-1)).toString(32)+t;var n=Gn;if(n===null)throw Error(V(404));return t=wn++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ft(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(V(407));return n()}},Gn=null,vi=ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function yf(e){return console.error(e),null}function gn(){}function xf(e,t,n,r,o,l,s,a,f){var i=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:i,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?yf:o,onAllReady:l===void 0?gn:l,onShellReady:s===void 0?gn:s,onShellError:a===void 0?gn:a,onFatalError:f===void 0?gn:f},n=tr(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Ki(t,e,null,n,c,Al,null,cf),i.push(e),t}function Ki(e,t,n,r,o,l,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var f={node:t,ping:function(){var i=e.pingedTasks;i.push(f),i.length===1&&ql(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:l,context:s,treeContext:a};return o.add(f),f}function tr(e,t,n,r,o,l){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:l}}function _n(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function nr(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Lo(e,t,n,r,o){for(_t={},Hi=t,wn=0,e=n(r,o);er;)er=!1,wn=0,fr+=1,ae=null,e=n(r,o);return Gi(),e}function No(e,t,n,r){var o=n.render(),l=r.childContextTypes;if(l!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in l))throw Error(V(108,Ti(r)||"Unknown",a));r=yn({},s,n)}t.legacyContext=r,Ze(e,t,o),t.legacyContext=s}else Ze(e,t,o)}function Ao(e,t){if(e&&e.defaultProps){t=yn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ni(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=wo(n,t.legacyContext);var l=n.contextType;l=new n(r,typeof l=="object"&&l!==null?l._currentValue2:o),So(l,n,r,o),No(e,t,l,n)}else{l=wo(n,t.legacyContext),o=Lo(e,t,n,r,l);var s=wn!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)So(o,n,r,l),No(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=Li(r,1,0);try{Ze(e,t,o)}finally{t.treeContext=r}}else Ze(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,l=Jc(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=Xc(s,n,r),Ai(e,t,l),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case uf:case lf:case _l:case Sl:case wl:Ze(e,t,r.children);return;case Ll:Ze(e,t,r.children);return;case of:throw Error(V(343));case Tl:e:{n=t.blockedBoundary,o=t.blockedSegment,l=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},f=tr(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(f),o.lastPushedText=!1;var i=tr(e,0,null,o.formatContext,!1,!1);i.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=i;try{if(Ai(e,t,r),e.responseState.generateStaticMarkup||i.lastPushedText&&i.textEmbedded&&i.chunks.push("<!-- -->"),i.status=1,rr(a,i),a.pendingTasks===0)break e}catch(c){i.status=4,a.forceClientRender=!0,a.errorDigest=_n(e,c)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Ki(e,l,n,f,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Cl:if(r=Lo(e,t,n.render,r,o),wn!==0){n=t.treeContext,t.treeContext=Li(n,1,0);try{Ze(e,t,r)}finally{t.treeContext=n}}else Ze(e,t,r);return;case Nl:n=n.type,r=Ao(n,r),Ni(e,t,n,r,o);return;case El:if(o=r.children,n=n._context,r=r.value,l=n._currentValue2,n._currentValue2=r,s=Ot,Ot=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:l,value:r},t.context=r,Ze(e,t,o),e=Ot,e===null)throw Error(V(403));r=e.parentValue,e.context._currentValue2=r===af?e.context._defaultValue:r,e=Ot=e.parent,t.context=e;return;case bl:r=r.children,r=r(n._currentValue2),Ze(e,t,r);return;case Ui:o=n._init,n=o(n._payload),r=Ao(n,r),Ni(e,t,n,r,void 0);return}throw Error(V(130,n==null?n:typeof n,""))}}function Ze(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case sf:Ni(e,t,n.type,n.props,n.ref);return;case xl:throw Error(V(257));case Ui:var r=n._init;n=r(n._payload),Ze(e,t,n);return}if(Ci(n)){ko(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=xo&&n[xo]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);ko(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=yo(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=yo(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function ko(e,t,n){for(var r=n.length,o=0;o<r;o++){var l=t.treeContext;t.treeContext=Li(l,r,o);try{Ai(e,t,n[o])}finally{t.treeContext=l}}}function Ai(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,l=t.context;try{return Ze(e,t,n)}catch(f){if(Gi(),typeof f=="object"&&f!==null&&typeof f.then=="function"){n=f;var s=t.blockedSegment,a=tr(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=Ki(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=l,Jn(l)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=l,Jn(l),f}}function wf(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,Fl(this,t,e)}function Dl(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(V(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return Dl(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function rr(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&rr(e,n)}else e.completedSegments.push(t)}function Fl(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(V(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=gn,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&rr(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wf,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(rr(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function ql(e){if(e.status!==2){var t=Ot,n=vi.current;vi.current=To;var r=Gn;Gn=e.responseState;try{var o=e.pingedTasks,l;for(l=0;l<o.length;l++){var s=o[l],a=e,f=s.blockedSegment;if(f.status===0){Jn(s.context);try{Ze(a,s,s.node),a.responseState.generateStaticMarkup||f.lastPushedText&&f.textEmbedded&&f.chunks.push("<!-- -->"),s.abortSet.delete(s),f.status=1,Fl(a,s.blockedBoundary,f)}catch(v){if(Gi(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var i=s.ping;v.then(i,i)}else{s.abortSet.delete(s),f.status=4;var c=s.blockedBoundary,g=v,d=_n(a,g);if(c===null?nr(a,g):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}o.splice(0,l),e.destination!==null&&Vi(e,e.destination)}catch(v){_n(e,v),nr(e,v)}finally{Gn=r,vi.current=n,n===To&&Jn(t)}}}function qn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var l=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];l<o.index;l++)t.push(r[l]);o=hr(e,t,o)}for(;l<r.length-1;l++)t.push(r[l]);return l<r.length&&(o=t.push(r[l])),o;default:throw Error(V(390))}}function hr(e,t,n){var r=n.boundary;if(r===null)return qn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=qe(r),t.push(r),t.push('"')),t.push("></template>")),qn(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,l=o.nextSuspenseID++;return o=o.boundaryPrefix+l.toString(16),r=r.id=o,vo(t,e.responseState,r),qn(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),vo(t,e.responseState,r.id),qn(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(V(391));return hr(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Io(e,t,n){return ef(t,e.responseState,n.formatContext,n.id),hr(e,t,n),tf(t,n.formatContext)}function Ro(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Pl(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(V(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function Pl(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(V(392));return Io(e,t,r)}return Io(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function Vi(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){hr(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,l;for(l=0;l<o.length;l++){var s=o[l];r=t;var a=e.responseState,f=s.id,i=s.errorDigest,c=s.errorMessage,g=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),f===null)throw Error(V(395));if(r.push(f),r.push('"'),i||c||g){r.push(",");var d=mi(i||"");r.push(d)}if(c||g){r.push(",");var p=mi(c||"");r.push(p)}if(g){r.push(",");var v=mi(g);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,l++,o.splice(0,l);return}}o.splice(0,l);var w=e.completedBoundaries;for(l=0;l<w.length;l++)if(!Ro(e,t,w[l])){e.destination=null,l++,w.splice(0,l);return}w.splice(0,l);var E=e.partialBoundaries;for(l=0;l<E.length;l++){var C=E[l];e:{o=e,s=t;var N=C.completedSegments;for(a=0;a<N.length;a++)if(!Pl(o,s,C,N[a])){a++,N.splice(0,a);var k=!1;break e}N.splice(0,a),k=!0}if(!k){e.destination=null,l++,E.splice(0,l);return}}E.splice(0,l);var F=e.completedBoundaries;for(l=0;l<F.length;l++)if(!Ro(e,t,F[l])){e.destination=null,l++,F.splice(0,l);return}F.splice(0,l)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function _f(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Dl(r,e,t)}),n.clear(),e.destination!==null&&Vi(e,e.destination)}catch(r){_n(e,r),nr(e,r)}}function Sf(){}function Ol(e,t,n,r){var o=!1,l=null,s="",a={push:function(i){return i!==null&&(s+=i),!0},destroy:function(i){o=!0,l=i}},f=!1;if(e=xf(e,rf(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sf,void 0,function(){f=!0},void 0,void 0),ql(e),_f(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{Vi(e,a)}catch(i){_n(e,i),nr(e,i)}}if(o)throw l;if(!f)throw Error(V(426));return s}Vt.renderToNodeStream=function(){throw Error(V(207))};Vt.renderToStaticMarkup=function(e,t){return Ol(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Vt.renderToStaticNodeStream=function(){throw Error(V(208))};Vt.renderToString=function(e,t){return Ol(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Vt.version="18.2.0";var Wi={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Y;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Je=null,et=0;function $(e,t){if(t.length!==0)if(512<t.length)0<et&&(e.enqueue(new Uint8Array(Je.buffer,0,et)),Je=new Uint8Array(512),et=0),e.enqueue(t);else{var n=Je.length-et;n<t.length&&(n===0?e.enqueue(Je):(Je.set(t.subarray(0,n),et),e.enqueue(Je),t=t.subarray(n)),Je=new Uint8Array(512),et=0),Je.set(t,et),et+=t.length}}function he(e,t){return $(e,t),!0}function jo(e){Je&&0<et&&(e.enqueue(new Uint8Array(Je.buffer,0,et)),Je=null,et=0)}var Bl=new TextEncoder;function ee(e){return Bl.encode(e)}function M(e){return Bl.encode(e)}function Ul(e,t){typeof e.error=="function"?e.error(t):e.close()}var Ke=Object.prototype.hasOwnProperty,Ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mo={},Do={};function Hl(e){return Ke.call(Do,e)?!0:Ke.call(Mo,e)?!1:Ef.test(e)?Do[e]=!0:(Mo[e]=!0,!1)}function Oe(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yi=/[\-:]([a-z])/g;function Xi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yi,Xi);ke[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yi,Xi);ke[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yi,Xi);ke[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bf=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(e){bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kn[t]=Kn[e]})});var Cf=/["'&<>]/;function Ne(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Cf.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var Tf=/([A-Z])/g,Lf=/^ms-/,ki=Array.isArray,Nf=M("<script>"),Af=M("<\/script>"),kf=M('<script src="'),If=M('<script type="module" src="'),Fo=M('" async=""><\/script>'),Rf=/(<\/|<)(s)(cript)/gi;function jf(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function Mf(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?Nf:M('<script nonce="'+Ne(t)+'">');var l=[];if(n!==void 0&&l.push(t,ee((""+n).replace(Rf,jf)),Af),r!==void 0)for(n=0;n<r.length;n++)l.push(kf,ee(Ne(r[n])),Fo);if(o!==void 0)for(r=0;r<o.length;r++)l.push(If,ee(Ne(o[r])),Fo);return{bootstrapChunks:l,startInlineScript:t,placeholderPrefix:M(e+"P:"),segmentPrefix:M(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ht(e,t){return{insertionMode:e,selectedValue:t}}function Df(e){return ht(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ff(e,t,n){switch(t){case"select":return ht(1,n.value!=null?n.value:n.defaultValue);case"svg":return ht(2,null);case"math":return ht(3,null);case"foreignObject":return ht(1,null);case"table":return ht(4,null);case"thead":case"tbody":case"tfoot":return ht(5,null);case"colgroup":return ht(7,null);case"tr":return ht(6,null)}return 4<=e.insertionMode||e.insertionMode===0?ht(1,null):e}var Qi=M("<!-- -->");function qo(e,t,n,r){return t===""?r:(r&&e.push(Qi),e.push(ee(Ne(t))),!0)}var Po=new Map,qf=M(' style="'),Oo=M(":"),Pf=M(";");function zl(e,t,n){if(typeof n!="object")throw Error(Z(62));t=!0;for(var r in n)if(Ke.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var l=ee(Ne(r));o=ee(Ne((""+o).trim()))}else{l=r;var s=Po.get(l);s!==void 0||(s=M(Ne(l.replace(Tf,"-$1").toLowerCase().replace(Lf,"-ms-"))),Po.set(l,s)),l=s,o=typeof o=="number"?o===0||Ke.call(Kn,r)?ee(""+o):ee(o+"px"):ee(Ne((""+o).trim()))}t?(t=!1,e.push(qf,l,Oo,o)):e.push(Pf,l,Oo,o)}}t||e.push(qt)}var Lt=M(" "),Gt=M('="'),qt=M('"'),$o=M('=""');function Qe(e,t,n,r){switch(n){case"style":zl(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ke.hasOwnProperty(n)?ke[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=ee(t.attributeName),t.type){case 3:r&&e.push(Lt,n,$o);break;case 4:r===!0?e.push(Lt,n,$o):r!==!1&&e.push(Lt,n,Gt,ee(Ne(r)),qt);break;case 5:isNaN(r)||e.push(Lt,n,Gt,ee(Ne(r)),qt);break;case 6:!isNaN(r)&&1<=r&&e.push(Lt,n,Gt,ee(Ne(r)),qt);break;default:t.sanitizeURL&&(r=""+r),e.push(Lt,n,Gt,ee(Ne(r)),qt)}}else if(Hl(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Lt,ee(n),Gt,ee(Ne(r)),qt)}}}var Nt=M(">"),Bo=M("/>");function Vn(e,t,n){if(t!=null){if(n!=null)throw Error(Z(60));if(typeof t!="object"||!("__html"in t))throw Error(Z(61));t=t.__html,t!=null&&e.push(ee(""+t))}}function Of(e){var t="";return $l.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var yi=M(' selected=""');function xi(e,t,n,r){e.push(pt(n));var o=n=null,l;for(l in t)if(Ke.call(t,l)){var s=t[l];if(s!=null)switch(l){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Qe(e,r,l,s)}}return e.push(Nt),Vn(e,o,n),typeof n=="string"?(e.push(ee(Ne(n))),null):n}var wi=M(`
`),$f=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Uo=new Map;function pt(e){var t=Uo.get(e);if(t===void 0){if(!$f.test(e))throw Error(Z(65,e));t=M("<"+e),Uo.set(e,t)}return t}var Bf=M("<!DOCTYPE html>");function Uf(e,t,n,r,o){switch(t){case"select":e.push(pt("select"));var l=null,s=null;for(c in n)if(Ke.call(n,c)){var a=n[c];if(a!=null)switch(c){case"children":l=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Qe(e,r,c,a)}}return e.push(Nt),Vn(e,s,l),l;case"option":s=o.selectedValue,e.push(pt("option"));var f=a=null,i=null,c=null;for(l in n)if(Ke.call(n,l)){var g=n[l];if(g!=null)switch(l){case"children":a=g;break;case"selected":i=g;break;case"dangerouslySetInnerHTML":c=g;break;case"value":f=g;default:Qe(e,r,l,g)}}if(s!=null)if(n=f!==null?""+f:Of(a),ki(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(yi);break}}else""+s===n&&e.push(yi);else i&&e.push(yi);return e.push(Nt),Vn(e,c,a),a;case"textarea":e.push(pt("textarea")),c=s=l=null;for(a in n)if(Ke.call(n,a)&&(f=n[a],f!=null))switch(a){case"children":c=f;break;case"value":l=f;break;case"defaultValue":s=f;break;case"dangerouslySetInnerHTML":throw Error(Z(91));default:Qe(e,r,a,f)}if(l===null&&s!==null&&(l=s),e.push(Nt),c!=null){if(l!=null)throw Error(Z(92));if(ki(c)&&1<c.length)throw Error(Z(93));l=""+c}return typeof l=="string"&&l[0]===`
`&&e.push(wi),l!==null&&e.push(ee(Ne(""+l))),null;case"input":e.push(pt("input")),f=c=a=l=null;for(s in n)if(Ke.call(n,s)&&(i=n[s],i!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Z(399,"input"));case"defaultChecked":f=i;break;case"defaultValue":a=i;break;case"checked":c=i;break;case"value":l=i;break;default:Qe(e,r,s,i)}return c!==null?Qe(e,r,"checked",c):f!==null&&Qe(e,r,"checked",f),l!==null?Qe(e,r,"value",l):a!==null&&Qe(e,r,"value",a),e.push(Bo),null;case"menuitem":e.push(pt("menuitem"));for(var d in n)if(Ke.call(n,d)&&(l=n[d],l!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(Z(400));default:Qe(e,r,d,l)}return e.push(Nt),null;case"title":e.push(pt("title")),l=null;for(g in n)if(Ke.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":l=s;break;case"dangerouslySetInnerHTML":throw Error(Z(434));default:Qe(e,r,g,s)}return e.push(Nt),l;case"listing":case"pre":e.push(pt(t)),s=l=null;for(f in n)if(Ke.call(n,f)&&(a=n[f],a!=null))switch(f){case"children":l=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Qe(e,r,f,a)}if(e.push(Nt),s!=null){if(l!=null)throw Error(Z(60));if(typeof s!="object"||!("__html"in s))throw Error(Z(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(wi,ee(n)):e.push(ee(""+n)))}return typeof l=="string"&&l[0]===`
`&&e.push(wi),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(pt(t));for(var p in n)if(Ke.call(n,p)&&(l=n[p],l!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Z(399,t));default:Qe(e,r,p,l)}return e.push(Bo),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return xi(e,n,t,r);case"html":return o.insertionMode===0&&e.push(Bf),xi(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return xi(e,n,t,r);e.push(pt(t)),s=l=null;for(i in n)if(Ke.call(n,i)&&(a=n[i],a!=null))switch(i){case"children":l=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":zl(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Hl(i)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Lt,ee(i),Gt,ee(Ne(a)),qt)}return e.push(Nt),Vn(e,s,l),l}}var Hf=M("</"),zf=M(">"),Gf=M('<template id="'),Kf=M('"></template>'),Vf=M("<!--$-->"),Wf=M('<!--$?--><template id="'),Yf=M('"></template>'),Xf=M("<!--$!-->"),Qf=M("<!--/$-->"),Zf=M("<template"),Jf=M('"'),eh=M(' data-dgst="');M(' data-msg="');M(' data-stck="');var th=M("></template>");function Ho(e,t,n){if($(e,Wf),n===null)throw Error(Z(395));return $(e,n),he(e,Yf)}var nh=M('<div hidden id="'),rh=M('">'),ih=M("</div>"),sh=M('<svg aria-hidden="true" style="display:none" id="'),oh=M('">'),lh=M("</svg>"),uh=M('<math aria-hidden="true" style="display:none" id="'),ah=M('">'),ch=M("</math>"),fh=M('<table hidden id="'),hh=M('">'),ph=M("</table>"),dh=M('<table hidden><tbody id="'),gh=M('">'),mh=M("</tbody></table>"),vh=M('<table hidden><tr id="'),yh=M('">'),xh=M("</tr></table>"),wh=M('<table hidden><colgroup id="'),_h=M('">'),Sh=M("</colgroup></table>");function Eh(e,t,n,r){switch(n.insertionMode){case 0:case 1:return $(e,nh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,rh);case 2:return $(e,sh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,oh);case 3:return $(e,uh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,ah);case 4:return $(e,fh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,hh);case 5:return $(e,dh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,gh);case 6:return $(e,vh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,yh);case 7:return $(e,wh),$(e,t.segmentPrefix),$(e,ee(r.toString(16))),he(e,_h);default:throw Error(Z(397))}}function bh(e,t){switch(t.insertionMode){case 0:case 1:return he(e,ih);case 2:return he(e,lh);case 3:return he(e,ch);case 4:return he(e,ph);case 5:return he(e,mh);case 6:return he(e,xh);case 7:return he(e,Sh);default:throw Error(Z(397))}}var Ch=M('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Th=M('$RS("'),Lh=M('","'),Nh=M('")<\/script>'),Ah=M('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),kh=M('$RC("'),Ih=M('","'),Rh=M('")<\/script>'),jh=M('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Mh=M('$RX("'),Dh=M('"'),Fh=M(")<\/script>"),_i=M(","),qh=/[<\u2028\u2029]/g;function Si(e){return JSON.stringify(e).replace(qh,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var xn=Object.assign,Ph=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),Wl=Symbol.for("react.profiler"),Yl=Symbol.for("react.provider"),Xl=Symbol.for("react.context"),Ql=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),Oh=Symbol.for("react.scope"),$h=Symbol.for("react.debug_trace_mode"),Bh=Symbol.for("react.legacy_hidden"),Uh=Symbol.for("react.default_value"),zo=Symbol.iterator;function Ii(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kl:return"Fragment";case Gl:return"Portal";case Wl:return"Profiler";case Vl:return"StrictMode";case Zl:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xl:return(e.displayName||"Context")+".Consumer";case Yl:return(e._context.displayName||"Context")+".Provider";case Ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eu:return t=e.displayName||null,t!==null?t:Ii(e.type)||"Memo";case Zi:t=e._payload,e=e._init;try{return Ii(e(t))}catch{}}return null}var tu={};function Go(e,t){if(e=e.contextTypes,!e)return tu;var n={},r;for(r in e)n[r]=t[r];return n}var $t=null;function pr(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Z(401))}else{if(n===null)throw Error(Z(401));pr(e,n)}t.context._currentValue=t.value}}function nu(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&nu(e)}function ru(e){var t=e.parent;t!==null&&ru(t),e.context._currentValue=e.value}function iu(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Z(402));e.depth===t.depth?pr(e,t):iu(e,t)}function su(e,t){var n=t.parent;if(n===null)throw Error(Z(402));e.depth===n.depth?pr(e,n):su(e,n),t.context._currentValue=t.value}function ir(e){var t=$t;t!==e&&(t===null?ru(e):e===null?nu(t):t.depth===e.depth?pr(t,e):t.depth>e.depth?iu(t,e):su(t,e),$t=e)}var Ko={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Vo(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Ko,e.props=n,e.state=o;var l={queue:[],replace:!1};e._reactInternals=l;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:xn({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Ko.enqueueReplaceState(e,e.state,null),l.queue!==null&&0<l.queue.length)if(t=l.queue,s=l.replace,l.queue=null,l.replace=!1,s&&t.length===1)e.state=t[0];else{for(l=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,l,n,r):a,a!=null&&(o?(o=!1,l=xn({},l,a)):xn(l,a))}e.state=l}else l.queue=null}var Hh={id:1,overflow:""};function Ri(e,t,n){var r=e.id;e=e.overflow;var o=32-Wn(r)-1;r&=~(1<<o),n+=1;var l=32-Wn(t)+o;if(30<l){var s=o-o%5;return l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-Wn(t)+o|n<<o|r,overflow:l+e}}return{id:1<<l|n<<o|r,overflow:e}}var Wn=Math.clz32?Math.clz32:Kh,zh=Math.log,Gh=Math.LN2;function Kh(e){return e>>>=0,e===0?32:31-(zh(e)/Gh|0)|0}function Vh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wh=typeof Object.is=="function"?Object.is:Vh,St=null,Ji=null,Yn=null,ce=null,mn=!1,sr=!1,Sn=0,kt=null,dr=0;function Pt(){if(St===null)throw Error(Z(321));return St}function Wo(){if(0<dr)throw Error(Z(312));return{memoizedState:null,queue:null,next:null}}function es(){return ce===null?Yn===null?(mn=!1,Yn=ce=Wo()):(mn=!0,ce=Yn):ce.next===null?(mn=!1,ce=ce.next=Wo()):(mn=!0,ce=ce.next),ce}function ts(){Ji=St=null,sr=!1,Yn=null,dr=0,ce=kt=null}function ou(e,t){return typeof t=="function"?t(e):t}function Yo(e,t,n){if(St=Pt(),ce=es(),mn){var r=ce.queue;if(t=r.dispatch,kt!==null&&(n=kt.get(r),n!==void 0)){kt.delete(r),r=ce.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return ce.memoizedState=r,[r,t]}return[ce.memoizedState,t]}return e=e===ou?typeof t=="function"?t():t:n!==void 0?n(t):t,ce.memoizedState=e,e=ce.queue={last:null,dispatch:null},e=e.dispatch=Yh.bind(null,St,e),[ce.memoizedState,e]}function Xo(e,t){if(St=Pt(),ce=es(),t=t===void 0?null:t,ce!==null){var n=ce.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!Wh(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),ce.memoizedState=[e,t],e}function Yh(e,t,n){if(25<=dr)throw Error(Z(301));if(e===St)if(sr=!0,e={action:n,next:null},kt===null&&(kt=new Map),n=kt.get(t),n===void 0)kt.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Xh(){throw Error(Z(394))}function Pn(){}var Qo={readContext:function(e){return e._currentValue},useContext:function(e){return Pt(),e._currentValue},useMemo:Xo,useReducer:Yo,useRef:function(e){St=Pt(),ce=es();var t=ce.memoizedState;return t===null?(e={current:e},ce.memoizedState=e):t},useState:function(e){return Yo(ou,e)},useInsertionEffect:Pn,useLayoutEffect:function(){},useCallback:function(e,t){return Xo(function(){return e},t)},useImperativeHandle:Pn,useEffect:Pn,useDebugValue:Pn,useDeferredValue:function(e){return Pt(),e},useTransition:function(){return Pt(),[!1,Xh]},useId:function(){var e=Ji.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Wn(e)-1)).toString(32)+t;var n=Xn;if(n===null)throw Error(Z(404));return t=Sn++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Pt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Z(407));return n()}},Xn=null,Ei=$l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qh(e){return console.error(e),null}function vn(){}function Zh(e,t,n,r,o,l,s,a,f){var i=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:i,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?Qh:o,onAllReady:l===void 0?vn:l,onShellReady:s===void 0?vn:s,onShellError:a===void 0?vn:a,onFatalError:f===void 0?vn:f},n=or(t,0,null,n,!1,!1),n.parentFlushed=!0,e=ns(t,e,null,n,c,tu,null,Hh),i.push(e),t}function ns(e,t,n,r,o,l,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var f={node:t,ping:function(){var i=e.pingedTasks;i.push(f),i.length===1&&au(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:l,context:s,treeContext:a};return o.add(f),f}function or(e,t,n,r,o,l){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:l}}function En(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function lr(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,Ul(e.destination,t)):(e.status=1,e.fatalError=t)}function Zo(e,t,n,r,o){for(St={},Ji=t,Sn=0,e=n(r,o);sr;)sr=!1,Sn=0,dr+=1,ce=null,e=n(r,o);return ts(),e}function Jo(e,t,n,r){var o=n.render(),l=r.childContextTypes;if(l!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in l))throw Error(Z(108,Ii(r)||"Unknown",a));r=xn({},s,n)}t.legacyContext=r,tt(e,t,o),t.legacyContext=s}else tt(e,t,o)}function el(e,t){if(e&&e.defaultProps){t=xn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ji(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=Go(n,t.legacyContext);var l=n.contextType;l=new n(r,typeof l=="object"&&l!==null?l._currentValue:o),Vo(l,n,r,o),Jo(e,t,l,n)}else{l=Go(n,t.legacyContext),o=Zo(e,t,n,r,l);var s=Sn!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Vo(o,n,r,l),Jo(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=Ri(r,1,0);try{tt(e,t,o)}finally{t.treeContext=r}}else tt(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,l=Uf(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=Ff(s,n,r),Mi(e,t,l),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(Hf,ee(n),zf)}o.lastPushedText=!1}else{switch(n){case Bh:case $h:case Vl:case Wl:case Kl:tt(e,t,r.children);return;case Jl:tt(e,t,r.children);return;case Oh:throw Error(Z(343));case Zl:e:{n=t.blockedBoundary,o=t.blockedSegment,l=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},f=or(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(f),o.lastPushedText=!1;var i=or(e,0,null,o.formatContext,!1,!1);i.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=i;try{if(Mi(e,t,r),i.lastPushedText&&i.textEmbedded&&i.chunks.push(Qi),i.status=1,ur(a,i),a.pendingTasks===0)break e}catch(c){i.status=4,a.forceClientRender=!0,a.errorDigest=En(e,c)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=ns(e,l,n,f,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ql:if(r=Zo(e,t,n.render,r,o),Sn!==0){n=t.treeContext,t.treeContext=Ri(n,1,0);try{tt(e,t,r)}finally{t.treeContext=n}}else tt(e,t,r);return;case eu:n=n.type,r=el(n,r),ji(e,t,n,r,o);return;case Yl:if(o=r.children,n=n._context,r=r.value,l=n._currentValue,n._currentValue=r,s=$t,$t=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:l,value:r},t.context=r,tt(e,t,o),e=$t,e===null)throw Error(Z(403));r=e.parentValue,e.context._currentValue=r===Uh?e.context._defaultValue:r,e=$t=e.parent,t.context=e;return;case Xl:r=r.children,r=r(n._currentValue),tt(e,t,r);return;case Zi:o=n._init,n=o(n._payload),r=el(n,r),ji(e,t,n,r,void 0);return}throw Error(Z(130,n==null?n:typeof n,""))}}function tt(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Ph:ji(e,t,n.type,n.props,n.ref);return;case Gl:throw Error(Z(257));case Zi:var r=n._init;n=r(n._payload),tt(e,t,n);return}if(ki(n)){tl(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=zo&&n[zo]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);tl(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=qo(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=qo(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function tl(e,t,n){for(var r=n.length,o=0;o<r;o++){var l=t.treeContext;t.treeContext=Ri(l,r,o);try{Mi(e,t,n[o])}finally{t.treeContext=l}}}function Mi(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,l=t.context;try{return tt(e,t,n)}catch(f){if(ts(),typeof f=="object"&&f!==null&&typeof f.then=="function"){n=f;var s=t.blockedSegment,a=or(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=ns(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=l,ir(l)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=l,ir(l),f}}function Jh(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,uu(this,t,e)}function lu(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Z(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return lu(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function ur(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&ur(e,n)}else e.completedSegments.push(t)}function uu(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Z(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=vn,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&ur(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Jh,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ur(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function au(e){if(e.status!==2){var t=$t,n=Ei.current;Ei.current=Qo;var r=Xn;Xn=e.responseState;try{var o=e.pingedTasks,l;for(l=0;l<o.length;l++){var s=o[l],a=e,f=s.blockedSegment;if(f.status===0){ir(s.context);try{tt(a,s,s.node),f.lastPushedText&&f.textEmbedded&&f.chunks.push(Qi),s.abortSet.delete(s),f.status=1,uu(a,s.blockedBoundary,f)}catch(v){if(ts(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var i=s.ping;v.then(i,i)}else{s.abortSet.delete(s),f.status=4;var c=s.blockedBoundary,g=v,d=En(a,g);if(c===null?lr(a,g):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}o.splice(0,l),e.destination!==null&&rs(e,e.destination)}catch(v){En(e,v),lr(e,v)}finally{Xn=r,Ei.current=n,n===Qo&&ir(t)}}}function On(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,$(t,Gf),$(t,e.placeholderPrefix),e=ee(r.toString(16)),$(t,e),he(t,Kf);case 1:n.status=2;var o=!0;r=n.chunks;var l=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];l<o.index;l++)$(t,r[l]);o=gr(e,t,o)}for(;l<r.length-1;l++)$(t,r[l]);return l<r.length&&(o=he(t,r[l])),o;default:throw Error(Z(390))}}function gr(e,t,n){var r=n.boundary;if(r===null)return On(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,he(t,Xf),$(t,Zf),r&&($(t,eh),$(t,ee(Ne(r))),$(t,Jf)),he(t,th),On(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,l=o.nextSuspenseID++;o=M(o.boundaryPrefix+l.toString(16)),r=r.id=o,Ho(t,e.responseState,r),On(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Ho(t,e.responseState,r.id),On(e,t,n);else{if(he(t,Vf),n=r.completedSegments,n.length!==1)throw Error(Z(391));gr(e,t,n[0])}return he(t,Qf)}function nl(e,t,n){return Eh(t,e.responseState,n.formatContext,n.id),gr(e,t,n),bh(t,n.formatContext)}function rl(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)cu(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,$(t,e.startInlineScript),e.sentCompleteBoundaryFunction?$(t,kh):(e.sentCompleteBoundaryFunction=!0,$(t,Ah)),r===null)throw Error(Z(395));return n=ee(n.toString(16)),$(t,r),$(t,Ih),$(t,e.segmentPrefix),$(t,n),he(t,Rh)}function cu(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Z(392));return nl(e,t,r)}return nl(e,t,r),e=e.responseState,$(t,e.startInlineScript),e.sentCompleteSegmentFunction?$(t,Th):(e.sentCompleteSegmentFunction=!0,$(t,Ch)),$(t,e.segmentPrefix),o=ee(o.toString(16)),$(t,o),$(t,Lh),$(t,e.placeholderPrefix),$(t,o),he(t,Nh)}function rs(e,t){Je=new Uint8Array(512),et=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){gr(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)$(t,r[n]);n<r.length&&he(t,r[n])}var o=e.clientRenderedBoundaries,l;for(l=0;l<o.length;l++){var s=o[l];r=t;var a=e.responseState,f=s.id,i=s.errorDigest,c=s.errorMessage,g=s.errorComponentStack;if($(r,a.startInlineScript),a.sentClientRenderFunction?$(r,Mh):(a.sentClientRenderFunction=!0,$(r,jh)),f===null)throw Error(Z(395));$(r,f),$(r,Dh),(i||c||g)&&($(r,_i),$(r,ee(Si(i||"")))),(c||g)&&($(r,_i),$(r,ee(Si(c||"")))),g&&($(r,_i),$(r,ee(Si(g)))),he(r,Fh)}o.splice(0,l);var d=e.completedBoundaries;for(l=0;l<d.length;l++)rl(e,t,d[l]);d.splice(0,l),jo(t),Je=new Uint8Array(512),et=0;var p=e.partialBoundaries;for(l=0;l<p.length;l++){var v=p[l];e:{o=e,s=t;var w=v.completedSegments;for(a=0;a<w.length;a++)if(!cu(o,s,v,w[a])){a++,w.splice(0,a);var E=!1;break e}w.splice(0,a),E=!0}if(!E){e.destination=null,l++,p.splice(0,l);return}}p.splice(0,l);var C=e.completedBoundaries;for(l=0;l<C.length;l++)rl(e,t,C[l]);C.splice(0,l)}finally{jo(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function il(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return lu(r,e,t)}),n.clear(),e.destination!==null&&rs(e,e.destination)}catch(r){En(e,r),lr(e,r)}}Wi.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,l,s=new Promise(function(c,g){l=c,o=g}),a=Zh(e,Mf(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),Df(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,l,function(){var c=new ReadableStream({type:"bytes",pull:function(g){if(a.status===1)a.status=2,Ul(g,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=g;try{rs(a,g)}catch(d){En(a,d),lr(a,d)}}},cancel:function(){il(a)}},{highWaterMark:0});c.allReady=s,n(c)},function(c){s.catch(function(){}),r(c)},o);if(t&&t.signal){var f=t.signal,i=function(){il(a,f.reason),f.removeEventListener("abort",i)};f.addEventListener("abort",i)}au(a)})};Wi.version="18.2.0";var Wt,fu;Wt=Vt,fu=Wi;Bt.version=Wt.version;Bt.renderToString=Wt.renderToString;Bt.renderToStaticMarkup=Wt.renderToStaticMarkup;Bt.renderToNodeStream=Wt.renderToNodeStream;Bt.renderToStaticNodeStream=Wt.renderToStaticNodeStream;Bt.renderToReadableStream=fu.renderToReadableStream;function ep({mailModalData:e,setMailModalData:t,showMailModal:n,closeMailModal:r,allowedPersons:o,handleRefrence:l,handleParaph:s,tab:a,mailModalRefrenceData:f,setMailModalRefrenceData:i,handleUploadFile:c,mailModalParaphData:g,setMailModalParaphData:d}){var pe;Y.useState(!1);const[p,v]=Y.useState(""),w=o.map(q=>({value:q.id,label:`${q.first_name} ${q.last_name} - ${q.role.title}`}));w.unshift({label:"-",value:null});const E=["png","jpg","jpeg","webp"],C={A4:{type:"A4",width:"210mm",height:"297mm",padding:"15mm",headerHeight:"40mm",pageHeight:"170mm",footerHeight:"70mm",logoMarginBottom:"5mm",logoImgMaxWidth:"50mm",logoImgMaxHeight:"50mm",signatureTextMarginLeft:"15mm",signatureTextMarginRight:"115mm",signatureImageMaxWidth:"50mm",signatureImageMaxheight:"50mm",dateWidth:"40mm"},A5:{type:"A5",width:"148mm",height:"210mm",padding:"2mm",headerHeight:"20mm",pageHeight:"115mm",footerHeight:"40mm",logoMarginBottom:"10mm",logoImgMaxWidth:"30mm",logoImgMaxHeight:"30mm",signatureTextMarginLeft:"9mm",signatureTextMarginRight:"80mm",signatureImageMaxWidth:"33mm",signatureImageMaxheight:"33mm",dateWidth:"20mm"}},N=()=>S.jsx("div",{children:Object.keys(e.descriptions).map(q=>S.jsx(zc,{created_date:e.created_at,mail_id:e.id,page:q,recive_name:e.recive_user_first_name+" "+e.recive_user_last_name,recive_role:e.recive_user_role_title,mail_title:e.title,mail_description:e.descriptions[q],sender_name:e.user_first_name+" "+e.user_last_name,sender_role:e.user_role_title,signature:`http://localhost:8000/${e.signature}`,pageDetails:C[e.type]}))}),k=()=>{let q=window.open("","_blank"),H=Bt.renderToStaticMarkup(S.jsx(N,{}));q.document.write(H),q.document.close()};Y.useEffect(()=>{i(q=>({...q,mail_id:e.id})),d(q=>({...q,mail_id:e.id}))},[]);const F=(q,H)=>{const{name:ve,value:te,type:ne}=q.target;let re=te;if(ne==="file"){const ie=q.target.files[0];ie&&c(ie,f,i)}else ve=="recive_id"&&(re=parseInt(te,10)),i(ie=>({...ie,[ve]:re}))},B=q=>{const{name:H,value:ve}=q.target;d(te=>({...te,[H]:ve}))},X=q=>{i(H=>({...H,files:H.files.filter((ve,te)=>te!==q)}))},U=q=>{const H=q.split(".");return H.length>1?H[H.length-1].toLowerCase():null};return S.jsx("div",{children:S.jsxs(gt,{show:n,onHide:r,size:"xl",children:[S.jsx(gt.Header,{className:"d-flex justify-content-center ",children:S.jsxs(gt.Title,{className:"bold",children:["نامه شماره ",e.id]})}),S.jsx(gt.Body,{children:S.jsxs(Se,{children:[S.jsx(Se.Group,{className:"mb-3",children:S.jsx("div",{className:"p-4",children:"از "+e.user_first_name+" "+e.user_last_name+" به "+e.recive_user_first_name+" "+e.recive_user_last_name})}),S.jsx(Se.Group,{className:"mb-3",children:S.jsx("div",{className:"p-4",children:"موضوع : "+e.title})}),S.jsx(Se.Group,{className:"mb-3",children:Object.keys(e.descriptions).map(q=>S.jsxs("div",{children:["صفحه ",q,S.jsx("br",{}),S.jsx("div",{className:"overflow-hidden border border-dark p-3",dangerouslySetInnerHTML:{__html:e.descriptions[q]}}),S.jsx("br",{})]},q))}),e.labels&&e.labels.length>0&&S.jsxs(Se.Group,{className:"mb-3",children:[S.jsx("div",{className:"p-4",children:"برچسب ها : "}),e.labels.map((q,H)=>S.jsx(je,{className:"m-1",color:"light",size:"sm",active:!0,children:q},`label-${H}`))]}),e.files&&e.files.length>0&&S.jsxs(Se.Group,{className:"mb-3",children:[S.jsx("div",{className:"p-4",children:"پیوست ها : "}),e.files.map((q,H)=>S.jsx("a",{href:`http://localhost:8000/${q}`,target:"_blank",rel:"noopener noreferrer",children:E.includes(U(q))?S.jsx("img",{className:"m-3 border border-dark",src:`http://localhost:8000/${q}`,height:"100px",alt:"Preview"},`file-${H}`):S.jsxs(bi,{className:"m-3",color:(()=>{switch(U(q)){case"pdf":return"danger";case"docx":return"primary";case"xlsx":return"success";case"svg":return"danger";default:return"secondary"}})(),textColor:"white",shape:"rounded",size:"xl",children:[" ",U(q)," "]},`file-${H}`)},`a-${H}`))]}),p=="reference"&&S.jsxs(S.Fragment,{children:["ارجاع به",S.jsx(Qn,{onChange:F,name:"recive_id",options:w}),S.jsxs(Se.Group,{className:" mt-2 mb-3",controlId:"exampleForm.ControlInput2",children:[S.jsx(Se.Label,{children:" متن ارجاع"}),S.jsx(Se.Control,{as:"textarea",name:"description",rows:3,onChange:F})]}),S.jsxs("div",{className:"mb-3 mt-3",children:[S.jsx(ol,{htmlFor:"file",children:"انتخاب فایل"}),S.jsx(mt,{children:S.jsx(xe,{md:"9",children:S.jsx(Di,{type:"file",className:"mt-3",name:"files",onChange:F})})}),f.files&&((pe=f.files)==null?void 0:pe.map((q,H)=>S.jsxs("div",{style:{position:"relative",display:"inline-block",marginTop:"1rem"},children:[S.jsx("a",{href:`http://localhost:8000/${q}`,target:"_blank",rel:"noopener noreferrer",children:E.includes(U(q))?S.jsx("img",{className:"m-3 border border-dark",src:`http://localhost:8000/${q}`,height:"100px",alt:"Preview"},`file-${H}`):S.jsxs(bi,{className:"m-3",color:(()=>{switch(U(q)){case"pdf":return"danger";case"docx":return"primary";case"xlsx":return"success";case"svg":return"danger";default:return"secondary"}})(),textColor:"white",shape:"rounded",size:"xl",style:{height:"100px",width:"100px"},children:[" ",U(q)," "]},`file-${H}`)},`a-${H}`),S.jsx(je,{style:{position:"absolute",top:"0",left:"0"},color:"danger",variant:"ghost",size:"sm",shape:"rounded-pill",onClick:()=>X(H),children:"X"},`remove-${H}`)]},`container-${H}`))),S.jsx("br",{})]}),S.jsx(Se.Group,{className:" mt-2 mb-3",children:S.jsxs(mt,{children:[S.jsx(je,{shape:"rounded-pill",color:"danger",onClick:()=>v(""),className:"col-md-1 mt-1 mx-auto",children:"لفو"}),S.jsx(je,{shape:"rounded-pill",color:"success",onClick:l,className:"col-md-1 mt-1 mx-auto",children:"تایید"})]})})]}),p=="paraph"&&S.jsxs(S.Fragment,{children:[S.jsxs(Se.Group,{className:" mt-2 mb-3",controlId:"exampleForm.ControlInput2",children:[S.jsx(Se.Label,{children:" متن پاراف"}),S.jsx(Se.Control,{as:"textarea",name:"description",rows:3,onChange:B})]}),S.jsx(Se.Group,{className:" mt-2 mb-3",children:S.jsxs(mt,{children:[S.jsx(je,{shape:"rounded-pill",color:"danger",onClick:()=>v(""),className:"col-md-1 mt-1 mx-auto",children:"لفو"}),S.jsx(je,{shape:"rounded-pill",color:"success",onClick:s,className:"col-md-1 mt-1 mx-auto",children:"تایید"})]})})]}),p==""&&a==="recive"&&S.jsxs(mt,{className:"align-items-center",children:[S.jsx(je,{shape:"rounded-pill",color:"light",onClick:()=>v("reference"),className:"col-md-1 mt-1 mx-auto",children:"ارجاع"}),S.jsx(je,{shape:"rounded-pill",color:"light",onClick:()=>v("paraph"),className:"col-md-1 mt-1 mx-auto",children:"پاراف"})]})]})}),S.jsxs(gt.Footer,{children:[S.jsx(je,{shape:"rounded-pill",color:"primary",onClick:k,className:" mt-1 d-block mx-auto",children:"چاپ"}),S.jsx(je,{shape:"rounded-pill",color:"secondary",onClick:r,className:" mt-1 d-block mx-auto",children:"بستن"})]})]})})}function sl({user:e,tab:t,data:n,setData:r,page:o,setPage:l,setMaxPage:s,maxPage:a,fetchData:f,setLoading:i,filterData:c,setFilterData:g}){var Ie,De,we;const[d,p]=Y.useState(!1),[v,w]=Y.useState(!1),[E,C]=Y.useState({title:"",description:""}),[N,k]=Y.useState(),[F,B]=Y.useState(),[X,U]=Y.useState({user_id:e.id}),pe=ec(),q=Qa(O=>O.unreadMailNotification),[H,ve]=Y.useState([]),[te,ne]=Y.useState([]),[re,ie]=Y.useState(!1),[Q,ge]=Y.useState({}),[fe,oe]=Y.useState([]),[z,K]=Y.useState([]),[ye,Ve]=Y.useState([]),[rt,lt]=Y.useState([]),[Et,It]=Y.useState(!1);Y.useEffect(()=>{ge(c)},[]),Y.useEffect(()=>{re&&(te.length==0&&Ut(),z.length==0&&mr(),ye.length==0&&Yt())},[re]);const bn=O=>{at.post("/mail/allowedPersons/"+e.id).then(P=>{ve(P.data),O(!0),It(!1)}).catch(P=>{console.log(P.response)})},Ut=()=>{at.get("/labels").then(O=>{ne(O.data.map(P=>({value:P.id,text:`${P.title}`})))}).catch(O=>{console.log(O.response)})},mr=()=>{at.post("/mail/senderPersons/"+e.id).then(O=>{K(O.data.map(P=>({value:P.id,text:`${P.first_name} ${P.last_name}`})))}).catch(O=>{console.log(O.response)})},Yt=()=>{at.post("/mail/reciverPersons/"+e.id).then(O=>{Ve(O.data.map(P=>({value:P.id,text:`${P.first_name} ${P.last_name}`})))}).catch(O=>{console.log(O)})},Cn=(O,P,J)=>{const le=P.files?[...P.files]:[];console.log(O);const be=new FormData;be.append("file",O),at.post("/uploadFile",be).then(jt=>{console.log(" uploadFile :: ",jt.data),le[le.length]=jt.data,J(Re=>({...Re,files:le}))}).catch(jt=>{console.log(jt),dt.fire({icon:"error",title:"error",text:jt.response.data.message})})},it=O=>{at.post("/mail/showMail/"+O).then(P=>{console.log(P),C(P.data[0]),Xt()}).catch(P=>{console.log(P)})},Xt=()=>{te.length==0&&Ut(),t=="recive"?bn(w):w(!0)},Me=()=>{B(),w(!1)},Rt=()=>{te.length==0&&Ut(),It(!0),bn(p)},de=()=>{p(!1),U({user_id:e.id})},Qt=(O,P)=>{it(O.id),P=="recive"&&O.status==0&&at.post("/mail/updateStatusMail/"+O.id).then(J=>{f(),pe({type:"set",unreadMailNotification:q-1})}).catch(J=>{console.log(J.response)})},bt=()=>{const O=new FormData;Object.entries(X).forEach(([P,J])=>{P==="files"&&Array.isArray(J)?J.forEach((le,be)=>{le!=""&&O.append(`uploadedFile[${be}]`,le)}):P==="recive_id"&&Array.isArray(J)?J.forEach((le,be)=>{O.append(`recive_id[${be}]`,le)}):P==="labels"&&Array.isArray(J)?J.forEach((le,be)=>{O.append(`labels[${be}]`,le)}):P==="descriptions"&&Array.isArray(J)?J.forEach((le,be)=>{O.append(`descriptions[${be}]`,le)}):O.append(P,J)}),at.post("mail/store/"+e.id,O).then(P=>{console.log(P),f(),dt.fire({icon:"success",title:"success",text:P.data.msg}).then(()=>de())}).catch(P=>{console.log(P),dt.fire({icon:"error",title:"Error",text:P.response.data.message})})},j=()=>{if(F.recive_id&&F.description){const O=new FormData;Object.entries(F).forEach(([P,J])=>{P==="files"&&Array.isArray(J)?J.forEach((le,be)=>{le!=""&&O.append(`files[${be}]`,le)}):(P=="recive_id"||P=="mail_id"||P=="description")&&O.append(P,J)}),at.post("reference/store/"+e.id,O).then(P=>{console.log(P),P.data=="خطا"?dt.fire({icon:"error",title:"error",text:"نامه قبلا ارجاع داده شده"}).then(()=>Me()):dt.fire({icon:"success",title:"success",text:P.data.msg}).then(()=>Me())}).catch(P=>{console.log(P),dt.fire({icon:"error",title:"Error",text:P.response.data.message})})}else dt.fire({icon:"error",title:"Error",text:"فیلد های ارجاع اجباری هستند"}),f()},W=()=>{at.post("mail/paraph/"+N.mail_id,N.description).then(O=>{console.log(O.data)})},se=(O,P)=>{let J="";return O==="send"||P==1?J="table-secondary pointer":J="pointer",J},ue=O=>{const{name:P,value:J}=O.target;ge(le=>({...le,[P]:J}))},me=()=>{i(!0);const O={};let P=[],J=[];fe.length!=0&&fe.forEach(le=>{P.push(le.value)}),rt.length!=0&&rt.forEach(le=>{J.push(le.value)}),Object.entries(Q).forEach(([le,be])=>{be!==""&&(O[le]=be)}),J.length!==0&&(O.id=J),P.length!==0&&(O.labels=P),g({...O})};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{"aria-label":"Toolbar with Button groups",children:[S.jsxs(mt,{children:[S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"1",className:"d-flex justify-content-center",children:S.jsx(je,{color:"warning",shape:"rounded-pill",...re?{}:{variant:"outline"},onClick:()=>ie(!re),children:"فیلتر"})})]}),S.jsxs(tc,{visible:re,children:[S.jsxs(mt,{className:"mt-3",children:[S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"4",children:S.jsxs(fn,{className:"mb-4 flex-nowrap",children:[S.jsx(hn,{id:"filter_text",children:"متن"}),S.jsx(Di,{name:"text",value:(((Ie=Q==null?void 0:Q.text)==null?void 0:Ie.length)??0)!==0?Q.text:"",onChange:ue})]})}),S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"3",children:S.jsxs(fn,{className:"mb-4 flex-nowrap",children:[S.jsx(hn,{id:"filter_name",children:t=="recive"?"فرستنده":"دریافت کننده"}),S.jsx(Zn,{name:"name",options:t=="recive"?ye:z,onChange:lt,placeholder:"جستجو کنید",selectAllLabel:"انتخاب همه",virtualScroller:!0})]})})]}),S.jsxs(mt,{className:"mt-3",children:[S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"3",children:S.jsxs(fn,{className:"mb-4 flex-nowrap",children:[S.jsx(hn,{children:"وضعیت خوانده شده"}),S.jsx(Qn,{onChange:ue,name:"status",value:(((De=Q==null?void 0:Q.status)==null?void 0:De.length)??0)!==0?Q.status:"",options:[{label:"-",value:""},{label:"مشاهده شده ها",value:"1"},{label:"مشاهده نشده ها",value:"0"}]})]})}),S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"2",children:S.jsxs(fn,{className:"mb-4 flex-nowrap",children:[S.jsx(hn,{id:"filter_files",children:"پیوست"}),S.jsx(Qn,{onChange:ue,name:"files",value:(((we=Q==null?void 0:Q.files)==null?void 0:we.length)??0)!==0?Q.files:"",options:[{label:"-",value:""},{label:"دارد",value:"1"},{label:"ندارد",value:"0"}]})]})}),S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"3 ",children:S.jsxs(fn,{className:"mb-4 flex-nowrap",children:[S.jsx(hn,{id:"filter_label",children:"برچسب"}),S.jsx(Zn,{name:"label",options:te,onChange:oe,placeholder:"جستجو کنید",selectAllLabel:"انتخاب همه",virtualScroller:!0})]})})]}),S.jsxs(mt,{className:"mt-3",children:[S.jsx(xe,{md:"5"}),S.jsx(xe,{md:"3",className:"d-flex justify-content-center",children:S.jsx(je,{color:"primary",shape:"rounded-pill",className:"text-nowrap",onClick:me,size:"sm",children:"اعمال فیلتر"})}),S.jsx(xe,{md:"1"})]})]})]}),S.jsx("br",{}),S.jsxs(Za,{responsive:!0,className:"text-center",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"col-1user_id",children:[S.jsx("th",{className:"text-center col-4 font-weight-bold",children:"موضوع"}),S.jsx("th",{className:"text-center col-4 font-weight-bold",children:"تاریخ"}),t=="recive"?S.jsx("th",{className:"text-center col-4 font-weight-bold",children:"فرستنده"}):S.jsx("th",{className:"text-center col-4 font-weight-bold",children:"گیرنده"})]})}),S.jsx("tbody",{children:n&&n.map(O=>S.jsxs("tr",{onClick:()=>Qt(O,t),className:se(t,O.status),children:[S.jsx("td",{children:S.jsx("p",{className:"link-dark pointer",children:O.title})}),S.jsx("td",{children:ll(O.created_at,"YYYY-MM-DD HH:mm:ss").locale("fa").format("dddd D MMMM HH:mm YYYY")}),t==="recive"?S.jsx("td",{children:O.user.first_name+" "+O.user.last_name+" - "+O.user.role.title}):S.jsx("td",{children:O.recive_user.first_name+" "+O.recive_user.last_name+" - "+O.recive_user.role.title})]},O.id))})]}),S.jsxs(mt,{className:"mt-2 mb-4",children:[S.jsx(xe,{md:"1"}),S.jsx(xe,{md:"5",className:"d-flex justify-content-center",children:S.jsx(nc,{color:"success",variant:"outline",shape:"rounded-pill",onClick:Rt,loading:Et,children:" + ایجاد نامه "})})]}),d&&S.jsx(Uc,{showCreateModal:d,closeCreateModal:de,allowedPersons:H,labels:te,storeMail:bt,setCreateModalData:U,createModalData:X,handleUploadFile:Cn}),v&&S.jsx(ep,{mailModalData:E,setMailModalData:C,showMailModal:v,closeMailModal:Me,allowedPersons:H,handleRefrence:j,handleParaph:W,tab:t,mailModalRefrenceData:F,setMailModalRefrenceData:B,handleUploadFile:Cn,mailModalParaphData:N,setMailModalParaphData:k}),S.jsx(rc,{align:"center",activePage:o,pages:a,onActivePageChange:l})]})}function cp(){const[e,t]=Y.useState("recive"),[n,r]=Y.useState([]),[o,l]=Y.useState(1),[s,a]=Y.useState(1),[f,i]=Y.useState(!0),[c,g]=Y.useState({}),[d,p]=Y.useState({id:localStorage.getItem("user_id"),role_id:localStorage.getItem("role_id"),first_name:localStorage.getItem("first_name"),last_name:localStorage.getItem("last_name")}),v=async()=>{let C={},N="";e=="recive"?N="/mail/reciveMails":N="/mail/sendMail",console.log(c),C={url:N,data:{page:o,...c}},at.post(C.url,C.data).then(k=>{r(k.data.mail.data),a(k.data.mail.last_page),i(!1)}).catch(k=>{console.log(k.response),i(!1)})};Y.useEffect(()=>{i(!0),v()},[e,o,d,c]);const w=C=>{C!=e&&(i(!0),l(1),t(C),g({}))};Y.useEffect(()=>{f?dt.fire({title:"درحال پردازش ... ",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{dt.showLoading()}}):dt.close()},[f]);const E={user:d,tab:e,data:n,setData:r,page:o,setPage:l,setMaxPage:a,maxPage:s,fetchData:v,setLoading:i,filterData:c,setFilterData:g};return S.jsx("div",{className:"row justify-content-center mt-5",children:S.jsx("div",{className:"col-md-12",children:S.jsx("div",{className:"card",children:S.jsxs(Ja,{defaultActiveKey:"recive",id:"fill-tab-example",className:"mb-3",fill:!0,onSelect:w,children:[S.jsx(ks,{eventKey:"recive",title:"نامه های دریافتی",children:S.jsx(sl,{...E})}),S.jsx(ks,{eventKey:"send",title:"نامه های ارسالی",children:S.jsx(sl,{...E})})]})})})})}export{cp as default};
